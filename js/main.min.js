"use strict";function _createForOfIteratorHelper(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,r=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){r=!0,c=e},f:function(){try{i||null==t.return||t.return()}finally{if(r)throw c}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function eventCheckboxNameplate(e,n,t){function a(e,n,t,a,o){var c;c="сategory"===a?"Выбранная категория":"Выбранный цвет",e.insertAdjacentHTML(n,'<div class="section-catalog__header-nameplate section-catalog__header-nameplate-'.concat(a,'" id="nameplate-').concat(t,'"><span class="section-catalog__header-nameplate-').concat(a,'-desc" role="note" aria-label="').concat(c,'">').concat(o,'</span><button class="section-catalog__header-nameplate-btn" aria-label="Закрыть выбранный фильтр" id="close-nameplate-').concat(t,'"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.5999 8.40002L8.3999 15.6" stroke="#666666" stroke-linecap="round" stroke-linejoin="round"/><path d="M8.3999 8.40002L15.5999 15.6" stroke="#666666" stroke-linecap="round" stroke-linejoin="round"/></svg></button></div>')),document.getElementById("close-nameplate-".concat(t)).addEventListener("click",(function(){document.getElementById("nameplate-".concat(t)).remove(),document.getElementById("checkbox-".concat(t)).checked=!1}))}document.querySelectorAll(e).forEach((function(e){var o=parseInt(e.querySelector("input").id.replace(/[^\d]/g,"")),c=e.querySelector("input").name,i=e.querySelector("input").value;e.querySelector("input").checked&&a(n,t,o,c,i),e.querySelector("input").addEventListener("change",(function(e){1==e.currentTarget.checked?a(n,t,o,c,i):document.getElementById("nameplate-".concat(o)).remove()}))}))}function elemVisible(e,n,t){e.style.display=t,e.classList.add(n)}function elemHidden(e,n,t){e.classList.remove(n),e.classList.add(t),setTimeout((function(){e.style.display="none",e.classList.remove(t)}),400)}function popupClose(e,n){e.classList.add(n),setTimeout((function(){e.style.display="none",e.classList.remove(n)}),400)}function createBtnAndHidingItem(e,n,t,a,o){document.querySelectorAll(".".concat(n)).forEach((function(n){if(n.children.length>e){var t=n.children.length,c=t-e,i=Array.from(n.children).slice(t-c,t);i.forEach((function(e){e.classList.add("".concat(o))})),n.insertAdjacentHTML("beforeend",'<button class="'.concat(a,'">+ ещё ').concat(i.length,"</button>"))}})),document.querySelectorAll(".".concat(a)).forEach((function(a){a.addEventListener("click",(function(c){var i=c.currentTarget.closest(".".concat(n));if(a.classList.contains("".concat(o))){a.classList.remove("".concat(o)),a.textContent="Показать все";var r=i.children.length,l=r-e;Array.from(i.children).slice(r-l,r-1).forEach((function(e){e.classList.add("".concat(o))}))}else a.classList.add("".concat(o)),a.textContent="Свернуть",i.querySelectorAll(".".concat(t)).forEach((function(e){e.classList.remove("".concat(o))}))}))}))}function select(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=document.createElement("div"),o=document.createElement("button"),c=document.createElement("div");function i(e){e.insertAdjacentHTML("beforeend",'<svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.65674 5.80521L10.5593 0.902607L11.3136 1.65685L5.65674 7.31371L-0.000115871 1.65685L0.754131 0.902607L5.65674 5.80521Z" fill="#A65CF0"/></svg>')}function r(e,n,t){e.style.display=t,e.classList.add(n)}function l(e,n,t){e.classList.remove(n),e.classList.add(t),setTimeout((function(){e.style.display="none",e.classList.remove(t)}),400)}return a.classList.add(n.classContainer),o.classList.add(n.classSelect.main),c.classList.add(n.classDropdown.main),c.style.display="none",o.textContent=n.name,o.name="Фильтр",i(o),o.addEventListener("click",(function(){e=o.textContent,"none"===c.style.display?(o.classList.add(n.classSelect.active),r(c,n.classDropdown.open,"flex")):(o.classList.remove(n.classSelect.active),l(c,n.classDropdown.open,n.classDropdown.close))})),document.body.addEventListener("click",(function(e){"none"!==c.style.display&&(c.contains(e.target)||o.contains(e.target)||(o.classList.remove(n.classSelect.active),l(c,n.classDropdown.open,n.classDropdown.close)))})),t.forEach((function(t){var a=document.createElement("button");a.classList.add(t.class),a.textContent=t.name,a.value=t.name,a.addEventListener("click",(function(){o.textContent=a.textContent,i(o),a.textContent=e,o.classList.remove(n.classSelect.active),l(c,n.classDropdown.open,n.classDropdown.close)})),c.append(a)})),a.append(o,c),a}var classAnimationVisible="animation-visible",classAnimationHidden="animation-hidden",classAnimationIcon="animation-icon",classAnimationDropdownOpen="animation-dropdown-open",classAnimationDropdownClose="animation-dropdown-close",classAnimationModalOpen="animation-modal-open",classAnimationModalClose="animation-modal-close",body=document.body,preloader=document.getElementById("preloader"),header=document.querySelector(".header"),headerBreadcrumbs=document.querySelector(".header-breadcrumbs"),listLinksheaderBreadcrumbs=document.querySelector(".header-breadcrumbs__list"),main=document.querySelector("main"),locationSearchName=window.location.search.replace(/[^a-zа-яё]/gi,"");function contentLocation(e,n,t){document.title="SitDownPls - ".concat(n),header.classList.add("header-bottom"),headerBreadcrumbs.classList.add("header-breadcrumbs-active");var a=t[t.length-1];t.forEach((function(n){var t=document.createElement("li"),o=document.createElement("a");t.classList.add("header-breadcrumbs__item"),o.classList.add("header-breadcrumbs__item-link"),o.textContent=n,n===a&&o.classList.add("header-breadcrumbs__item-link-and"),"Главная"===n&&(o.href=location.origin),"Каталог"===n&&(o.href="?catalog"),"Диваны"===n&&(o.href="?catalog"),"Прямые диваны"===n&&"card"===e&&(o.href="?catalog"),t.append(o),listLinksheaderBreadcrumbs.append(t)})),main.className="main-".concat(e),document.getElementById("main-index").style.display="none",document.getElementById("".concat(e)).style.display="block"}switch(window.addEventListener("load",(function(){preloader.remove()})),locationSearchName){case"catalog":contentLocation(locationSearchName,"Каталог",["Главная","Каталог","Диваны","Прямые диваны"]);break;case"card":contentLocation(locationSearchName,"Диван тканевый прямой “D-31”",["Главная","Каталог","Диваны","Прямые диваны","D-31"]);break;case"cooperation":contentLocation(locationSearchName,"Сотрудничество",["Главная","Сотрудничество"]);break;case"contacts":contentLocation(locationSearchName,"Контакты",["Главная","Контакты"])}var btnScroll=document.getElementById("btn-scroll");function eventBtnScroll(e){function n(e){window.pageYOffset>=200?e.style.display="flex":e.style.display="none"}e.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),window.addEventListener("load",(function(){return n(e)})),window.addEventListener("scroll",(function(){return n(e)}),{passive:!0})}eventBtnScroll(btnScroll);var selectHeader=document.getElementById("select");selectHeader.append(select({name:"Москва",classContainer:"header__select-box",classSelect:{main:"header__select",active:classAnimationIcon},classDropdown:{main:"header__select-dropdown",open:classAnimationVisible,close:classAnimationHidden}},[{name:"Казань",class:"header__select-dropdown-btn"},{name:"Уфа",class:"header__select-dropdown-btn"},{name:"Пермь",class:"header__select-dropdown-btn"}]));var searchHeader=document.getElementById("search"),iconSearchHeader=document.getElementById("search-icon");searchHeader.addEventListener("input",(function(){this.classList.add("input-active"),iconSearchHeader.style.fill="#A65CF0",""!==this.value||(iconSearchHeader.style.fill="#999999",this.classList.remove("input-active"))}));var dropdownBtnHeader=document.getElementById("dropdown-btn"),dropdownHeader=document.getElementById("dropdown");dropdownBtnHeader.addEventListener("click",(function(){dropdownHeader.classList.contains(classAnimationDropdownOpen)?(this.classList.remove(classAnimationIcon),elemHidden(dropdownHeader,classAnimationDropdownOpen,classAnimationDropdownClose)):(this.classList.add(classAnimationIcon),elemVisible(dropdownHeader,classAnimationDropdownOpen,"flex"))})),body.addEventListener("click",(function(e){dropdownBtnHeader.contains(e.target)||dropdownHeader.contains(e.target)||(dropdownBtnHeader.classList.remove(classAnimationIcon),elemHidden(dropdownHeader,classAnimationDropdownOpen,classAnimationDropdownClose))}));var menuHeader=document.getElementById("menu"),navHeader=document.getElementById("nav"),btnOpenMenuHeader=document.getElementById("menu-open"),btnCloseMenuHeader=document.getElementById("menu-close");btnOpenMenuHeader.addEventListener("click",(function(){elemVisible(menuHeader,classAnimationDropdownOpen,"block"),window.screen.width<=664&&elemVisible(navHeader,classAnimationDropdownOpen,"block")})),btnCloseMenuHeader.addEventListener("click",(function(){elemHidden(menuHeader,classAnimationDropdownOpen,classAnimationDropdownClose),window.screen.width<=664&&elemHidden(navHeader,classAnimationDropdownOpen,classAnimationDropdownClose)})),body.addEventListener("click",(function(e){btnOpenMenuHeader.contains(e.target)||menuHeader.contains(e.target)||navHeader.contains(e.target)||(window.screen.width<=992&&elemHidden(menuHeader,classAnimationDropdownOpen,classAnimationDropdownClose),window.screen.width<=664&&elemHidden(navHeader,classAnimationDropdownOpen,classAnimationDropdownClose))}));var popupBanner=document.getElementById("banner-popup");if(popupBanner){var eventBtnPopupBanner=function(e){e.addEventListener("click",(function(){elemVisible(popupBanner,classAnimationVisible,"block"),e.disabled=!0,setTimeout((function(){elemHidden(popupBanner,classAnimationVisible,classAnimationHidden)}),2600)}))},btnsBanner=document.querySelectorAll(".section-banner__slide-btn"),btnBannerSM=document.getElementById("btn-banner");btnsBanner.forEach((function(e){function n(){window.screen.width<1321&&(e.textContent="Получить!")}eventBtnPopupBanner(e),window.addEventListener("load",n()),window.addEventListener("resize",n())})),eventBtnPopupBanner(btnBannerSM)}var btnRating=document.getElementById("more-goods");if(btnRating){var itemRating=document.querySelectorAll(".section-rating__item-content");btnRating.addEventListener("click",(function(){itemRating.forEach((function(e){"none"===window.getComputedStyle(e).display&&elemVisible(e,classAnimationModalOpen,"block")})),this.style.display="none"}))}var sectionCatalog=document.querySelector(".section-catalog");if(sectionCatalog){var throwValuePrice=function(e,n,t){e.addEventListener("click",(function(){n.value="0",t.style.display="none"}))},displayNameplatePrice=function(e,n){e.addEventListener("mousedown",(function(){n.style.display="flex"}))};createBtnAndHidingItem(9,"section-catalog__sidebar-checkbox-list","section-catalog__sidebar-checkbox-item","section-catalog__sidebar-checkbox-btn","section-catalog__sidebar-checkbox-item-active");var nameplateFromPrice=document.querySelector(".section-catalog__header-nameplate-price-1"),labelCategory=".section-catalog__sidebar-label-category",nameplateDiscount=document.querySelector(".section-catalog__header-nameplate-discount"),labelColor=".section-catalog__sidebar-label-color";eventCheckboxNameplate(labelCategory,nameplateFromPrice,"beforebegin"),eventCheckboxNameplate(labelColor,nameplateDiscount,"afterend");var rangeSlider=document.getElementById("range-slider"),inputFromPrice=document.getElementById("sidebar-input-from"),inputBeforePrice=document.getElementById("sidebar-input-before"),valueinputFromPrice=document.getElementById("value-sidebar-input-from"),valueinputBeforePrice=document.getElementById("value-sidebar-input-before"),nameplateBeforePrice=document.querySelector(".section-catalog__header-nameplate-price-2"),btnCloseFromPrice=document.getElementById("btn-close-price-from"),btnClosePriceBefore=document.getElementById("btn-close-price-before"),inputs=[inputFromPrice,inputBeforePrice];noUiSlider.create(rangeSlider,{start:[2e3,15e4],connect:!0,step:500,range:{min:0,max:23e4},handleAttributes:[{"aria-label":"Влево"},{"aria-label":"Вправо"}]}),rangeSlider.noUiSlider.on("update",(function(e,n){inputs[n].value=Math.round(e[n])}));var setSlider=function(e,n){var t=[null,null];t[e]=n,rangeSlider.noUiSlider.set(t)};inputs.forEach((function(e,n){e.addEventListener("change",(function(e){setSlider(n,e.currentTarget.value)}))})),rangeSlider.noUiSlider.on("update",(function(e,n){inputs[n].innerHTML=Math.round(e[n]),valueinputFromPrice.innerHTML=Math.round(e[0]),valueinputBeforePrice.innerHTML=Math.round(e[1])}));var btnRangeSliderFrom=document.querySelector("#range-slider .noUi-handle"),btnRangeSliderBefore=document.querySelector("#range-slider .noUi-handle-upper"),rangeSliderLine=document.querySelector("#range-slider .noUi-connect");throwValuePrice(btnCloseFromPrice,inputFromPrice,nameplateFromPrice),throwValuePrice(btnClosePriceBefore,inputBeforePrice,nameplateBeforePrice),displayNameplatePrice(inputFromPrice,nameplateFromPrice),displayNameplatePrice(inputBeforePrice,nameplateBeforePrice),displayNameplatePrice(btnRangeSliderFrom,nameplateFromPrice),displayNameplatePrice(btnRangeSliderBefore,nameplateBeforePrice),btnRangeSliderFrom.addEventListener("mousedown",(function(){rangeSliderLine.style.background="#7033AC"})),btnRangeSliderBefore.addEventListener("mousedown",(function(){rangeSliderLine.style.background="#7033AC"})),body.addEventListener("mousedown",(function(){rangeSliderLine.style.background="#A65CF0"})),btnRangeSliderFrom.addEventListener("keyup",(function(){rangeSliderLine.style.background="#7033AC"})),document.querySelector("#checkbox-24").addEventListener("keyup",(function(){rangeSliderLine.style.background="#A65CF0"}));var checkboxDiscount=document.querySelectorAll(".section-catalog__sidebar-checkbox-discount"),nameplateDescDiscount=document.querySelector(".section-catalog__header-nameplate-discount-desc"),btnClosenameplateDiscount=document.getElementById("btn-close-discount");checkboxDiscount.forEach((function(e){e.addEventListener("click",(function(){nameplateDiscount.style.display="flex",nameplateDescDiscount.textContent=this.value}))})),btnClosenameplateDiscount.addEventListener("click",(function(){checkboxDiscount.forEach((function(e){e.checked=!1})),nameplateDiscount.style.display="none"}));var btnsDropdownCatalog=document.querySelectorAll(".section-catalog__sidebar-dropdown-btn"),сategoryDropdownCatalog=document.querySelector(".section-catalog__sidebar-checkbox-list-сategory"),priceDropdownCatalog=document.querySelector(".section-catalog__sidebar-input-container"),discountDropdownCatalog=document.querySelector(".section-catalog__sidebar-checkbox-list-discount"),colorDropdownCatalog=document.querySelector(".section-catalog__sidebar-checkbox-list-color"),arrayDropdownCatalog=[сategoryDropdownCatalog,priceDropdownCatalog,discountDropdownCatalog,colorDropdownCatalog];btnsDropdownCatalog.forEach((function(e,n){e.addEventListener("click",(function(){"flex"===arrayDropdownCatalog[n].style.display?(e.classList.remove("btn-active"),elemHidden(arrayDropdownCatalog[n],classAnimationDropdownOpen,classAnimationDropdownClose)):(e.classList.add("btn-active"),elemVisible(arrayDropdownCatalog[n],classAnimationDropdownOpen,"flex"))})),body.addEventListener("click",(function(t){e.contains(t.target)||arrayDropdownCatalog[n].contains(t.target)||window.screen.width<=1320&&(e.classList.remove("btn-active"),elemHidden(arrayDropdownCatalog[n],classAnimationDropdownOpen,classAnimationDropdownClose))}))}));var tabsBtnCatalog=document.querySelectorAll(".section-catalog__tabs-btn");tabsBtnCatalog.forEach((function(e){e.addEventListener("click",(function(n){var t=n.currentTarget.dataset.path;document.querySelectorAll(".section-catalog__tabs-list").forEach((function(e){e.classList.remove("section-catalog__tabs-list-active")})),tabsBtnCatalog.forEach((function(e){return e.classList.remove("section-catalog__tabs-btn-active")})),document.querySelector('[data-target="'.concat(t,'"]')).classList.add("section-catalog__tabs-list-active"),e.classList.add("section-catalog__tabs-btn-active")}))}))}var btnsCardOpenModalForm=document.querySelectorAll(".card-content__btn");btnsCardOpenModalForm.forEach((function(e){if(e){var n=function(e,n){n.forEach((function(e){return e.value=""})),elemVisible(l,classAnimationModalOpen,"flex"),d.textContent=e,m.addEventListener("click",(function(){elemHidden(l,classAnimationModalOpen,classAnimationModalClose)})),body.addEventListener("click",(function(e){s.contains(e.target)||c.contains(e.target)||p.contains(e.target)||elemHidden(l,classAnimationModalOpen,classAnimationModalClose)}))},t=function(e){e.forEach((function(e){e.addEventListener("input",(function(){this.classList.add("input-active"),""!==this.value||this.classList.remove("input-active")}))}))},a=document.querySelectorAll(".section-special__card-btn"),o=document.querySelector(".section-card__btn-main"),c=document.getElementById("box-modal-form"),i=(document.getElementById("container-modal-form"),document.getElementById("close-modal-form")),r=[];btnsCardOpenModalForm.forEach((function(e){return r.push(e)})),a&&a.forEach((function(e){return r.push(e)})),o&&r.push(o),r.forEach((function(e){e.addEventListener("click",(function(){elemVisible(c,classAnimationModalOpen,"flex")}))})),i.addEventListener("click",(function(){return elemHidden(c,classAnimationModalOpen,classAnimationModalClose)}));var l=document.getElementById("popup-response"),s=document.getElementById("container-popup-response"),d=document.getElementById("content-response"),m=document.getElementById("close-popup-response"),u=document.getElementById("form-modal"),p=document.getElementById("form-dispatch");if(u){var f=document.querySelectorAll(".modal-form__form-input"),b=document.getElementById("tel-modal");t(f),new Inputmask("+7 (999)-999-99-99").mask(b),new JustValidate("#form-modal",{rules:{name:{required:!0,minLength:2,maxLength:20},tel:{required:!0,function:function(e,n){var t=b.inputmask.unmaskedvalue();return Number(t)&&10===t.length}}},colorWrong:"#FF6972",submitHandler:function(e,t,a){a({url:"/php/getPostValue.php",method:"POST",data:t,async:!0,callback:function(){elemHidden(c,classAnimationModalOpen,classAnimationModalClose),n("Спасибо, мы вам перезвоним!",f)},error:function(){elemHidden(c,classAnimationModalOpen,classAnimationModalClose),n("Ошибка отправки!",f)}})}})}if(p){var g=document.querySelectorAll(".section-dispatch__form-input"),y=document.getElementById("tel-dispatch");t(g),new Inputmask("+7 (999)-999-99-99").mask(y),new JustValidate("#form-dispatch",{rules:{name:{required:!0,minLength:2,maxLength:20},tel:{required:!0,function:function(e,n){var t=y.inputmask.unmaskedvalue();return Number(t)&&10===t.length}},mail:{required:!0,email:!0}},colorWrong:"#FF6972",submitHandler:function(e,t,a){a({url:"/php/getPostValue.php",method:"POST",data:t,async:!0,callback:function(){n("Спасибо, мы вам перезвоним!",g)},error:function(){n("Ошибка отправки!",g)}})}})}}}));var sectionCard=document.querySelector(".section-card");if(sectionCard){var eventModalCard=function(e,n){e.forEach((function(t){t.addEventListener("click",(function(t){var a=t.currentTarget,o=t.currentTarget.dataset.path;e.forEach((function(e){e.disabled=!1,e.classList.remove("btn-slide-disabled")})),n.forEach((function(e){e.style.display="none",e.classList.remove(classAnimationVisible)})),a.disabled=!0,a.classList.add("btn-slide-disabled"),elemVisible(document.querySelector('[data-target="'.concat(o,'"]')),classAnimationVisible,"block")}))}))},btnMainImgCard=document.getElementById("btn-main-img-modal"),allImgMainCard=document.querySelectorAll(".section-card__img-box-main"),btnsSlideImgCard=document.querySelectorAll(".section-card__img-btn"),modalCard=document.getElementById("modal-card"),containerModalCard=document.getElementById("container-modal-card"),btnCloseModalCard=document.getElementById("close-modal-card"),btnsSlideImgModalCard=document.querySelectorAll(".modal-card__tabs-btn"),allImgMainModalCard=document.querySelectorAll(".modal-card__img-box");eventModalCard(btnsSlideImgCard,allImgMainCard),eventModalCard(btnsSlideImgModalCard,allImgMainModalCard),btnMainImgCard.addEventListener("click",(function(){elemVisible(modalCard,classAnimationModalOpen,"flex"),btnsSlideImgModalCard.forEach((function(e){e.disabled=!1,e.classList.remove("btn-slide-disabled")})),allImgMainModalCard.forEach((function(e){e.style.display="none",e.classList.remove(classAnimationVisible)})),allImgMainCard.forEach((function(e){if("block"===window.getComputedStyle(e).display){var n=document.querySelector('[data-target="img-modal-'.concat(e.dataset.target.replace(/\D+/g,""),'"]')),t=document.querySelector('[data-path="img-modal-'.concat(e.dataset.target.replace(/\D+/g,""),'"]'));t.disabled=!0,t.classList.add("btn-slide-disabled"),elemVisible(n,classAnimationVisible,"block")}}))})),btnCloseModalCard.addEventListener("click",(function(){elemHidden(modalCard,classAnimationModalOpen,classAnimationModalClose)})),body.addEventListener("click",(function(e){btnMainImgCard.contains(e.target)||containerModalCard.contains(e.target)||elemHidden(modalCard,classAnimationModalOpen,classAnimationModalClose)}))}var map=document.getElementById("map");if(map){var myPlacemark1,myPlacemark2,searchBallonMap=function(e,n){dropdownContacts.insertAdjacentHTML("beforeend",'<div class="section-contacts__form-dropdown-btn" role="option"><h2 class="section-contacts__form-dropdown-title">'.concat(e,'</h2><address class="section-contacts__form-dropdown-address">').concat(n,"</address></div>"));var t=document.querySelectorAll(".section-contacts__form-dropdown-btn");function a(e,n){e.balloon.open(),n.style.display="none"}searchContacts.addEventListener("input",(function(){this.classList.add("input-active");var e,n=_createForOfIteratorHelper(this.value);try{var a=function(){var n=e.value;if(n.toLowerCase(),n)return t.forEach((function(e,t){e.id="dropdown-btn-contact-".concat(t+1),document.getElementById("".concat(e.id)).textContent.replace(/[\s,.-]/g,"").toLowerCase().indexOf(n)>-1?(e.style.display="flex",elemVisible(dropdownContacts,classAnimationDropdownOpen,"block")):e.style.display="none",e.addEventListener("click",(function(){var n=document.querySelector("#".concat(e.id," h2")).textContent;searchContacts.value=n,elemHidden(dropdownContacts,classAnimationDropdownOpen,classAnimationDropdownClose)}))})),"break"};for(n.s();!(e=n.n()).done;){if("break"===a())break}}catch(e){n.e(e)}finally{n.f()}""!==this.value||(this.classList.remove("input-active"),elemHidden(dropdownContacts,classAnimationDropdownOpen,classAnimationDropdownClose))})),formContacts.addEventListener("submit",(function(e){var n,o;e.preventDefault(),t.forEach((function(e){return e.style.display="none"})),elemHidden(dropdownContacts,classAnimationDropdownOpen,classAnimationDropdownClose),"Москва, SitDownPls на Солянке"===searchContacts.value?a(myPlacemark1,popupContacts):"Москва, SitDownPls на Покровке"===searchContacts.value?a(myPlacemark2,popupContacts):(n=[myPlacemark1,myPlacemark2],(o=popupContacts).style.display="block",setTimeout((function(){o.style.display="none"}),2500),n.forEach((function(e){return e.balloon.close()})))}))},init=function(){var e=new ymaps.Map("map",{center:[55.757353585432654,37.635001298950186],zoom:14});function n(e,n){return'<div class="popup-contacts" role="tooltipe"><h2 class="popup-contacts__title">'.concat(e,'</h2><address class="popup-contacts__address">').concat(n,'</address><a class="popup-contacts__tel tel" href="tel:+74958854547" aria-label="Контактный номер телефона"><svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.3425 14.0983C17.215 14.0983 16.1242 13.915 15.1067 13.585C14.7858 13.475 14.4283 13.5575 14.1808 13.805L12.7417 15.6108C10.1475 14.3733 7.71833 12.0358 6.42583 9.35L8.21333 7.82833C8.46083 7.57167 8.53417 7.21417 8.43333 6.89333C8.09417 5.87583 7.92 4.785 7.92 3.6575C7.92 3.1625 7.5075 2.75 7.0125 2.75H3.84083C3.34583 2.75 2.75 2.97 2.75 3.6575C2.75 12.1733 9.83583 19.25 18.3425 19.25C18.9933 19.25 19.25 18.6725 19.25 18.1683V15.0058C19.25 14.5108 18.8375 14.0983 18.3425 14.0983Z" fill="#FF862F" /></svg>+7 (495) 885-45-47</a><div class="popup-contacts__desc-time"><span class="popup-contacts__desc-alert">Часы работы:</span> с 10:00 до 21:00</div><div class="popup-contacts__desc"><span class="popup-contacts__desc-alert">Что здесь:</span> шоурум, пункт отгрузки, пункт выдачи, пункт обмена-возврата, сервисный центр</div></div>')}var t={iconLayout:"default#image",iconImageHref:"../img/favicon/placemark.svg",iconImageSize:[32,21],hideIconOnBalloonOpen:!1,balloonOffset:[-110,-42],balloonPanelMaxMapArea:0};screen.width<664&&(t.balloonOffset=[-55,-42]),myPlacemark1=new ymaps.Placemark([55.750615568993275,37.64180899999995],{balloonContent:n("SitDownPls на Солянке","м. Китай-город, ул. Солянка, д.24")},t),myPlacemark2=new ymaps.Placemark([55.76226070125444,37.65358843587206],{balloonContent:n("SitDownPls на Покровке","м. Курская, ул. Покровка, д.14")},t),e.geoObjects.add(myPlacemark1),e.geoObjects.add(myPlacemark2)},searchContacts=document.getElementById("search-contacts"),dropdownContacts=document.querySelector(".section-contacts__form-dropdown"),formContacts=document.getElementById("form-contacts"),popupContacts=document.getElementById("popup-contacts");searchBallonMap("Москва, SitDownPls на Солянке","м. Китай-город, ул. Солянка, д.24"),searchBallonMap("Москва, SitDownPls на Покровке","м. Курская, ул. Покровка, д.14"),ymaps.ready(init)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoZWNrYm94LW5hbWVwbGF0ZS5qcyIsImVsZW1lbnQtaGlkZGVuLmpzIiwiaGlkaW5nLWl0ZW1zLmpzIiwic2VsZWN0LmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJldmVudENoZWNrYm94TmFtZXBsYXRlIiwiYWxsTGFiZWwiLCJuYW1lcGxhdGUiLCJkZXN0aW5hdGlvbiIsImNyZWF0ZU5hbWVwbGF0ZSIsImVsTmFtZXBsYXRlIiwibmFtZXBsYXRlRGVzdGluYXRpb24iLCJpZCIsIm5hbWUiLCJjb250ZW50IiwiYXJpYUxhYmVsIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiY29uY2F0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJjaGVja2VkIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJsYWJlbCIsImNoZWNrYm94SWQiLCJwYXJzZUludCIsInF1ZXJ5U2VsZWN0b3IiLCJyZXBsYWNlIiwiY2hlY2tib3hOYW1lIiwiY2hlY2tib3hWYWx1ZSIsInZhbHVlIiwiY2hlY2tib3giLCJjdXJyZW50VGFyZ2V0IiwiZWxlbVZpc2libGUiLCJlbCIsImNsYXNzT3BlbiIsImRpc3BsYXkiLCJzdHlsZSIsImNsYXNzTGlzdCIsImFkZCIsImVsZW1IaWRkZW4iLCJjbGFzc0Nsb3NlIiwic2V0VGltZW91dCIsInBvcHVwQ2xvc2UiLCJtb2RhbCIsImNyZWF0ZUJ0bkFuZEhpZGluZ0l0ZW0iLCJsaW1pdFF1YW50aXR5IiwiY2xhc3NJdGVtIiwiY2xhc3NCdG4iLCJjbGFzc0FjdGl2ZSIsImNoaWxkcmVuIiwibGVuZ3RoIiwiZnVsbExlbmd0aCIsInJhbmdlTGVuZ3RoIiwiaGlkZGVuSXRlbXMiLCJBcnJheSIsImZyb20iLCJzbGljZSIsImUiLCJwYXJlbnQiLCJjbG9zZXN0IiwiY29udGFpbnMiLCJ0ZXh0Q29udGVudCIsInNlbGVjdCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIm9wdGlvbnMiLCJjb250YWluZXJTZWxlY3QiLCJjcmVhdGVFbGVtZW50Iiwic2VsZWN0QnRuIiwic2VsZWN0RHJvcGRvd24iLCJzdmdJY29uIiwiY2xhc3NDb250YWluZXIiLCJjbGFzc1NlbGVjdCIsIm1haW4iLCJjbGFzc0Ryb3Bkb3duIiwiYWN0aXZlIiwib3BlbiIsImNsb3NlIiwiYm9keSIsInRhcmdldCIsIm9wdGlvbkJ0biIsImFwcGVuZCIsImNsYXNzQW5pbWF0aW9uVmlzaWJsZSIsImNsYXNzQW5pbWF0aW9uSGlkZGVuIiwiY2xhc3NBbmltYXRpb25JY29uIiwiY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4iLCJjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2UiLCJjbGFzc0FuaW1hdGlvbk1vZGFsT3BlbiIsImNsYXNzQW5pbWF0aW9uTW9kYWxDbG9zZSIsInByZWxvYWRlciIsImhlYWRlciIsImhlYWRlckJyZWFkY3J1bWJzIiwibGlzdExpbmtzaGVhZGVyQnJlYWRjcnVtYnMiLCJsb2NhdGlvblNlYXJjaE5hbWUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsImNvbnRlbnRMb2NhdGlvbiIsImxvY2F0aW9uTmFtZSIsInRpdGxlIiwiYXJyYXlMaW5rIiwibGFzdENoaWxkQXJyYXkiLCJsaW5rIiwiaXRlbWhlYWRlckJyZWFkY3J1bWJzIiwibGlua2hlYWRlckJyZWFkY3J1bWJzIiwiaHJlZiIsIm9yaWdpbiIsImNsYXNzTmFtZSIsImJ0blNjcm9sbCIsImV2ZW50QnRuU2Nyb2xsIiwiYnRuIiwidmlzaWJsZUFuZEhpZGRlbkJ0biIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG8iLCJ0b3AiLCJiZWhhdmlvciIsInBhc3NpdmUiLCJzZWxlY3RIZWFkZXIiLCJjbGFzcyIsInNlYXJjaEhlYWRlciIsImljb25TZWFyY2hIZWFkZXIiLCJ0aGlzIiwiZmlsbCIsImRyb3Bkb3duQnRuSGVhZGVyIiwiZHJvcGRvd25IZWFkZXIiLCJtZW51SGVhZGVyIiwibmF2SGVhZGVyIiwiYnRuT3Blbk1lbnVIZWFkZXIiLCJidG5DbG9zZU1lbnVIZWFkZXIiLCJzY3JlZW4iLCJ3aWR0aCIsInBvcHVwQmFubmVyIiwiZXZlbnRCdG5Qb3B1cEJhbm5lciIsImRpc2FibGVkIiwiYnRuc0Jhbm5lciIsImJ0bkJhbm5lclNNIiwiYnRuQmFubmVyVGV4dENvbnRlbnQiLCJidG5SYXRpbmciLCJpdGVtUmF0aW5nIiwiaXRlbSIsImdldENvbXB1dGVkU3R5bGUiLCJzZWN0aW9uQ2F0YWxvZyIsInRocm93VmFsdWVQcmljZSIsImlucHV0IiwiZGlzcGxheU5hbWVwbGF0ZVByaWNlIiwibmFtZXBsYXRlRnJvbVByaWNlIiwibGFiZWxDYXRlZ29yeSIsIm5hbWVwbGF0ZURpc2NvdW50IiwibGFiZWxDb2xvciIsInJhbmdlU2xpZGVyIiwiaW5wdXRGcm9tUHJpY2UiLCJpbnB1dEJlZm9yZVByaWNlIiwidmFsdWVpbnB1dEZyb21QcmljZSIsInZhbHVlaW5wdXRCZWZvcmVQcmljZSIsIm5hbWVwbGF0ZUJlZm9yZVByaWNlIiwiYnRuQ2xvc2VGcm9tUHJpY2UiLCJidG5DbG9zZVByaWNlQmVmb3JlIiwiaW5wdXRzIiwibm9VaVNsaWRlciIsImNyZWF0ZSIsInN0YXJ0IiwiY29ubmVjdCIsInN0ZXAiLCJyYW5nZSIsIm1pbiIsIm1heCIsImhhbmRsZUF0dHJpYnV0ZXMiLCJvbiIsInZhbHVlcyIsImhhbmRsZSIsIk1hdGgiLCJyb3VuZCIsInNldFNsaWRlciIsImkiLCJhcnIiLCJzZXQiLCJpbmRleCIsImlubmVySFRNTCIsImJ0blJhbmdlU2xpZGVyRnJvbSIsImJ0blJhbmdlU2xpZGVyQmVmb3JlIiwicmFuZ2VTbGlkZXJMaW5lIiwiYmFja2dyb3VuZCIsImNoZWNrYm94RGlzY291bnQiLCJuYW1lcGxhdGVEZXNjRGlzY291bnQiLCJidG5DbG9zZW5hbWVwbGF0ZURpc2NvdW50IiwiY2hlY2JveCIsImJ0bnNEcm9wZG93bkNhdGFsb2ciLCLRgWF0ZWdvcnlEcm9wZG93bkNhdGFsb2ciLCJwcmljZURyb3Bkb3duQ2F0YWxvZyIsImRpc2NvdW50RHJvcGRvd25DYXRhbG9nIiwiY29sb3JEcm9wZG93bkNhdGFsb2ciLCJhcnJheURyb3Bkb3duQ2F0YWxvZyIsImluZGV4QnRuIiwidGFic0J0bkNhdGFsb2ciLCJldmVudCIsInBhdGgiLCJkYXRhc2V0IiwibGlzdCIsImFsbEJ0biIsImJ0bnNDYXJkT3Blbk1vZGFsRm9ybSIsInJlc3BvbnNlUG9wdXAiLCJ0ZXh0IiwicG9wdXBSZXNwb25zZSIsImRlc2NQb3B1cFJlc3BvbnNlIiwiY2xvc2VCdG5Qb3B1cFJlc3BvbnNlIiwiY29udGFpbmVyUG9wdXBSZXNwb25zZSIsImJveE1vZGFsRm9ybSIsImZvcm1EaXNwYXRjaCIsImV2ZW50SW5wdXRGcm9tIiwiYnRuU3BlY2lhbE9wZW5Nb2RhbEZvcm0iLCJidG5DYXJkT3Blbk1vZGFsRnJvbSIsImJ0bkNsb3NlTW9kYWxGcm9tIiwiYXJyYXlCdG5PcGVuTW9kYWxGb3JtIiwicHVzaCIsImZvcm1Nb2RhbCIsImlucHV0c01vZGFsIiwidGVsSW5wdXRNb2RhbCIsIklucHV0bWFzayIsIm1hc2siLCJKdXN0VmFsaWRhdGUiLCJydWxlcyIsInJlcXVpcmVkIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwidGVsIiwiZnVuY3Rpb24iLCJwaG9uZSIsImlucHV0bWFzayIsInVubWFza2VkdmFsdWUiLCJOdW1iZXIiLCJjb2xvcldyb25nIiwic3VibWl0SGFuZGxlciIsImZvcm0iLCJhamF4IiwidXJsIiwibWV0aG9kIiwiZGF0YSIsImFzeW5jIiwiY2FsbGJhY2siLCJlcnJvciIsImlucHV0c0Rpc3BhdGNoIiwidGVsSW5wdXREaXNwYXRjaCIsIm1haWwiLCJlbWFpbCIsInNlY3Rpb25DYXJkIiwiZXZlbnRNb2RhbENhcmQiLCJidG5zIiwiaW1hZ2VzIiwidGhpc0J0biIsImltZyIsImJ0bk1haW5JbWdDYXJkIiwiYWxsSW1nTWFpbkNhcmQiLCJidG5zU2xpZGVJbWdDYXJkIiwibW9kYWxDYXJkIiwiY29udGFpbmVyTW9kYWxDYXJkIiwiYnRuQ2xvc2VNb2RhbENhcmQiLCJidG5zU2xpZGVJbWdNb2RhbENhcmQiLCJhbGxJbWdNYWluTW9kYWxDYXJkIiwiaW1nTW9kYWwiLCJidG5Nb2RhbCIsIm1hcCIsIm15UGxhY2VtYXJrMSIsIm15UGxhY2VtYXJrMiIsInNlYXJjaEJhbGxvbk1hcCIsImFkZHJlc3MiLCJkcm9wZG93bkNvbnRhY3RzIiwiZHJvcGRvd25CdG5zQ29udGFjdHMiLCJiYWxsb25PcGVuIiwicGxhY2VtYXJrIiwicG9wdXAiLCJiYWxsb29uIiwic2VhcmNoQ29udGFjdHMiLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiX2xvb3AiLCJzeW1ib2wiLCJ0b0xvd2VyQ2FzZSIsImJ0bkluZGV4IiwiaW5kZXhPZiIsImNvbnRlbnRUaXRsZUNvbnRhY3RzIiwicyIsIm4iLCJkb25lIiwiZXJyIiwiZiIsImZvcm1Db250YWN0cyIsInBsYWNlbWFya3MiLCJwcmV2ZW50RGVmYXVsdCIsInBvcHVwQ29udGFjdHMiLCJpbml0IiwibXlNYXAiLCJ5bWFwcyIsIk1hcCIsImNlbnRlciIsInpvb20iLCJiYWxsb25Db250ZW50IiwicGxhY2VtYXJrSWNvbkJhbGxvbiIsImljb25MYXlvdXQiLCJpY29uSW1hZ2VIcmVmIiwiaWNvbkltYWdlU2l6ZSIsImhpZGVJY29uT25CYWxsb29uT3BlbiIsImJhbGxvb25PZmZzZXQiLCJiYWxsb29uUGFuZWxNYXhNYXBBcmVhIiwiUGxhY2VtYXJrIiwiYmFsbG9vbkNvbnRlbnQiLCJnZW9PYmplY3RzIiwicmVhZHkiXSwibWFwcGluZ3MiOiJvcENBQ0EsU0FBQUEsdUJBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsU0FBQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FFQSxJQUFBQyxFQUNBQSxFQUFBLGFBQUFGLEVBQUEsc0JBQ0EsaUJBRUFILEVBQUFNLG1CQUNBTCxFQURBLG1GQUFBTSxPQUVBSixFQUZBLG9CQUFBSSxPQUVBTCxFQUZBLHFEQUFBSyxPQUVBSixFQUZBLG1D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MUIsYUFBQUMsZUFwQkFPLEVBb0JBb0IsZUFuQkE3UCxNQUFBRCxRQUFBLFFBQ0FNLFlBQUEsV0FDQW9PLEVBQUF6TyxNQUFBRCxRQUFBLFNBQ0EsTUFDQTRQLEVBQUExUSxTQUFBLFNBQUF1UCxHQUFBLE9BQUFBLEVBQUFFLFFBQUFqTSxnQkE4RUFxTixLQUFBLFdBQ0EsSUFBQUMsRUFBQSxJQUFBQyxNQUFBQyxJQUFBLE1BQUEsQ0FDQUMsT0FBQSxDQUFBLG1CQUFBLG9CQUNBQyxLQUFBLEtBR0EsU0FBQUMsRUFBQXJNLEVBQUFxSyxHQUNBLE1BQUEsaUZBQUExUCxPQUFBcUYsRUFBQSxrREFBQXJGLE9BQUEwUCxFQUFBLDhoQ0FHQSxJQUFBaUMsRUFBQSxDQUNBQyxXQUFBLGdCQUNBQyxjQUFBLCtCQUNBQyxjQUFBLENBQUEsR0FBQSxJQUNBQyx1QkFBQSxFQUNBQyxjQUFBLEVBQUEsS0FBQSxJQUNBQyx1QkFBQSxHQUdBOUssT0FBQUMsTUFBQSxNQUNBdUssRUFBQUssY0FBQSxFQUFBLElBQUEsS0FHQXpDLGFBQUEsSUFBQStCLE1BQUFZLFVBQ0EsQ0FBQSxtQkFBQSxtQkFDQSxDQUNBQyxlQUFBVCxFQUNBLHdCQUNBLHNDQUdBQyxHQUVBbkMsYUFBQSxJQUFBOEIsTUFBQVksVUFDQSxDQUFBLGtCQUFBLG1CQUNBLENBQ0FDLGVBQUFULEVBQ0EseUJBQ0EsbUNBR0FDLEdBR0FOLEVBQUFlLFdBQUE1USxJQUFBK04sY0FDQThCLEVBQUFlLFdBQUE1USxJQUFBZ08sZUF0SkFTLGVBQUFoUSxTQUFBQyxlQUFBLG1CQUNBeVAsaUJBQUExUCxTQUFBVSxjQUNBLG9DQUVBcVEsYUFBQS9RLFNBQUFDLGVBQUEsaUJBQ0FpUixjQUFBbFIsU0FBQUMsZUFBQSxrQkF5RkF1UCxnQkFDQSxnQ0FDQSxxQ0FFQUEsZ0JBQ0EsaUNBQ0Esa0NBR0E2QixNQUFBZSxNQUFBakIiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuZnVuY3Rpb24gZXZlbnRDaGVja2JveE5hbWVwbGF0ZShhbGxMYWJlbCwgbmFtZXBsYXRlLCBkZXN0aW5hdGlvbikge1xuICBmdW5jdGlvbiBjcmVhdGVOYW1lcGxhdGUoXG4gICAgZWxOYW1lcGxhdGUsXG4gICAgbmFtZXBsYXRlRGVzdGluYXRpb24sXG4gICAgaWQsXG4gICAgbmFtZSxcbiAgICBjb250ZW50XG4gICkge1xuICAgIGxldCBhcmlhTGFiZWw7XG4gICAgaWYgKG5hbWUgPT09ICfRgWF0ZWdvcnknKSBhcmlhTGFiZWwgPSAn0JLRi9Cx0YDQsNC90L3QsNGPINC60LDRgtC10LPQvtGA0LjRjyc7XG4gICAgZWxzZSBhcmlhTGFiZWwgPSAn0JLRi9Cx0YDQsNC90L3Ri9C5INGG0LLQtdGCJztcblxuICAgIGVsTmFtZXBsYXRlLmluc2VydEFkamFjZW50SFRNTChcbiAgICAgIG5hbWVwbGF0ZURlc3RpbmF0aW9uLFxuICAgICAgYDxkaXYgY2xhc3M9XCJzZWN0aW9uLWNhdGFsb2dfX2hlYWRlci1uYW1lcGxhdGUgc2VjdGlvbi1jYXRhbG9nX19oZWFkZXItbmFtZXBsYXRlLSR7bmFtZX1cIiBpZD1cIm5hbWVwbGF0ZS0ke2lkfVwiPjxzcGFuIGNsYXNzPVwic2VjdGlvbi1jYXRhbG9nX19oZWFkZXItbmFtZXBsYXRlLSR7bmFtZX0tZGVzY1wiIHJvbGU9XCJub3RlXCIgYXJpYS1sYWJlbD1cIiR7YXJpYUxhYmVsfVwiPiR7Y29udGVudH08L3NwYW4+PGJ1dHRvbiBjbGFzcz1cInNlY3Rpb24tY2F0YWxvZ19faGVhZGVyLW5hbWVwbGF0ZS1idG5cIiBhcmlhLWxhYmVsPVwi0JfQsNC60YDRi9GC0Ywg0LLRi9Cx0YDQsNC90L3Ri9C5INGE0LjQu9GM0YLRgFwiIGlkPVwiY2xvc2UtbmFtZXBsYXRlLSR7aWR9XCI+PHN2ZyB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xNS41OTk5IDguNDAwMDJMOC4zOTk5IDE1LjZcIiBzdHJva2U9XCIjNjY2NjY2XCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIvPjxwYXRoIGQ9XCJNOC4zOTk5IDguNDAwMDJMMTUuNTk5OSAxNS42XCIgc3Ryb2tlPVwiIzY2NjY2NlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiLz48L3N2Zz48L2J1dHRvbj48L2Rpdj5gXG4gICAgKTtcbiAgICBkb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKGBjbG9zZS1uYW1lcGxhdGUtJHtpZH1gKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbmFtZXBsYXRlLSR7aWR9YCkucmVtb3ZlKCk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjaGVja2JveC0ke2lkfWApLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgIH0pO1xuICB9XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYWxsTGFiZWwpLmZvckVhY2goKGxhYmVsKSA9PiB7XG4gICAgY29uc3QgY2hlY2tib3hJZCA9IHBhcnNlSW50KFxuICAgICAgbGFiZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKS5pZC5yZXBsYWNlKC9bXlxcZF0vZywgJycpXG4gICAgKTtcbiAgICBjb25zdCBjaGVja2JveE5hbWUgPSBsYWJlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLm5hbWU7XG4gICAgY29uc3QgY2hlY2tib3hWYWx1ZSA9IGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykudmFsdWU7XG5cbiAgICBpZiAobGFiZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jaGVja2VkKVxuICAgICAgY3JlYXRlTmFtZXBsYXRlKFxuICAgICAgICBuYW1lcGxhdGUsXG4gICAgICAgIGRlc3RpbmF0aW9uLFxuICAgICAgICBjaGVja2JveElkLFxuICAgICAgICBjaGVja2JveE5hbWUsXG4gICAgICAgIGNoZWNrYm94VmFsdWVcbiAgICAgICk7XG4gICAgbGFiZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoY2hlY2tib3gpID0+IHtcbiAgICAgIGlmIChjaGVja2JveC5jdXJyZW50VGFyZ2V0LmNoZWNrZWQgPT0gdHJ1ZSlcbiAgICAgICAgY3JlYXRlTmFtZXBsYXRlKFxuICAgICAgICAgIG5hbWVwbGF0ZSxcbiAgICAgICAgICBkZXN0aW5hdGlvbixcbiAgICAgICAgICBjaGVja2JveElkLFxuICAgICAgICAgIGNoZWNrYm94TmFtZSxcbiAgICAgICAgICBjaGVja2JveFZhbHVlXG4gICAgICAgICk7XG4gICAgICBlbHNlIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBuYW1lcGxhdGUtJHtjaGVja2JveElkfWApLnJlbW92ZSgpO1xuICAgIH0pO1xuICB9KTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5mdW5jdGlvbiBlbGVtVmlzaWJsZShlbCwgY2xhc3NPcGVuLCBkaXNwbGF5KSB7XG4gIGVsLnN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5O1xuICBlbC5jbGFzc0xpc3QuYWRkKGNsYXNzT3Blbik7XG59XG5cbmZ1bmN0aW9uIGVsZW1IaWRkZW4oZWwsIGNsYXNzT3BlbiwgY2xhc3NDbG9zZSkge1xuICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzT3Blbik7XG4gIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NDbG9zZSk7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc0Nsb3NlKTtcbiAgfSwgNDAwKTtcbn1cblxuZnVuY3Rpb24gcG9wdXBDbG9zZShtb2RhbCwgY2xhc3NDbG9zZSkge1xuICBtb2RhbC5jbGFzc0xpc3QuYWRkKGNsYXNzQ2xvc2UpO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NDbG9zZSk7XG4gIH0sIDQwMCk7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuZnVuY3Rpb24gY3JlYXRlQnRuQW5kSGlkaW5nSXRlbShcbiAgbGltaXRRdWFudGl0eSxcbiAgY2xhc3NMaXN0LFxuICBjbGFzc0l0ZW0sXG4gIGNsYXNzQnRuLFxuICBjbGFzc0FjdGl2ZVxuKSB7XG4gIGNvbnN0IGxpc3RDaGVja2JveENhdGFsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtjbGFzc0xpc3R9YCk7XG5cbiAgbGlzdENoZWNrYm94Q2F0YWxvZy5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGlmIChlbC5jaGlsZHJlbi5sZW5ndGggPiBsaW1pdFF1YW50aXR5KSB7XG4gICAgICBjb25zdCBmdWxsTGVuZ3RoID0gZWwuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgY29uc3QgcmFuZ2VMZW5ndGggPSBmdWxsTGVuZ3RoIC0gbGltaXRRdWFudGl0eTtcbiAgICAgIGNvbnN0IGFyciA9IEFycmF5LmZyb20oZWwuY2hpbGRyZW4pO1xuICAgICAgY29uc3QgaGlkZGVuSXRlbXMgPSBhcnIuc2xpY2UoZnVsbExlbmd0aCAtIHJhbmdlTGVuZ3RoLCBmdWxsTGVuZ3RoKTtcbiAgICAgIGhpZGRlbkl0ZW1zLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoYCR7Y2xhc3NBY3RpdmV9YCk7XG4gICAgICB9KTtcbiAgICAgIGVsLmluc2VydEFkamFjZW50SFRNTChcbiAgICAgICAgJ2JlZm9yZWVuZCcsXG4gICAgICAgIGA8YnV0dG9uIGNsYXNzPVwiJHtjbGFzc0J0bn1cIj4rINC10YnRkSAke2hpZGRlbkl0ZW1zLmxlbmd0aH08L2J1dHRvbj5gXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgYnRuTGlzdENoZWNrYm94Q2F0YWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke2NsYXNzQnRufWApO1xuXG4gIGJ0bkxpc3RDaGVja2JveENhdGFsb2cuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBwYXJlbnQgPSBlLmN1cnJlbnRUYXJnZXQuY2xvc2VzdChgLiR7Y2xhc3NMaXN0fWApO1xuICAgICAgaWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoYCR7Y2xhc3NBY3RpdmV9YCkpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChgJHtjbGFzc0FjdGl2ZX1gKTtcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSAn0KHQstC10YDQvdGD0YLRjCc7XG4gICAgICAgIHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtjbGFzc0l0ZW19YCkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGAke2NsYXNzQWN0aXZlfWApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoYCR7Y2xhc3NBY3RpdmV9YCk7XG4gICAgICAgIGVsLnRleHRDb250ZW50ID0gJ9Cf0L7QutCw0LfQsNGC0Ywg0LLRgdC1JztcbiAgICAgICAgY29uc3QgZnVsbExlbmd0aCA9IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHJhbmdlTGVuZ3RoID0gZnVsbExlbmd0aCAtIGxpbWl0UXVhbnRpdHk7XG4gICAgICAgIGNvbnN0IGFyciA9IEFycmF5LmZyb20ocGFyZW50LmNoaWxkcmVuKTtcbiAgICAgICAgY29uc3QgaGlkZGVuSXRlbXMgPSBhcnIuc2xpY2UoZnVsbExlbmd0aCAtIHJhbmdlTGVuZ3RoLCBmdWxsTGVuZ3RoIC0gMSk7XG4gICAgICAgIGhpZGRlbkl0ZW1zLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChgJHtjbGFzc0FjdGl2ZX1gKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmZ1bmN0aW9uIHNlbGVjdChzZWxlY3QgPSB7fSwgb3B0aW9ucyA9IFtdKSB7XG4gIGNvbnN0IGNvbnRhaW5lclNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBzZWxlY3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgY29uc3Qgc2VsZWN0RHJvcGRvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbGV0IGNvbnRlbnQ7XG5cbiAgY29udGFpbmVyU2VsZWN0LmNsYXNzTGlzdC5hZGQoc2VsZWN0LmNsYXNzQ29udGFpbmVyKTtcbiAgc2VsZWN0QnRuLmNsYXNzTGlzdC5hZGQoc2VsZWN0LmNsYXNzU2VsZWN0Lm1haW4pO1xuICBzZWxlY3REcm9wZG93bi5jbGFzc0xpc3QuYWRkKHNlbGVjdC5jbGFzc0Ryb3Bkb3duLm1haW4pO1xuICBzZWxlY3REcm9wZG93bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBzZWxlY3RCdG4udGV4dENvbnRlbnQgPSBzZWxlY3QubmFtZTtcbiAgc2VsZWN0QnRuLm5hbWUgPSAn0KTQuNC70YzRgtGAJztcblxuICBmdW5jdGlvbiBzdmdJY29uKGVsKSB7XG4gICAgZWwuaW5zZXJ0QWRqYWNlbnRIVE1MKFxuICAgICAgJ2JlZm9yZWVuZCcsXG4gICAgICAnPHN2ZyB3aWR0aD1cIjEyXCIgaGVpZ2h0PVwiOFwiIHZpZXdCb3g9XCIwIDAgMTIgOFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk01LjY1Njc0IDUuODA1MjFMMTAuNTU5MyAwLjkwMjYwN0wxMS4zMTM2IDEuNjU2ODVMNS42NTY3NCA3LjMxMzcxTC0wLjAwMDExNTg3MSAxLjY1Njg1TDAuNzU0MTMxIDAuOTAyNjA3TDUuNjU2NzQgNS44MDUyMVpcIiBmaWxsPVwiI0E2NUNGMFwiLz48L3N2Zz4nXG4gICAgKTtcbiAgfVxuICBzdmdJY29uKHNlbGVjdEJ0bik7XG5cbiAgZnVuY3Rpb24gZWxlbVZpc2libGUoZWwsIGNsYXNzT3BlbiwgZGlzcGxheSkge1xuICAgIGVsLnN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5O1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NPcGVuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVsZW1IaWRkZW4oZWwsIGNsYXNzT3BlbiwgY2xhc3NDbG9zZSkge1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NPcGVuKTtcbiAgICBlbC5jbGFzc0xpc3QuYWRkKGNsYXNzQ2xvc2UpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NDbG9zZSk7XG4gICAgfSwgNDAwKTtcbiAgfVxuXG4gIHNlbGVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb250ZW50ID0gc2VsZWN0QnRuLnRleHRDb250ZW50O1xuICAgIGlmIChzZWxlY3REcm9wZG93bi5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHtcbiAgICAgIHNlbGVjdEJ0bi5jbGFzc0xpc3QuYWRkKHNlbGVjdC5jbGFzc1NlbGVjdC5hY3RpdmUpO1xuICAgICAgZWxlbVZpc2libGUoc2VsZWN0RHJvcGRvd24sIHNlbGVjdC5jbGFzc0Ryb3Bkb3duLm9wZW4sICdmbGV4Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKHNlbGVjdC5jbGFzc1NlbGVjdC5hY3RpdmUpO1xuICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgc2VsZWN0RHJvcGRvd24sXG4gICAgICAgIHNlbGVjdC5jbGFzc0Ryb3Bkb3duLm9wZW4sXG4gICAgICAgIHNlbGVjdC5jbGFzc0Ryb3Bkb3duLmNsb3NlXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlbCkgPT4ge1xuICAgIGlmIChzZWxlY3REcm9wZG93bi5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHJldHVybjtcbiAgICBpZiAoIXNlbGVjdERyb3Bkb3duLmNvbnRhaW5zKGVsLnRhcmdldCkgJiYgIXNlbGVjdEJ0bi5jb250YWlucyhlbC50YXJnZXQpKSB7XG4gICAgICBzZWxlY3RCdG4uY2xhc3NMaXN0LnJlbW92ZShzZWxlY3QuY2xhc3NTZWxlY3QuYWN0aXZlKTtcbiAgICAgIGVsZW1IaWRkZW4oXG4gICAgICAgIHNlbGVjdERyb3Bkb3duLFxuICAgICAgICBzZWxlY3QuY2xhc3NEcm9wZG93bi5vcGVuLFxuICAgICAgICBzZWxlY3QuY2xhc3NEcm9wZG93bi5jbG9zZVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIG9wdGlvbnMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBjb25zdCBvcHRpb25CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgIG9wdGlvbkJ0bi5jbGFzc0xpc3QuYWRkKGVsLmNsYXNzKTtcbiAgICBvcHRpb25CdG4udGV4dENvbnRlbnQgPSBlbC5uYW1lO1xuICAgIG9wdGlvbkJ0bi52YWx1ZSA9IGVsLm5hbWU7XG5cbiAgICBvcHRpb25CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBzZWxlY3RCdG4udGV4dENvbnRlbnQgPSBvcHRpb25CdG4udGV4dENvbnRlbnQ7XG4gICAgICBzdmdJY29uKHNlbGVjdEJ0bik7XG4gICAgICBvcHRpb25CdG4udGV4dENvbnRlbnQgPSBjb250ZW50O1xuICAgICAgc2VsZWN0QnRuLmNsYXNzTGlzdC5yZW1vdmUoc2VsZWN0LmNsYXNzU2VsZWN0LmFjdGl2ZSk7XG4gICAgICBlbGVtSGlkZGVuKFxuICAgICAgICBzZWxlY3REcm9wZG93bixcbiAgICAgICAgc2VsZWN0LmNsYXNzRHJvcGRvd24ub3BlbixcbiAgICAgICAgc2VsZWN0LmNsYXNzRHJvcGRvd24uY2xvc2VcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBzZWxlY3REcm9wZG93bi5hcHBlbmQob3B0aW9uQnRuKTtcbiAgfSk7XG5cbiAgY29udGFpbmVyU2VsZWN0LmFwcGVuZChzZWxlY3RCdG4sIHNlbGVjdERyb3Bkb3duKTtcblxuICByZXR1cm4gY29udGFpbmVyU2VsZWN0O1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1pbm5lci1kZWNsYXJhdGlvbnMgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG5cbi8vIGFuaW1hdGlvbiBjbGFzc1xuY29uc3QgY2xhc3NBbmltYXRpb25WaXNpYmxlID0gJ2FuaW1hdGlvbi12aXNpYmxlJztcbmNvbnN0IGNsYXNzQW5pbWF0aW9uSGlkZGVuID0gJ2FuaW1hdGlvbi1oaWRkZW4nO1xuY29uc3QgY2xhc3NBbmltYXRpb25JY29uID0gJ2FuaW1hdGlvbi1pY29uJztcbmNvbnN0IGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuID0gJ2FuaW1hdGlvbi1kcm9wZG93bi1vcGVuJztcbmNvbnN0IGNsYXNzQW5pbWF0aW9uRHJvcGRvd25DbG9zZSA9ICdhbmltYXRpb24tZHJvcGRvd24tY2xvc2UnO1xuY29uc3QgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4gPSAnYW5pbWF0aW9uLW1vZGFsLW9wZW4nO1xuY29uc3QgY2xhc3NBbmltYXRpb25Nb2RhbENsb3NlID0gJ2FuaW1hdGlvbi1tb2RhbC1jbG9zZSc7XG5cbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuY29uc3QgcHJlbG9hZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZWxvYWRlcicpO1xuY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpO1xuY29uc3QgaGVhZGVyQnJlYWRjcnVtYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLWJyZWFkY3J1bWJzJyk7XG5jb25zdCBsaXN0TGlua3NoZWFkZXJCcmVhZGNydW1icyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICcuaGVhZGVyLWJyZWFkY3J1bWJzX19saXN0J1xuKTtcbmNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluJyk7XG5jb25zdCBsb2NhdGlvblNlYXJjaE5hbWUgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnJlcGxhY2UoL1teYS160LAt0Y/RkV0vZ2ksICcnKTtcblxuZnVuY3Rpb24gY29udGVudExvY2F0aW9uKGxvY2F0aW9uTmFtZSwgdGl0bGUsIGFycmF5TGluaykge1xuICBkb2N1bWVudC50aXRsZSA9IGBTaXREb3duUGxzIC0gJHt0aXRsZX1gO1xuXG4gIGhlYWRlci5jbGFzc0xpc3QuYWRkKCdoZWFkZXItYm90dG9tJyk7XG4gIGhlYWRlckJyZWFkY3J1bWJzLmNsYXNzTGlzdC5hZGQoJ2hlYWRlci1icmVhZGNydW1icy1hY3RpdmUnKTtcbiAgY29uc3QgbGFzdENoaWxkQXJyYXkgPSBhcnJheUxpbmtbYXJyYXlMaW5rLmxlbmd0aCAtIDFdO1xuXG4gIGFycmF5TGluay5mb3JFYWNoKChsaW5rKSA9PiB7XG4gICAgY29uc3QgaXRlbWhlYWRlckJyZWFkY3J1bWJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICBjb25zdCBsaW5raGVhZGVyQnJlYWRjcnVtYnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgaXRlbWhlYWRlckJyZWFkY3J1bWJzLmNsYXNzTGlzdC5hZGQoJ2hlYWRlci1icmVhZGNydW1ic19faXRlbScpO1xuICAgIGxpbmtoZWFkZXJCcmVhZGNydW1icy5jbGFzc0xpc3QuYWRkKCdoZWFkZXItYnJlYWRjcnVtYnNfX2l0ZW0tbGluaycpO1xuICAgIGxpbmtoZWFkZXJCcmVhZGNydW1icy50ZXh0Q29udGVudCA9IGxpbms7XG5cbiAgICBpZiAobGluayA9PT0gbGFzdENoaWxkQXJyYXkpXG4gICAgICBsaW5raGVhZGVyQnJlYWRjcnVtYnMuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLWJyZWFkY3J1bWJzX19pdGVtLWxpbmstYW5kJyk7XG4gICAgaWYgKGxpbmsgPT09ICfQk9C70LDQstC90LDRjycpIGxpbmtoZWFkZXJCcmVhZGNydW1icy5ocmVmID0gbG9jYXRpb24ub3JpZ2luO1xuICAgIGlmIChsaW5rID09PSAn0JrQsNGC0LDQu9C+0LMnKSBsaW5raGVhZGVyQnJlYWRjcnVtYnMuaHJlZiA9ICc/Y2F0YWxvZyc7XG4gICAgaWYgKGxpbmsgPT09ICfQlNC40LLQsNC90YsnKSBsaW5raGVhZGVyQnJlYWRjcnVtYnMuaHJlZiA9ICc/Y2F0YWxvZyc7XG4gICAgaWYgKGxpbmsgPT09ICfQn9GA0Y/QvNGL0LUg0LTQuNCy0LDQvdGLJyAmJiBsb2NhdGlvbk5hbWUgPT09ICdjYXJkJylcbiAgICAgIGxpbmtoZWFkZXJCcmVhZGNydW1icy5ocmVmID0gJz9jYXRhbG9nJztcblxuICAgIGl0ZW1oZWFkZXJCcmVhZGNydW1icy5hcHBlbmQobGlua2hlYWRlckJyZWFkY3J1bWJzKTtcbiAgICBsaXN0TGlua3NoZWFkZXJCcmVhZGNydW1icy5hcHBlbmQoaXRlbWhlYWRlckJyZWFkY3J1bWJzKTtcbiAgfSk7XG5cbiAgbWFpbi5jbGFzc05hbWUgPSBgbWFpbi0ke2xvY2F0aW9uTmFtZX1gO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbi1pbmRleCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2xvY2F0aW9uTmFtZX1gKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gIHByZWxvYWRlci5yZW1vdmUoKTtcbn0pO1xuXG5zd2l0Y2ggKGxvY2F0aW9uU2VhcmNoTmFtZSkge1xuICBjYXNlICdjYXRhbG9nJzpcbiAgICBjb250ZW50TG9jYXRpb24obG9jYXRpb25TZWFyY2hOYW1lLCAn0JrQsNGC0LDQu9C+0LMnLCBbXG4gICAgICAn0JPQu9Cw0LLQvdCw0Y8nLFxuICAgICAgJ9Ca0LDRgtCw0LvQvtCzJyxcbiAgICAgICfQlNC40LLQsNC90YsnLFxuICAgICAgJ9Cf0YDRj9C80YvQtSDQtNC40LLQsNC90YsnLFxuICAgIF0pO1xuICAgIGJyZWFrO1xuICBjYXNlICdjYXJkJzpcbiAgICBjb250ZW50TG9jYXRpb24obG9jYXRpb25TZWFyY2hOYW1lLCAn0JTQuNCy0LDQvSDRgtC60LDQvdC10LLRi9C5INC/0YDRj9C80L7QuSDigJxELTMx4oCdJywgW1xuICAgICAgJ9CT0LvQsNCy0L3QsNGPJyxcbiAgICAgICfQmtCw0YLQsNC70L7QsycsXG4gICAgICAn0JTQuNCy0LDQvdGLJyxcbiAgICAgICfQn9GA0Y/QvNGL0LUg0LTQuNCy0LDQvdGLJyxcbiAgICAgICdELTMxJyxcbiAgICBdKTtcbiAgICBicmVhaztcbiAgY2FzZSAnY29vcGVyYXRpb24nOlxuICAgIGNvbnRlbnRMb2NhdGlvbihsb2NhdGlvblNlYXJjaE5hbWUsICfQodC+0YLRgNGD0LTQvdC40YfQtdGB0YLQstC+JywgW1xuICAgICAgJ9CT0LvQsNCy0L3QsNGPJyxcbiAgICAgICfQodC+0YLRgNGD0LTQvdC40YfQtdGB0YLQstC+JyxcbiAgICBdKTtcbiAgICBicmVhaztcbiAgY2FzZSAnY29udGFjdHMnOlxuICAgIGNvbnRlbnRMb2NhdGlvbihsb2NhdGlvblNlYXJjaE5hbWUsICfQmtC+0L3RgtCw0LrRgtGLJywgWyfQk9C70LDQstC90LDRjycsICfQmtC+0L3RgtCw0LrRgtGLJ10pO1xuICAgIGJyZWFrO1xufVxuXG4vLyBzY3JvbGxcbmNvbnN0IGJ0blNjcm9sbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tc2Nyb2xsJyk7XG5cbmZ1bmN0aW9uIGV2ZW50QnRuU2Nyb2xsKGJ0bikge1xuICBmdW5jdGlvbiB2aXNpYmxlQW5kSGlkZGVuQnRuKGJ0blNjcm9sbCkge1xuICAgIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPj0gMjAwKSBidG5TY3JvbGwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICBlbHNlIGJ0blNjcm9sbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICB9KTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB2aXNpYmxlQW5kSGlkZGVuQnRuKGJ0bikpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4gdmlzaWJsZUFuZEhpZGRlbkJ0bihidG4pLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZSxcbiAgfSk7XG59XG5ldmVudEJ0blNjcm9sbChidG5TY3JvbGwpO1xuXG4vLyBoZWFkZXJcblxuLy8gaGVhZGVyIC8vIHNlbGVjdFxuY29uc3Qgc2VsZWN0SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdCcpO1xuXG5zZWxlY3RIZWFkZXIuYXBwZW5kKFxuICBzZWxlY3QoXG4gICAge1xuICAgICAgbmFtZTogJ9Cc0L7RgdC60LLQsCcsXG4gICAgICBjbGFzc0NvbnRhaW5lcjogJ2hlYWRlcl9fc2VsZWN0LWJveCcsXG4gICAgICBjbGFzc1NlbGVjdDoge1xuICAgICAgICBtYWluOiAnaGVhZGVyX19zZWxlY3QnLFxuICAgICAgICBhY3RpdmU6IGNsYXNzQW5pbWF0aW9uSWNvbixcbiAgICAgIH0sXG4gICAgICBjbGFzc0Ryb3Bkb3duOiB7XG4gICAgICAgIG1haW46ICdoZWFkZXJfX3NlbGVjdC1kcm9wZG93bicsXG4gICAgICAgIG9wZW46IGNsYXNzQW5pbWF0aW9uVmlzaWJsZSxcbiAgICAgICAgY2xvc2U6IGNsYXNzQW5pbWF0aW9uSGlkZGVuLFxuICAgICAgfSxcbiAgICB9LFxuICAgIFtcbiAgICAgIHsgbmFtZTogJ9Ca0LDQt9Cw0L3RjCcsIGNsYXNzOiAnaGVhZGVyX19zZWxlY3QtZHJvcGRvd24tYnRuJyB9LFxuICAgICAgeyBuYW1lOiAn0KPRhNCwJywgY2xhc3M6ICdoZWFkZXJfX3NlbGVjdC1kcm9wZG93bi1idG4nIH0sXG4gICAgICB7IG5hbWU6ICfQn9C10YDQvNGMJywgY2xhc3M6ICdoZWFkZXJfX3NlbGVjdC1kcm9wZG93bi1idG4nIH0sXG4gICAgXVxuICApXG4pO1xuXG4vLyBoZWFkZXIgLy8gc2VhcmNoXG5jb25zdCBzZWFyY2hIZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoJyk7XG5jb25zdCBpY29uU2VhcmNoSGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC1pY29uJyk7XG5cbnNlYXJjaEhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jbGFzc0xpc3QuYWRkKCdpbnB1dC1hY3RpdmUnKTtcbiAgaWNvblNlYXJjaEhlYWRlci5zdHlsZS5maWxsID0gJyNBNjVDRjAnO1xuICBpZiAodGhpcy52YWx1ZSAhPT0gJycpIHtcbiAgfSBlbHNlIHtcbiAgICBpY29uU2VhcmNoSGVhZGVyLnN0eWxlLmZpbGwgPSAnIzk5OTk5OSc7XG4gICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC1hY3RpdmUnKTtcbiAgfVxufSk7XG5cbi8vIGhlYWRlciAvLyBkcm9wZG93blxuY29uc3QgZHJvcGRvd25CdG5IZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcGRvd24tYnRuJyk7XG5jb25zdCBkcm9wZG93bkhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wZG93bicpO1xuXG5kcm9wZG93bkJ0bkhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgaWYgKGRyb3Bkb3duSGVhZGVyLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbikpIHtcbiAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NBbmltYXRpb25JY29uKTtcbiAgICBlbGVtSGlkZGVuKFxuICAgICAgZHJvcGRvd25IZWFkZXIsXG4gICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25DbG9zZVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5jbGFzc0xpc3QuYWRkKGNsYXNzQW5pbWF0aW9uSWNvbik7XG4gICAgZWxlbVZpc2libGUoZHJvcGRvd25IZWFkZXIsIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuLCAnZmxleCcpO1xuICB9XG59KTtcbmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZWwpID0+IHtcbiAgaWYgKFxuICAgICFkcm9wZG93bkJ0bkhlYWRlci5jb250YWlucyhlbC50YXJnZXQpICYmXG4gICAgIWRyb3Bkb3duSGVhZGVyLmNvbnRhaW5zKGVsLnRhcmdldClcbiAgKSB7XG4gICAgZHJvcGRvd25CdG5IZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShjbGFzc0FuaW1hdGlvbkljb24pO1xuICAgIGVsZW1IaWRkZW4oXG4gICAgICBkcm9wZG93bkhlYWRlcixcbiAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuLFxuICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bkNsb3NlXG4gICAgKTtcbiAgfVxufSk7XG5cbi8vIGhlYWRlciAvLyBtZW51XG5jb25zdCBtZW51SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUnKTtcbmNvbnN0IG5hdkhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXYnKTtcbmNvbnN0IGJ0bk9wZW5NZW51SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtb3BlbicpO1xuY29uc3QgYnRuQ2xvc2VNZW51SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtY2xvc2UnKTtcblxuYnRuT3Blbk1lbnVIZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGVsZW1WaXNpYmxlKG1lbnVIZWFkZXIsIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuLCAnYmxvY2snKTtcbiAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPD0gNjY0KVxuICAgIGVsZW1WaXNpYmxlKG5hdkhlYWRlciwgY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4sICdibG9jaycpO1xufSk7XG5idG5DbG9zZU1lbnVIZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGVsZW1IaWRkZW4oXG4gICAgbWVudUhlYWRlcixcbiAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2VcbiAgKTtcbiAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPD0gNjY0KVxuICAgIGVsZW1IaWRkZW4oXG4gICAgICBuYXZIZWFkZXIsXG4gICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25DbG9zZVxuICAgICk7XG59KTtcbmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZWwpID0+IHtcbiAgaWYgKFxuICAgICFidG5PcGVuTWVudUhlYWRlci5jb250YWlucyhlbC50YXJnZXQpICYmXG4gICAgIW1lbnVIZWFkZXIuY29udGFpbnMoZWwudGFyZ2V0KSAmJlxuICAgICFuYXZIZWFkZXIuY29udGFpbnMoZWwudGFyZ2V0KVxuICApIHtcbiAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8PSA5OTIpXG4gICAgICBlbGVtSGlkZGVuKFxuICAgICAgICBtZW51SGVhZGVyLFxuICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bkNsb3NlXG4gICAgICApO1xuICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDw9IDY2NClcbiAgICAgIGVsZW1IaWRkZW4oXG4gICAgICAgIG5hdkhlYWRlcixcbiAgICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4sXG4gICAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25DbG9zZVxuICAgICAgKTtcbiAgfVxufSk7XG5cbi8vIHNlY3Rpb24tYmFubmVyXG5jb25zdCBwb3B1cEJhbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYW5uZXItcG9wdXAnKTtcbmlmIChwb3B1cEJhbm5lcikge1xuICBjb25zdCBidG5zQmFubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24tYmFubmVyX19zbGlkZS1idG4nKTtcbiAgY29uc3QgYnRuQmFubmVyU00gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWJhbm5lcicpO1xuXG4gIGZ1bmN0aW9uIGV2ZW50QnRuUG9wdXBCYW5uZXIoYnRuKSB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZWxlbVZpc2libGUocG9wdXBCYW5uZXIsIGNsYXNzQW5pbWF0aW9uVmlzaWJsZSwgJ2Jsb2NrJyk7XG4gICAgICBidG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGVsZW1IaWRkZW4ocG9wdXBCYW5uZXIsIGNsYXNzQW5pbWF0aW9uVmlzaWJsZSwgY2xhc3NBbmltYXRpb25IaWRkZW4pO1xuICAgICAgfSwgMjYwMCk7XG4gICAgfSk7XG4gIH1cblxuICBidG5zQmFubmVyLmZvckVhY2goKGJ0bikgPT4ge1xuICAgIGV2ZW50QnRuUG9wdXBCYW5uZXIoYnRuKTtcbiAgICBmdW5jdGlvbiBidG5CYW5uZXJUZXh0Q29udGVudCgpIHtcbiAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgMTMyMSkge1xuICAgICAgICBidG4udGV4dENvbnRlbnQgPSAn0J/QvtC70YPRh9C40YLRjCEnO1xuICAgICAgfVxuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGJ0bkJhbm5lclRleHRDb250ZW50KCkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBidG5CYW5uZXJUZXh0Q29udGVudCgpKTtcbiAgfSk7XG4gIGV2ZW50QnRuUG9wdXBCYW5uZXIoYnRuQmFubmVyU00pO1xufVxuXG4vLyBzZWN0aW9uLXJhdGluZ1xuY29uc3QgYnRuUmF0aW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmUtZ29vZHMnKTtcbmlmIChidG5SYXRpbmcpIHtcbiAgY29uc3QgaXRlbVJhdGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLXJhdGluZ19faXRlbS1jb250ZW50Jyk7XG5cbiAgYnRuUmF0aW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGl0ZW1SYXRpbmcuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGl0ZW0pLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgICBlbGVtVmlzaWJsZShpdGVtLCBjbGFzc0FuaW1hdGlvbk1vZGFsT3BlbiwgJ2Jsb2NrJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9KTtcbn1cblxuLy8gc2VjdGlvbi1jYXRhbG9nXG5jb25zdCBzZWN0aW9uQ2F0YWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWNhdGFsb2cnKTtcbmlmIChzZWN0aW9uQ2F0YWxvZykge1xuICAvLyBzZWN0aW9uLWNhdGFsb2cgLy8gY2hlY2tib3gtYnRuXG4gIGNyZWF0ZUJ0bkFuZEhpZGluZ0l0ZW0oXG4gICAgOSxcbiAgICAnc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWNoZWNrYm94LWxpc3QnLFxuICAgICdzZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItY2hlY2tib3gtaXRlbScsXG4gICAgJ3NlY3Rpb24tY2F0YWxvZ19fc2lkZWJhci1jaGVja2JveC1idG4nLFxuICAgICdzZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItY2hlY2tib3gtaXRlbS1hY3RpdmUnXG4gICk7XG5cbiAgLy8gc2VjdGlvbi1jYXRhbG9nIC8vIENhdGVnb3J5IGFuZCBDb2xvclxuICBjb25zdCBuYW1lcGxhdGVGcm9tUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19oZWFkZXItbmFtZXBsYXRlLXByaWNlLTEnXG4gICk7XG4gIGNvbnN0IGxhYmVsQ2F0ZWdvcnkgPSAnLnNlY3Rpb24tY2F0YWxvZ19fc2lkZWJhci1sYWJlbC1jYXRlZ29yeSc7XG4gIGNvbnN0IG5hbWVwbGF0ZURpc2NvdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAnLnNlY3Rpb24tY2F0YWxvZ19faGVhZGVyLW5hbWVwbGF0ZS1kaXNjb3VudCdcbiAgKTtcbiAgY29uc3QgbGFiZWxDb2xvciA9ICcuc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWxhYmVsLWNvbG9yJztcblxuICBldmVudENoZWNrYm94TmFtZXBsYXRlKGxhYmVsQ2F0ZWdvcnksIG5hbWVwbGF0ZUZyb21QcmljZSwgJ2JlZm9yZWJlZ2luJyk7XG4gIGV2ZW50Q2hlY2tib3hOYW1lcGxhdGUobGFiZWxDb2xvciwgbmFtZXBsYXRlRGlzY291bnQsICdhZnRlcmVuZCcpO1xuXG4gIC8vIHNlY3Rpb24tY2F0YWxvZyAvLyBwcmljZVxuICBjb25zdCByYW5nZVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW5nZS1zbGlkZXInKTtcbiAgY29uc3QgaW5wdXRGcm9tUHJpY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lkZWJhci1pbnB1dC1mcm9tJyk7XG4gIGNvbnN0IGlucHV0QmVmb3JlUHJpY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lkZWJhci1pbnB1dC1iZWZvcmUnKTtcbiAgY29uc3QgdmFsdWVpbnB1dEZyb21QcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICd2YWx1ZS1zaWRlYmFyLWlucHV0LWZyb20nXG4gICk7XG4gIGNvbnN0IHZhbHVlaW5wdXRCZWZvcmVQcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICd2YWx1ZS1zaWRlYmFyLWlucHV0LWJlZm9yZSdcbiAgKTtcbiAgY29uc3QgbmFtZXBsYXRlQmVmb3JlUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19oZWFkZXItbmFtZXBsYXRlLXByaWNlLTInXG4gICk7XG4gIGNvbnN0IGJ0bkNsb3NlRnJvbVByaWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1jbG9zZS1wcmljZS1mcm9tJyk7XG4gIGNvbnN0IGJ0bkNsb3NlUHJpY2VCZWZvcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWNsb3NlLXByaWNlLWJlZm9yZScpO1xuICBjb25zdCBpbnB1dHMgPSBbaW5wdXRGcm9tUHJpY2UsIGlucHV0QmVmb3JlUHJpY2VdO1xuXG4gIGZ1bmN0aW9uIHRocm93VmFsdWVQcmljZShidG4sIGlucHV0LCBuYW1lcGxhdGUpIHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9ICcwJztcbiAgICAgIG5hbWVwbGF0ZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlOYW1lcGxhdGVQcmljZShidG4sIG5hbWVwbGF0ZSkge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgICBuYW1lcGxhdGUuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB9KTtcbiAgfVxuXG4gIG5vVWlTbGlkZXIuY3JlYXRlKHJhbmdlU2xpZGVyLCB7XG4gICAgc3RhcnQ6IFsyMDAwLCAxNTAwMDBdLFxuICAgIGNvbm5lY3Q6IHRydWUsXG4gICAgc3RlcDogNTAwLFxuICAgIHJhbmdlOiB7XG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDIzMDAwMCxcbiAgICB9LFxuICAgIGhhbmRsZUF0dHJpYnV0ZXM6IFt7ICdhcmlhLWxhYmVsJzogJ9CS0LvQtdCy0L4nIH0sIHsgJ2FyaWEtbGFiZWwnOiAn0JLQv9GA0LDQstC+JyB9XSxcbiAgfSk7XG5cbiAgcmFuZ2VTbGlkZXIubm9VaVNsaWRlci5vbigndXBkYXRlJywgZnVuY3Rpb24gKHZhbHVlcywgaGFuZGxlKSB7XG4gICAgaW5wdXRzW2hhbmRsZV0udmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlc1toYW5kbGVdKTtcbiAgfSk7XG4gIGNvbnN0IHNldFNsaWRlciA9IChpLCB2YWx1ZSkgPT4ge1xuICAgIGxldCBhcnIgPSBbbnVsbCwgbnVsbF07XG4gICAgYXJyW2ldID0gdmFsdWU7XG4gICAgcmFuZ2VTbGlkZXIubm9VaVNsaWRlci5zZXQoYXJyKTtcbiAgfTtcbiAgaW5wdXRzLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBzZXRTbGlkZXIoaW5kZXgsIGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgfSk7XG4gIH0pO1xuICByYW5nZVNsaWRlci5ub1VpU2xpZGVyLm9uKCd1cGRhdGUnLCBmdW5jdGlvbiAodmFsdWVzLCBoYW5kbGUpIHtcbiAgICBpbnB1dHNbaGFuZGxlXS5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKHZhbHVlc1toYW5kbGVdKTtcbiAgICB2YWx1ZWlucHV0RnJvbVByaWNlLmlubmVySFRNTCA9IE1hdGgucm91bmQodmFsdWVzWzBdKTtcbiAgICB2YWx1ZWlucHV0QmVmb3JlUHJpY2UuaW5uZXJIVE1MID0gTWF0aC5yb3VuZCh2YWx1ZXNbMV0pO1xuICB9KTtcblxuICBjb25zdCBidG5SYW5nZVNsaWRlckZyb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcjcmFuZ2Utc2xpZGVyIC5ub1VpLWhhbmRsZSdcbiAgKTtcbiAgY29uc3QgYnRuUmFuZ2VTbGlkZXJCZWZvcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcjcmFuZ2Utc2xpZGVyIC5ub1VpLWhhbmRsZS11cHBlcidcbiAgKTtcbiAgY29uc3QgcmFuZ2VTbGlkZXJMaW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JhbmdlLXNsaWRlciAubm9VaS1jb25uZWN0Jyk7XG5cbiAgdGhyb3dWYWx1ZVByaWNlKGJ0bkNsb3NlRnJvbVByaWNlLCBpbnB1dEZyb21QcmljZSwgbmFtZXBsYXRlRnJvbVByaWNlKTtcbiAgdGhyb3dWYWx1ZVByaWNlKGJ0bkNsb3NlUHJpY2VCZWZvcmUsIGlucHV0QmVmb3JlUHJpY2UsIG5hbWVwbGF0ZUJlZm9yZVByaWNlKTtcbiAgZGlzcGxheU5hbWVwbGF0ZVByaWNlKGlucHV0RnJvbVByaWNlLCBuYW1lcGxhdGVGcm9tUHJpY2UpO1xuICBkaXNwbGF5TmFtZXBsYXRlUHJpY2UoaW5wdXRCZWZvcmVQcmljZSwgbmFtZXBsYXRlQmVmb3JlUHJpY2UpO1xuICBkaXNwbGF5TmFtZXBsYXRlUHJpY2UoYnRuUmFuZ2VTbGlkZXJGcm9tLCBuYW1lcGxhdGVGcm9tUHJpY2UpO1xuICBkaXNwbGF5TmFtZXBsYXRlUHJpY2UoYnRuUmFuZ2VTbGlkZXJCZWZvcmUsIG5hbWVwbGF0ZUJlZm9yZVByaWNlKTtcblxuICBidG5SYW5nZVNsaWRlckZyb20uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgIHJhbmdlU2xpZGVyTGluZS5zdHlsZS5iYWNrZ3JvdW5kID0gJyM3MDMzQUMnO1xuICB9KTtcbiAgYnRuUmFuZ2VTbGlkZXJCZWZvcmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgIHJhbmdlU2xpZGVyTGluZS5zdHlsZS5iYWNrZ3JvdW5kID0gJyM3MDMzQUMnO1xuICB9KTtcbiAgYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgcmFuZ2VTbGlkZXJMaW5lLnN0eWxlLmJhY2tncm91bmQgPSAnI0E2NUNGMCc7XG4gIH0pO1xuICBidG5SYW5nZVNsaWRlckZyb20uYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoKSA9PiB7XG4gICAgcmFuZ2VTbGlkZXJMaW5lLnN0eWxlLmJhY2tncm91bmQgPSAnIzcwMzNBQyc7XG4gIH0pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hlY2tib3gtMjQnKS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICgpID0+IHtcbiAgICByYW5nZVNsaWRlckxpbmUuc3R5bGUuYmFja2dyb3VuZCA9ICcjQTY1Q0YwJztcbiAgfSk7XG5cbiAgLy8gc2VjdGlvbi1jYXRhbG9nIC8vIGRpc2NvdW50XG4gIGNvbnN0IGNoZWNrYm94RGlzY291bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWNoZWNrYm94LWRpc2NvdW50J1xuICApO1xuICBjb25zdCBuYW1lcGxhdGVEZXNjRGlzY291bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19oZWFkZXItbmFtZXBsYXRlLWRpc2NvdW50LWRlc2MnXG4gICk7XG4gIGNvbnN0IGJ0bkNsb3NlbmFtZXBsYXRlRGlzY291bnQgPVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tY2xvc2UtZGlzY291bnQnKTtcblxuICBjaGVja2JveERpc2NvdW50LmZvckVhY2goKGNoZWNib3gpID0+IHtcbiAgICBjaGVjYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgbmFtZXBsYXRlRGlzY291bnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgIG5hbWVwbGF0ZURlc2NEaXNjb3VudC50ZXh0Q29udGVudCA9IHRoaXMudmFsdWU7XG4gICAgfSk7XG4gIH0pO1xuICBidG5DbG9zZW5hbWVwbGF0ZURpc2NvdW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNoZWNrYm94RGlzY291bnQuZm9yRWFjaCgoY2hlY2tib3gpID0+IHtcbiAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgICBuYW1lcGxhdGVEaXNjb3VudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9KTtcblxuICAvLyBzZWN0aW9uLWNhdGFsb2cgLy8gZHJvcGRvd25cbiAgY29uc3QgYnRuc0Ryb3Bkb3duQ2F0YWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgJy5zZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItZHJvcGRvd24tYnRuJ1xuICApO1xuICBjb25zdCDRgWF0ZWdvcnlEcm9wZG93bkNhdGFsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWNoZWNrYm94LWxpc3Qt0YFhdGVnb3J5J1xuICApO1xuICBjb25zdCBwcmljZURyb3Bkb3duQ2F0YWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgJy5zZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItaW5wdXQtY29udGFpbmVyJ1xuICApO1xuICBjb25zdCBkaXNjb3VudERyb3Bkb3duQ2F0YWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgJy5zZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItY2hlY2tib3gtbGlzdC1kaXNjb3VudCdcbiAgKTtcbiAgY29uc3QgY29sb3JEcm9wZG93bkNhdGFsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWNoZWNrYm94LWxpc3QtY29sb3InXG4gICk7XG4gIGNvbnN0IGFycmF5RHJvcGRvd25DYXRhbG9nID0gW1xuICAgINGBYXRlZ29yeURyb3Bkb3duQ2F0YWxvZyxcbiAgICBwcmljZURyb3Bkb3duQ2F0YWxvZyxcbiAgICBkaXNjb3VudERyb3Bkb3duQ2F0YWxvZyxcbiAgICBjb2xvckRyb3Bkb3duQ2F0YWxvZyxcbiAgXTtcblxuICBidG5zRHJvcGRvd25DYXRhbG9nLmZvckVhY2goKGJ0biwgaW5kZXhCdG4pID0+IHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoYXJyYXlEcm9wZG93bkNhdGFsb2dbaW5kZXhCdG5dLnN0eWxlLmRpc3BsYXkgPT09ICdmbGV4Jykge1xuICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnYnRuLWFjdGl2ZScpO1xuICAgICAgICBlbGVtSGlkZGVuKFxuICAgICAgICAgIGFycmF5RHJvcGRvd25DYXRhbG9nW2luZGV4QnRuXSxcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2VcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdidG4tYWN0aXZlJyk7XG4gICAgICAgIGVsZW1WaXNpYmxlKFxuICAgICAgICAgIGFycmF5RHJvcGRvd25DYXRhbG9nW2luZGV4QnRuXSxcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgICAnZmxleCdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGVsKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgICFidG4uY29udGFpbnMoZWwudGFyZ2V0KSAmJlxuICAgICAgICAhYXJyYXlEcm9wZG93bkNhdGFsb2dbaW5kZXhCdG5dLmNvbnRhaW5zKGVsLnRhcmdldClcbiAgICAgICkge1xuICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8PSAxMzIwKSB7XG4gICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2J0bi1hY3RpdmUnKTtcbiAgICAgICAgICBlbGVtSGlkZGVuKFxuICAgICAgICAgICAgYXJyYXlEcm9wZG93bkNhdGFsb2dbaW5kZXhCdG5dLFxuICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4sXG4gICAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIHNlY3Rpb24tY2F0YWxvZyAvLyB0YWJzXG4gIGNvbnN0IHRhYnNCdG5DYXRhbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAnLnNlY3Rpb24tY2F0YWxvZ19fdGFicy1idG4nXG4gICk7XG5cbiAgdGFic0J0bkNhdGFsb2cuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBwYXRoID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnBhdGg7XG4gICAgICBkb2N1bWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24tY2F0YWxvZ19fdGFicy1saXN0JylcbiAgICAgICAgLmZvckVhY2goKGxpc3QpID0+IHtcbiAgICAgICAgICBsaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ3NlY3Rpb24tY2F0YWxvZ19fdGFicy1saXN0LWFjdGl2ZScpO1xuICAgICAgICB9KTtcbiAgICAgIHRhYnNCdG5DYXRhbG9nLmZvckVhY2goKGFsbEJ0bikgPT5cbiAgICAgICAgYWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlY3Rpb24tY2F0YWxvZ19fdGFicy1idG4tYWN0aXZlJylcbiAgICAgICk7XG4gICAgICBkb2N1bWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFyZ2V0PVwiJHtwYXRofVwiXWApXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKCdzZWN0aW9uLWNhdGFsb2dfX3RhYnMtbGlzdC1hY3RpdmUnKTtcbiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdzZWN0aW9uLWNhdGFsb2dfX3RhYnMtYnRuLWFjdGl2ZScpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gc2VjdGlvbi1jYXJkIC8vIGZvcm0tbW9kYWwgJiAvLyBzZWN0aW9uLWRpc3BhdGNoIC8vIGZvcm1cbmNvbnN0IGJ0bnNDYXJkT3Blbk1vZGFsRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJkLWNvbnRlbnRfX2J0bicpO1xuXG5idG5zQ2FyZE9wZW5Nb2RhbEZvcm0uZm9yRWFjaCgoZWwpID0+IHtcbiAgaWYgKGVsKSB7XG4gICAgY29uc3QgYnRuU3BlY2lhbE9wZW5Nb2RhbEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgJy5zZWN0aW9uLXNwZWNpYWxfX2NhcmQtYnRuJ1xuICAgICk7XG4gICAgY29uc3QgYnRuQ2FyZE9wZW5Nb2RhbEZyb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJy5zZWN0aW9uLWNhcmRfX2J0bi1tYWluJ1xuICAgICk7XG4gICAgY29uc3QgYm94TW9kYWxGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC1tb2RhbC1mb3JtJyk7XG4gICAgY29uc3QgY29udGFpbmVyTW9kYWxGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lci1tb2RhbC1mb3JtJyk7XG4gICAgY29uc3QgYnRuQ2xvc2VNb2RhbEZyb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtbW9kYWwtZm9ybScpO1xuICAgIGxldCBhcnJheUJ0bk9wZW5Nb2RhbEZvcm0gPSBbXTtcblxuICAgIGJ0bnNDYXJkT3Blbk1vZGFsRm9ybS5mb3JFYWNoKChlbCkgPT4gYXJyYXlCdG5PcGVuTW9kYWxGb3JtLnB1c2goZWwpKTtcbiAgICBpZiAoYnRuU3BlY2lhbE9wZW5Nb2RhbEZvcm0pXG4gICAgICBidG5TcGVjaWFsT3Blbk1vZGFsRm9ybS5mb3JFYWNoKChlbCkgPT4gYXJyYXlCdG5PcGVuTW9kYWxGb3JtLnB1c2goZWwpKTtcbiAgICBpZiAoYnRuQ2FyZE9wZW5Nb2RhbEZyb20pIGFycmF5QnRuT3Blbk1vZGFsRm9ybS5wdXNoKGJ0bkNhcmRPcGVuTW9kYWxGcm9tKTtcblxuICAgIGFycmF5QnRuT3Blbk1vZGFsRm9ybS5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZWxlbVZpc2libGUoYm94TW9kYWxGb3JtLCBjbGFzc0FuaW1hdGlvbk1vZGFsT3BlbiwgJ2ZsZXgnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZWwpID0+IHtcbiAgICAvLyAgIGFycmF5QnRuT3Blbk1vZGFsRm9ybS5mb3JFYWNoKChidG4pID0+IHtcbiAgICAvLyAgICAgaWYgKFxuICAgIC8vICAgICAgICFidG4uY29udGFpbnMoZWwudGFyZ2V0KSAmJlxuICAgIC8vICAgICAgICFjb250YWluZXJNb2RhbEZvcm0uY29udGFpbnMoZWwudGFyZ2V0KVxuICAgIC8vICAgICApIHtcbiAgICAvLyAgICAgICBlbGVtSGlkZGVuKFxuICAgIC8vICAgICAgICAgYm94TW9kYWxGb3JtLFxuICAgIC8vICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sXG4gICAgLy8gICAgICAgICBjbGFzc0FuaW1hdGlvbk1vZGFsQ2xvc2VcbiAgICAvLyAgICAgICApO1xuICAgIC8vICAgICB9XG4gICAgLy8gICB9KTtcbiAgICAvLyB9KTtcbiAgICBidG5DbG9zZU1vZGFsRnJvbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+XG4gICAgICBlbGVtSGlkZGVuKFxuICAgICAgICBib3hNb2RhbEZvcm0sXG4gICAgICAgIGNsYXNzQW5pbWF0aW9uTW9kYWxPcGVuLFxuICAgICAgICBjbGFzc0FuaW1hdGlvbk1vZGFsQ2xvc2VcbiAgICAgIClcbiAgICApO1xuXG4gICAgLy8gc2VjdGlvbi1jYXJkIC8vIGZvcm0gYW5kIC8vIHNlY3Rpb24tZGlzcGF0Y2ggLy8gZm9ybVxuICAgIGNvbnN0IHBvcHVwUmVzcG9uc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wdXAtcmVzcG9uc2UnKTtcbiAgICBjb25zdCBjb250YWluZXJQb3B1cFJlc3BvbnNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAnY29udGFpbmVyLXBvcHVwLXJlc3BvbnNlJ1xuICAgICk7XG4gICAgY29uc3QgZGVzY1BvcHVwUmVzcG9uc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudC1yZXNwb25zZScpO1xuICAgIGNvbnN0IGNsb3NlQnRuUG9wdXBSZXNwb25zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgJ2Nsb3NlLXBvcHVwLXJlc3BvbnNlJ1xuICAgICk7XG4gICAgY29uc3QgZm9ybU1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tbW9kYWwnKTtcbiAgICBjb25zdCBmb3JtRGlzcGF0Y2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybS1kaXNwYXRjaCcpO1xuXG4gICAgZnVuY3Rpb24gcmVzcG9uc2VQb3B1cCh0ZXh0LCBpbnB1dHMpIHtcbiAgICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gKGlucHV0LnZhbHVlID0gJycpKTtcbiAgICAgIGVsZW1WaXNpYmxlKHBvcHVwUmVzcG9uc2UsIGNsYXNzQW5pbWF0aW9uTW9kYWxPcGVuLCAnZmxleCcpO1xuICAgICAgZGVzY1BvcHVwUmVzcG9uc2UudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgY2xvc2VCdG5Qb3B1cFJlc3BvbnNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBlbGVtSGlkZGVuKFxuICAgICAgICAgIHBvcHVwUmVzcG9uc2UsXG4gICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sXG4gICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbENsb3NlXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZWwpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFjb250YWluZXJQb3B1cFJlc3BvbnNlLmNvbnRhaW5zKGVsLnRhcmdldCkgJiZcbiAgICAgICAgICAhYm94TW9kYWxGb3JtLmNvbnRhaW5zKGVsLnRhcmdldCkgJiZcbiAgICAgICAgICAhZm9ybURpc3BhdGNoLmNvbnRhaW5zKGVsLnRhcmdldClcbiAgICAgICAgKSB7XG4gICAgICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgICAgIHBvcHVwUmVzcG9uc2UsXG4gICAgICAgICAgICBjbGFzc0FuaW1hdGlvbk1vZGFsT3BlbixcbiAgICAgICAgICAgIGNsYXNzQW5pbWF0aW9uTW9kYWxDbG9zZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBldmVudElucHV0RnJvbShpbnB1dHMpIHtcbiAgICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2lucHV0LWFjdGl2ZScpO1xuICAgICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSAnJykge1xuICAgICAgICAgIH0gZWxzZSB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LWFjdGl2ZScpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChmb3JtTW9kYWwpIHtcbiAgICAgIGNvbnN0IGlucHV0c01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsLWZvcm1fX2Zvcm0taW5wdXQnKTtcbiAgICAgIGNvbnN0IHRlbElucHV0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVsLW1vZGFsJyk7XG5cbiAgICAgIGV2ZW50SW5wdXRGcm9tKGlucHV0c01vZGFsKTtcblxuICAgICAgY29uc3QgdGVsTWFzayA9IG5ldyBJbnB1dG1hc2soJys3ICg5OTkpLTk5OS05OS05OScpO1xuICAgICAgdGVsTWFzay5tYXNrKHRlbElucHV0TW9kYWwpO1xuXG4gICAgICBuZXcgSnVzdFZhbGlkYXRlKCcjZm9ybS1tb2RhbCcsIHtcbiAgICAgICAgcnVsZXM6IHtcbiAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIG1pbkxlbmd0aDogMixcbiAgICAgICAgICAgIG1heExlbmd0aDogMjAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0ZWw6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgZnVuY3Rpb246IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBwaG9uZSA9IHRlbElucHV0TW9kYWwuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcihwaG9uZSkgJiYgcGhvbmUubGVuZ3RoID09PSAxMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgY29sb3JXcm9uZzogJyNGRjY5NzInLFxuXG4gICAgICAgIHN1Ym1pdEhhbmRsZXI6IGZ1bmN0aW9uIChmb3JtLCB2YWx1ZXMsIGFqYXgpIHtcbiAgICAgICAgICBhamF4KHtcbiAgICAgICAgICAgIHVybDogJy9waHAvZ2V0UG9zdFZhbHVlLnBocCcsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGE6IHZhbHVlcyxcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgICAgICAgICBib3hNb2RhbEZvcm0sXG4gICAgICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sXG4gICAgICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbENsb3NlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJlc3BvbnNlUG9wdXAoJ9Ch0L/QsNGB0LjQsdC+LCDQvNGLINCy0LDQvCDQv9C10YDQtdC30LLQvtC90LjQvCEnLCBpbnB1dHNNb2RhbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgICAgICAgICBib3hNb2RhbEZvcm0sXG4gICAgICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sXG4gICAgICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbENsb3NlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJlc3BvbnNlUG9wdXAoJ9Ce0YjQuNCx0LrQsCDQvtGC0L/RgNCw0LLQutC4IScsIGlucHV0c01vZGFsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybURpc3BhdGNoKSB7XG4gICAgICBjb25zdCBpbnB1dHNEaXNwYXRjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICcuc2VjdGlvbi1kaXNwYXRjaF9fZm9ybS1pbnB1dCdcbiAgICAgICk7XG4gICAgICBjb25zdCB0ZWxJbnB1dERpc3BhdGNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlbC1kaXNwYXRjaCcpO1xuXG4gICAgICBldmVudElucHV0RnJvbShpbnB1dHNEaXNwYXRjaCk7XG5cbiAgICAgIGNvbnN0IHRlbE1hc2sgPSBuZXcgSW5wdXRtYXNrKCcrNyAoOTk5KS05OTktOTktOTknKTtcbiAgICAgIHRlbE1hc2subWFzayh0ZWxJbnB1dERpc3BhdGNoKTtcblxuICAgICAgbmV3IEp1c3RWYWxpZGF0ZSgnI2Zvcm0tZGlzcGF0Y2gnLCB7XG4gICAgICAgIHJ1bGVzOiB7XG4gICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBtaW5MZW5ndGg6IDIsXG4gICAgICAgICAgICBtYXhMZW5ndGg6IDIwLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdGVsOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uOiAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgcGhvbmUgPSB0ZWxJbnB1dERpc3BhdGNoLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCk7XG4gICAgICAgICAgICAgIHJldHVybiBOdW1iZXIocGhvbmUpICYmIHBob25lLmxlbmd0aCA9PT0gMTA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWFpbDoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBjb2xvcldyb25nOiAnI0ZGNjk3MicsXG5cbiAgICAgICAgc3VibWl0SGFuZGxlcjogZnVuY3Rpb24gKGZvcm0sIHZhbHVlcywgYWpheCkge1xuICAgICAgICAgIGFqYXgoe1xuICAgICAgICAgICAgdXJsOiAnL3BocC9nZXRQb3N0VmFsdWUucGhwJyxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YTogdmFsdWVzLFxuICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXNwb25zZVBvcHVwKCfQodC/0LDRgdC40LHQviwg0LzRiyDQstCw0Lwg0L/QtdGA0LXQt9Cy0L7QvdC40LwhJywgaW5wdXRzRGlzcGF0Y2gpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlUG9wdXAoJ9Ce0YjQuNCx0LrQsCDQvtGC0L/RgNCw0LLQutC4IScsIGlucHV0c0Rpc3BhdGNoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pO1xuXG4vLyBzZWN0aW9uLWNhcmRcbmNvbnN0IHNlY3Rpb25DYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tY2FyZCcpO1xuaWYgKHNlY3Rpb25DYXJkKSB7XG4gIGNvbnN0IGJ0bk1haW5JbWdDYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1tYWluLWltZy1tb2RhbCcpO1xuICBjb25zdCBhbGxJbWdNYWluQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgJy5zZWN0aW9uLWNhcmRfX2ltZy1ib3gtbWFpbidcbiAgKTtcbiAgY29uc3QgYnRuc1NsaWRlSW1nQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLWNhcmRfX2ltZy1idG4nKTtcbiAgY29uc3QgbW9kYWxDYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLWNhcmQnKTtcbiAgY29uc3QgY29udGFpbmVyTW9kYWxDYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lci1tb2RhbC1jYXJkJyk7XG4gIGNvbnN0IGJ0bkNsb3NlTW9kYWxDYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlLW1vZGFsLWNhcmQnKTtcbiAgY29uc3QgYnRuc1NsaWRlSW1nTW9kYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAnLm1vZGFsLWNhcmRfX3RhYnMtYnRuJ1xuICApO1xuICBjb25zdCBhbGxJbWdNYWluTW9kYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsLWNhcmRfX2ltZy1ib3gnKTtcblxuICBmdW5jdGlvbiBldmVudE1vZGFsQ2FyZChidG5zLCBpbWFnZXMpIHtcbiAgICBidG5zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRoaXNCdG4gPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBjb25zdCBwYXRoID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnBhdGg7XG5cbiAgICAgICAgYnRucy5mb3JFYWNoKChhbGxCdG4pID0+IHtcbiAgICAgICAgICBhbGxCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBhbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYnRuLXNsaWRlLWRpc2FibGVkJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpbWFnZXMuZm9yRWFjaCgoaW1nKSA9PiB7XG4gICAgICAgICAgaW1nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgaW1nLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NBbmltYXRpb25WaXNpYmxlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpc0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXNCdG4uY2xhc3NMaXN0LmFkZCgnYnRuLXNsaWRlLWRpc2FibGVkJyk7XG4gICAgICAgIGVsZW1WaXNpYmxlKFxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhcmdldD1cIiR7cGF0aH1cIl1gKSxcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvblZpc2libGUsXG4gICAgICAgICAgJ2Jsb2NrJ1xuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZXZlbnRNb2RhbENhcmQoYnRuc1NsaWRlSW1nQ2FyZCwgYWxsSW1nTWFpbkNhcmQpO1xuICBldmVudE1vZGFsQ2FyZChidG5zU2xpZGVJbWdNb2RhbENhcmQsIGFsbEltZ01haW5Nb2RhbENhcmQpO1xuXG4gIGJ0bk1haW5JbWdDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGVsZW1WaXNpYmxlKG1vZGFsQ2FyZCwgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sICdmbGV4Jyk7XG5cbiAgICBidG5zU2xpZGVJbWdNb2RhbENhcmQuZm9yRWFjaCgoYWxsQnRuKSA9PiB7XG4gICAgICBhbGxCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGFsbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdidG4tc2xpZGUtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgICBhbGxJbWdNYWluTW9kYWxDYXJkLmZvckVhY2goKGltZykgPT4ge1xuICAgICAgaW1nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICBpbWcuY2xhc3NMaXN0LnJlbW92ZShjbGFzc0FuaW1hdGlvblZpc2libGUpO1xuICAgIH0pO1xuICAgIGFsbEltZ01haW5DYXJkLmZvckVhY2goKGltZykgPT4ge1xuICAgICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGltZykuZGlzcGxheSA9PT0gJ2Jsb2NrJykge1xuICAgICAgICBjb25zdCBpbWdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYFtkYXRhLXRhcmdldD1cImltZy1tb2RhbC0ke2ltZy5kYXRhc2V0LnRhcmdldC5yZXBsYWNlKC9cXEQrL2csICcnKX1cIl1gXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGJ0bk1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICBgW2RhdGEtcGF0aD1cImltZy1tb2RhbC0ke2ltZy5kYXRhc2V0LnRhcmdldC5yZXBsYWNlKC9cXEQrL2csICcnKX1cIl1gXG4gICAgICAgICk7XG5cbiAgICAgICAgYnRuTW9kYWwuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBidG5Nb2RhbC5jbGFzc0xpc3QuYWRkKCdidG4tc2xpZGUtZGlzYWJsZWQnKTtcbiAgICAgICAgZWxlbVZpc2libGUoaW1nTW9kYWwsIGNsYXNzQW5pbWF0aW9uVmlzaWJsZSwgJ2Jsb2NrJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICBidG5DbG9zZU1vZGFsQ2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBlbGVtSGlkZGVuKG1vZGFsQ2FyZCwgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sIGNsYXNzQW5pbWF0aW9uTW9kYWxDbG9zZSk7XG4gIH0pO1xuICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGVsKSA9PiB7XG4gICAgaWYgKFxuICAgICAgIWJ0bk1haW5JbWdDYXJkLmNvbnRhaW5zKGVsLnRhcmdldCkgJiZcbiAgICAgICFjb250YWluZXJNb2RhbENhcmQuY29udGFpbnMoZWwudGFyZ2V0KVxuICAgICkge1xuICAgICAgZWxlbUhpZGRlbihtb2RhbENhcmQsIGNsYXNzQW5pbWF0aW9uTW9kYWxPcGVuLCBjbGFzc0FuaW1hdGlvbk1vZGFsQ2xvc2UpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIGNvbnRhY3RzXG5jb25zdCBtYXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyk7XG5pZiAobWFwKSB7XG4gIGNvbnN0IHNlYXJjaENvbnRhY3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC1jb250YWN0cycpO1xuICBjb25zdCBkcm9wZG93bkNvbnRhY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAnLnNlY3Rpb24tY29udGFjdHNfX2Zvcm0tZHJvcGRvd24nXG4gICk7XG4gIGNvbnN0IGZvcm1Db250YWN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtLWNvbnRhY3RzJyk7XG4gIGNvbnN0IHBvcHVwQ29udGFjdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wdXAtY29udGFjdHMnKTtcbiAgbGV0IG15UGxhY2VtYXJrMTtcbiAgbGV0IG15UGxhY2VtYXJrMjtcblxuICBmdW5jdGlvbiBzZWFyY2hCYWxsb25NYXAodGl0bGUsIGFkZHJlc3MpIHtcbiAgICBkcm9wZG93bkNvbnRhY3RzLmluc2VydEFkamFjZW50SFRNTChcbiAgICAgICdiZWZvcmVlbmQnLFxuICAgICAgYDxkaXYgY2xhc3M9XCJzZWN0aW9uLWNvbnRhY3RzX19mb3JtLWRyb3Bkb3duLWJ0blwiIHJvbGU9XCJvcHRpb25cIj48aDIgY2xhc3M9XCJzZWN0aW9uLWNvbnRhY3RzX19mb3JtLWRyb3Bkb3duLXRpdGxlXCI+JHt0aXRsZX08L2gyPjxhZGRyZXNzIGNsYXNzPVwic2VjdGlvbi1jb250YWN0c19fZm9ybS1kcm9wZG93bi1hZGRyZXNzXCI+JHthZGRyZXNzfTwvYWRkcmVzcz48L2Rpdj5gXG4gICAgKTtcbiAgICBjb25zdCBkcm9wZG93bkJ0bnNDb250YWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAnLnNlY3Rpb24tY29udGFjdHNfX2Zvcm0tZHJvcGRvd24tYnRuJ1xuICAgICk7XG5cbiAgICBmdW5jdGlvbiBiYWxsb25PcGVuKHBsYWNlbWFyaywgcG9wdXApIHtcbiAgICAgIHBsYWNlbWFyay5iYWxsb29uLm9wZW4oKTtcbiAgICAgIHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJhbGxvbkNsb3NlKHBsYWNlbWFya3MsIHBvcHVwKSB7XG4gICAgICBwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfSwgMjUwMCk7XG4gICAgICBwbGFjZW1hcmtzLmZvckVhY2goKHBsYWNlbWFyaykgPT4gcGxhY2VtYXJrLmJhbGxvb24uY2xvc2UoKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJ0bkZvcm1DbGljaygpIHtcbiAgICAgIGZvcm1Db250YWN0cy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGRyb3Bkb3duQnRuc0NvbnRhY3RzLmZvckVhY2goKGJ0bikgPT4gKGJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKSk7XG4gICAgICAgIGVsZW1IaWRkZW4oXG4gICAgICAgICAgZHJvcGRvd25Db250YWN0cyxcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2VcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHNlYXJjaENvbnRhY3RzLnZhbHVlID09PSAn0JzQvtGB0LrQstCwLCBTaXREb3duUGxzINC90LAg0KHQvtC70Y/QvdC60LUnKVxuICAgICAgICAgIGJhbGxvbk9wZW4obXlQbGFjZW1hcmsxLCBwb3B1cENvbnRhY3RzKTtcbiAgICAgICAgZWxzZSBpZiAoc2VhcmNoQ29udGFjdHMudmFsdWUgPT09ICfQnNC+0YHQutCy0LAsIFNpdERvd25QbHMg0L3QsCDQn9C+0LrRgNC+0LLQutC1JylcbiAgICAgICAgICBiYWxsb25PcGVuKG15UGxhY2VtYXJrMiwgcG9wdXBDb250YWN0cyk7XG4gICAgICAgIGVsc2UgYmFsbG9uQ2xvc2UoW215UGxhY2VtYXJrMSwgbXlQbGFjZW1hcmsyXSwgcG9wdXBDb250YWN0cyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzZWFyY2hDb250YWN0cy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnaW5wdXQtYWN0aXZlJyk7XG4gICAgICBmb3IgKGxldCBzeW1ib2wgb2YgdGhpcy52YWx1ZSkge1xuICAgICAgICBzeW1ib2wudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKHN5bWJvbCkge1xuICAgICAgICAgIGRyb3Bkb3duQnRuc0NvbnRhY3RzLmZvckVhY2goKGJ0biwgYnRuSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGJ0bi5pZCA9IGBkcm9wZG93bi1idG4tY29udGFjdC0ke2J0bkluZGV4ICsgMX1gO1xuICAgICAgICAgICAgY29uc3QgZHJvcGRvd25CdG5Db250YWN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2J0bi5pZH1gKTtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaENvbnRlbnRDb250YWN0cyA9IGRyb3Bkb3duQnRuQ29udGFjdHMudGV4dENvbnRlbnRcbiAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHMsLi1dL2csICcnKVxuICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmIChzZWFyY2hDb250ZW50Q29udGFjdHMuaW5kZXhPZihzeW1ib2wpID4gLTEpIHtcbiAgICAgICAgICAgICAgYnRuLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgICAgICAgIGVsZW1WaXNpYmxlKFxuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ29udGFjdHMsXG4gICAgICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4sXG4gICAgICAgICAgICAgICAgJ2Jsb2NrJ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBjb250ZW50VGl0bGVDb250YWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgYCMke2J0bi5pZH0gaDJgXG4gICAgICAgICAgICAgICkudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgIHNlYXJjaENvbnRhY3RzLnZhbHVlID0gY29udGVudFRpdGxlQ29udGFjdHM7XG4gICAgICAgICAgICAgIGVsZW1IaWRkZW4oXG4gICAgICAgICAgICAgICAgZHJvcGRvd25Db250YWN0cyxcbiAgICAgICAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2VcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZhbHVlICE9PSAnJykge1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC1hY3RpdmUnKTtcbiAgICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgICBkcm9wZG93bkNvbnRhY3RzLFxuICAgICAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuLFxuICAgICAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25DbG9zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGJ0bkZvcm1DbGljaygpO1xuICB9XG5cbiAgc2VhcmNoQmFsbG9uTWFwKFxuICAgICfQnNC+0YHQutCy0LAsIFNpdERvd25QbHMg0L3QsCDQodC+0LvRj9C90LrQtScsXG4gICAgJ9C8LiDQmtC40YLQsNC5LdCz0L7RgNC+0LQsINGD0LsuINCh0L7Qu9GP0L3QutCwLCDQtC4yNCdcbiAgKTtcbiAgc2VhcmNoQmFsbG9uTWFwKFxuICAgICfQnNC+0YHQutCy0LAsIFNpdERvd25QbHMg0L3QsCDQn9C+0LrRgNC+0LLQutC1JyxcbiAgICAn0LwuINCa0YPRgNGB0LrQsNGPLCDRg9C7LiDQn9C+0LrRgNC+0LLQutCwLCDQtC4xNCdcbiAgKTtcblxuICB5bWFwcy5yZWFkeShpbml0KTtcblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIGxldCBteU1hcCA9IG5ldyB5bWFwcy5NYXAoJ21hcCcsIHtcbiAgICAgIGNlbnRlcjogWzU1Ljc1NzM1MzU4NTQzMjY1NCwgMzcuNjM1MDAxMjk4OTUwMTg2XSxcbiAgICAgIHpvb206IDE0LFxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gYmFsbG9uQ29udGVudCh0aXRsZSwgYWRkcmVzcykge1xuICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwicG9wdXAtY29udGFjdHNcIiByb2xlPVwidG9vbHRpcGVcIj48aDIgY2xhc3M9XCJwb3B1cC1jb250YWN0c19fdGl0bGVcIj4ke3RpdGxlfTwvaDI+PGFkZHJlc3MgY2xhc3M9XCJwb3B1cC1jb250YWN0c19fYWRkcmVzc1wiPiR7YWRkcmVzc308L2FkZHJlc3M+PGEgY2xhc3M9XCJwb3B1cC1jb250YWN0c19fdGVsIHRlbFwiIGhyZWY9XCJ0ZWw6Kzc0OTU4ODU0NTQ3XCIgYXJpYS1sYWJlbD1cItCa0L7QvdGC0LDQutGC0L3Ri9C5INC90L7QvNC10YAg0YLQtdC70LXRhNC+0L3QsFwiPjxzdmcgd2lkdGg9XCIyMlwiIGhlaWdodD1cIjIyXCIgdmlld0JveD1cIjAgMCAyMiAyMlwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTguMzQyNSAxNC4wOTgzQzE3LjIxNSAxNC4wOTgzIDE2LjEyNDIgMTMuOTE1IDE1LjEwNjcgMTMuNTg1QzE0Ljc4NTggMTMuNDc1IDE0LjQyODMgMTMuNTU3NSAxNC4xODA4IDEzLjgwNUwxMi43NDE3IDE1LjYxMDhDMTAuMTQ3NSAxNC4zNzMzIDcuNzE4MzMgMTIuMDM1OCA2LjQyNTgzIDkuMzVMOC4yMTMzMyA3LjgyODMzQzguNDYwODMgNy41NzE2NyA4LjUzNDE3IDcuMjE0MTcgOC40MzMzMyA2Ljg5MzMzQzguMDk0MTcgNS44NzU4MyA3LjkyIDQuNzg1IDcuOTIgMy42NTc1QzcuOTIgMy4xNjI1IDcuNTA3NSAyLjc1IDcuMDEyNSAyLjc1SDMuODQwODNDMy4zNDU4MyAyLjc1IDIuNzUgMi45NyAyLjc1IDMuNjU3NUMyLjc1IDEyLjE3MzMgOS44MzU4MyAxOS4yNSAxOC4zNDI1IDE5LjI1QzE4Ljk5MzMgMTkuMjUgMTkuMjUgMTguNjcyNSAxOS4yNSAxOC4xNjgzVjE1LjAwNThDMTkuMjUgMTQuNTEwOCAxOC44Mzc1IDE0LjA5ODMgMTguMzQyNSAxNC4wOTgzWlwiIGZpbGw9XCIjRkY4NjJGXCIgLz48L3N2Zz4rNyAoNDk1KSA4ODUtNDUtNDc8L2E+PGRpdiBjbGFzcz1cInBvcHVwLWNvbnRhY3RzX19kZXNjLXRpbWVcIj48c3BhbiBjbGFzcz1cInBvcHVwLWNvbnRhY3RzX19kZXNjLWFsZXJ0XCI+0KfQsNGB0Ysg0YDQsNCx0L7RgtGLOjwvc3Bhbj4g0YEgMTA6MDAg0LTQviAyMTowMDwvZGl2PjxkaXYgY2xhc3M9XCJwb3B1cC1jb250YWN0c19fZGVzY1wiPjxzcGFuIGNsYXNzPVwicG9wdXAtY29udGFjdHNfX2Rlc2MtYWxlcnRcIj7Qp9GC0L4g0LfQtNC10YHRjDo8L3NwYW4+INGI0L7Rg9GA0YPQvCwg0L/Rg9C90LrRgiDQvtGC0LPRgNGD0LfQutC4LCDQv9GD0L3QutGCINCy0YvQtNCw0YfQuCwg0L/Rg9C90LrRgiDQvtCx0LzQtdC90LAt0LLQvtC30LLRgNCw0YLQsCwg0YHQtdGA0LLQuNGB0L3Ri9C5INGG0LXQvdGC0YA8L2Rpdj48L2Rpdj5gO1xuICAgIH1cblxuICAgIGxldCBwbGFjZW1hcmtJY29uQmFsbG9uID0ge1xuICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgaWNvbkltYWdlSHJlZjogJy4uL2ltZy9mYXZpY29uL3BsYWNlbWFyay5zdmcnLFxuICAgICAgaWNvbkltYWdlU2l6ZTogWzMyLCAyMV0sXG4gICAgICBoaWRlSWNvbk9uQmFsbG9vbk9wZW46IGZhbHNlLFxuICAgICAgYmFsbG9vbk9mZnNldDogWy0xMTAsIC00Ml0sXG4gICAgICBiYWxsb29uUGFuZWxNYXhNYXBBcmVhOiAwLFxuICAgIH07XG5cbiAgICBpZiAoc2NyZWVuLndpZHRoIDwgNjY0KSB7XG4gICAgICBwbGFjZW1hcmtJY29uQmFsbG9uLmJhbGxvb25PZmZzZXQgPSBbLTU1LCAtNDJdO1xuICAgIH1cblxuICAgIG15UGxhY2VtYXJrMSA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoXG4gICAgICBbNTUuNzUwNjE1NTY4OTkzMjc1LCAzNy42NDE4MDg5OTk5OTk5NV0sXG4gICAgICB7XG4gICAgICAgIGJhbGxvb25Db250ZW50OiBiYWxsb25Db250ZW50KFxuICAgICAgICAgICdTaXREb3duUGxzINC90LAg0KHQvtC70Y/QvdC60LUnLFxuICAgICAgICAgICfQvC4g0JrQuNGC0LDQuS3Qs9C+0YDQvtC0LCDRg9C7LiDQodC+0LvRj9C90LrQsCwg0LQuMjQnXG4gICAgICAgICksXG4gICAgICB9LFxuICAgICAgcGxhY2VtYXJrSWNvbkJhbGxvblxuICAgICk7XG4gICAgbXlQbGFjZW1hcmsyID0gbmV3IHltYXBzLlBsYWNlbWFyayhcbiAgICAgIFs1NS43NjIyNjA3MDEyNTQ0NCwgMzcuNjUzNTg4NDM1ODcyMDZdLFxuICAgICAge1xuICAgICAgICBiYWxsb29uQ29udGVudDogYmFsbG9uQ29udGVudChcbiAgICAgICAgICAnU2l0RG93blBscyDQvdCwINCf0L7QutGA0L7QstC60LUnLFxuICAgICAgICAgICfQvC4g0JrRg9GA0YHQutCw0Y8sINGD0LsuINCf0L7QutGA0L7QstC60LAsINC0LjE0J1xuICAgICAgICApLFxuICAgICAgfSxcbiAgICAgIHBsYWNlbWFya0ljb25CYWxsb25cbiAgICApO1xuXG4gICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmsxKTtcbiAgICBteU1hcC5nZW9PYmplY3RzLmFkZChteVBsYWNlbWFyazIpO1xuICB9XG59XG4iXX0=
