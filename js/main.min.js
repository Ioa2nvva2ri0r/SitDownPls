"use strict";function _createForOfIteratorHelper(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,r=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){r=!0,c=e},f:function(){try{i||null==t.return||t.return()}finally{if(r)throw c}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function eventCheckboxNameplate(e,n,t){function a(e,n,t,a,o){var c;c="сategory"===a?"Выбранная категория":"Выбранный цвет",e.insertAdjacentHTML(n,'<div class="section-catalog__header-nameplate section-catalog__header-nameplate-'.concat(a,'" id="nameplate-').concat(t,'"><span class="section-catalog__header-nameplate-').concat(a,'-desc" role="note" aria-label="').concat(c,'">').concat(o,'</span><button class="section-catalog__header-nameplate-btn" aria-label="Закрыть выбранный фильтр" id="close-nameplate-').concat(t,'"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.5999 8.40002L8.3999 15.6" stroke="#666666" stroke-linecap="round" stroke-linejoin="round"/><path d="M8.3999 8.40002L15.5999 15.6" stroke="#666666" stroke-linecap="round" stroke-linejoin="round"/></svg></button></div>')),document.getElementById("close-nameplate-".concat(t)).addEventListener("click",(function(){document.getElementById("nameplate-".concat(t)).remove(),document.getElementById("checkbox-".concat(t)).checked=!1}))}document.querySelectorAll(e).forEach((function(e){var o=parseInt(e.querySelector("input").id.replace(/[^\d]/g,"")),c=e.querySelector("input").name,i=e.querySelector("input").value;e.querySelector("input").checked&&a(n,t,o,c,i),e.querySelector("input").addEventListener("change",(function(e){1==e.currentTarget.checked?a(n,t,o,c,i):document.getElementById("nameplate-".concat(o)).remove()}))}))}function elemVisible(e,n,t){e.style.display=t,e.classList.add(n)}function elemHidden(e,n,t){e.classList.remove(n),e.classList.add(t),setTimeout((function(){e.style.display="none",e.classList.remove(t)}),400)}function popupClose(e,n){e.classList.add(n),setTimeout((function(){e.style.display="none",e.classList.remove(n)}),400)}function createBtnAndHidingItem(e,n,t,a,o){document.querySelectorAll(".".concat(n)).forEach((function(n){if(n.children.length>e){var t=n.children.length,c=t-e,i=Array.from(n.children).slice(t-c,t);i.forEach((function(e){e.classList.add("".concat(o))})),n.insertAdjacentHTML("beforeend",'<button class="'.concat(a,'">+ ещё ').concat(i.length,"</button>"))}})),document.querySelectorAll(".".concat(a)).forEach((function(a){a.addEventListener("click",(function(c){var i=c.currentTarget.closest(".".concat(n));if(a.classList.contains("".concat(o))){a.classList.remove("".concat(o)),a.textContent="Показать все";var r=i.children.length,l=r-e;Array.from(i.children).slice(r-l,r-1).forEach((function(e){e.classList.add("".concat(o))}))}else a.classList.add("".concat(o)),a.textContent="Свернуть",i.querySelectorAll(".".concat(t)).forEach((function(e){e.classList.remove("".concat(o))}))}))}))}function select(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=document.createElement("div"),o=document.createElement("button"),c=document.createElement("div");function i(e){e.insertAdjacentHTML("beforeend",'<svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.65674 5.80521L10.5593 0.902607L11.3136 1.65685L5.65674 7.31371L-0.000115871 1.65685L0.754131 0.902607L5.65674 5.80521Z" fill="#A65CF0"/></svg>')}function r(e,n,t){e.style.display=t,e.classList.add(n)}function l(e,n,t){e.classList.remove(n),e.classList.add(t),setTimeout((function(){e.style.display="none",e.classList.remove(t)}),400)}return a.classList.add(n.classContainer),o.classList.add(n.classSelect.main),c.classList.add(n.classDropdown.main),c.style.display="none",o.textContent=n.name,o.name="Фильтр",i(o),o.addEventListener("click",(function(){e=o.textContent,"none"===c.style.display?(o.classList.add(n.classSelect.active),r(c,n.classDropdown.open,"flex")):(o.classList.remove(n.classSelect.active),l(c,n.classDropdown.open,n.classDropdown.close))})),document.body.addEventListener("click",(function(e){"none"!==c.style.display&&(c.contains(e.target)||o.contains(e.target)||(o.classList.remove(n.classSelect.active),l(c,n.classDropdown.open,n.classDropdown.close)))})),t.forEach((function(t){var a=document.createElement("button");a.classList.add(t.class),a.textContent=t.name,a.value=t.name,a.addEventListener("click",(function(){o.textContent=a.textContent,i(o),a.textContent=e,o.classList.remove(n.classSelect.active),l(c,n.classDropdown.open,n.classDropdown.close)})),c.append(a)})),a.append(o,c),a}var classAnimationVisible="animation-visible",classAnimationHidden="animation-hidden",classAnimationIcon="animation-icon",classAnimationDropdownOpen="animation-dropdown-open",classAnimationDropdownClose="animation-dropdown-close",classAnimationModalOpen="animation-modal-open",classAnimationModalClose="animation-modal-close",body=document.body,preloader=document.getElementById("preloader"),header=document.querySelector(".header"),headerBreadcrumbs=document.querySelector(".header-breadcrumbs"),listLinksheaderBreadcrumbs=document.querySelector(".header-breadcrumbs__list"),main=document.querySelector("main"),locationSearchName=window.location.search.replace(/[^a-zа-яё]/gi,"");function contentLocation(e,n,t){document.title="SitDownPls - ".concat(n),header.classList.add("header-bottom"),headerBreadcrumbs.classList.add("header-breadcrumbs-active");var a=t[t.length-1];t.forEach((function(n){var t=document.createElement("li"),o=document.createElement("a");t.classList.add("header-breadcrumbs__item"),n!==a&&o.classList.add("header-breadcrumbs__item-link"),o.textContent=n,n===a&&o.classList.add("header-breadcrumbs__item-link-and"),o.href="#",o.textContent=n,"Главная"===n&&(o.href="".concat(location.origin+location.pathname)),"Каталог"===n&&(o.href="?catalog"),"Диваны"===n&&(o.href="?catalog"),"Прямые диваны"===n&&"card"===e&&(o.href="?catalog"),t.append(o),listLinksheaderBreadcrumbs.append(t)})),main.className="main-".concat(e),document.getElementById("main-index").style.display="none",document.getElementById("".concat(e)).style.display="block"}switch(window.addEventListener("load",(function(){preloader.remove()})),locationSearchName){case"catalog":contentLocation(locationSearchName,"Каталог",["Главная","Каталог","Диваны","Прямые диваны"]);break;case"card":contentLocation(locationSearchName,"Диван тканевый прямой “D-31”",["Главная","Каталог","Диваны","Прямые диваны","D-31"]);break;case"cooperation":contentLocation(locationSearchName,"Сотрудничество",["Главная","Сотрудничество"]);break;case"contacts":contentLocation(locationSearchName,"Контакты",["Главная","Контакты"])}var btnScroll=document.getElementById("btn-scroll");function eventBtnScroll(e){function n(e){window.pageYOffset>=200?e.style.display="flex":e.style.display="none"}e.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),window.addEventListener("load",(function(){return n(e)})),window.addEventListener("scroll",(function(){return n(e)}),{passive:!0})}eventBtnScroll(btnScroll);var selectHeader=document.getElementById("select");selectHeader.append(select({name:"Москва",classContainer:"header__select-box",classSelect:{main:"header__select",active:classAnimationIcon},classDropdown:{main:"header__select-dropdown",open:classAnimationVisible,close:classAnimationHidden}},[{name:"Казань",class:"header__select-dropdown-btn"},{name:"Уфа",class:"header__select-dropdown-btn"},{name:"Пермь",class:"header__select-dropdown-btn"}]));var searchHeader=document.getElementById("search"),iconSearchHeader=document.getElementById("search-icon");searchHeader.addEventListener("input",(function(){this.classList.add("input-active"),iconSearchHeader.style.fill="#A65CF0",""!==this.value||(iconSearchHeader.style.fill="#999999",this.classList.remove("input-active"))}));var dropdownBtnHeader=document.getElementById("dropdown-btn"),dropdownHeader=document.getElementById("dropdown");dropdownBtnHeader.addEventListener("click",(function(){dropdownHeader.classList.contains(classAnimationDropdownOpen)?(this.classList.remove(classAnimationIcon),elemHidden(dropdownHeader,classAnimationDropdownOpen,classAnimationDropdownClose)):(this.classList.add(classAnimationIcon),elemVisible(dropdownHeader,classAnimationDropdownOpen,"flex"))})),body.addEventListener("click",(function(e){dropdownBtnHeader.contains(e.target)||dropdownHeader.contains(e.target)||(dropdownBtnHeader.classList.remove(classAnimationIcon),elemHidden(dropdownHeader,classAnimationDropdownOpen,classAnimationDropdownClose))}));var menuHeader=document.getElementById("menu"),navHeader=document.getElementById("nav"),btnOpenMenuHeader=document.getElementById("menu-open"),btnCloseMenuHeader=document.getElementById("menu-close");btnOpenMenuHeader.addEventListener("click",(function(){elemVisible(menuHeader,classAnimationDropdownOpen,"block"),window.screen.width<=664&&elemVisible(navHeader,classAnimationDropdownOpen,"block")})),btnCloseMenuHeader.addEventListener("click",(function(){elemHidden(menuHeader,classAnimationDropdownOpen,classAnimationDropdownClose),window.screen.width<=664&&elemHidden(navHeader,classAnimationDropdownOpen,classAnimationDropdownClose)})),body.addEventListener("click",(function(e){btnOpenMenuHeader.contains(e.target)||menuHeader.contains(e.target)||navHeader.contains(e.target)||(window.screen.width<=992&&elemHidden(menuHeader,classAnimationDropdownOpen,classAnimationDropdownClose),window.screen.width<=664&&elemHidden(navHeader,classAnimationDropdownOpen,classAnimationDropdownClose))}));var popupBanner=document.getElementById("banner-popup");if(popupBanner){var eventBtnPopupBanner=function(e){e.addEventListener("click",(function(){elemVisible(popupBanner,classAnimationVisible,"block"),e.disabled=!0,setTimeout((function(){elemHidden(popupBanner,classAnimationVisible,classAnimationHidden)}),2600)}))},btnsBanner=document.querySelectorAll(".section-banner__slide-btn"),btnBannerSM=document.getElementById("btn-banner");btnsBanner.forEach((function(e){function n(){window.screen.width<1321&&(e.textContent="Получить!")}eventBtnPopupBanner(e),window.addEventListener("load",n()),window.addEventListener("resize",n())})),eventBtnPopupBanner(btnBannerSM)}var btnRating=document.getElementById("more-goods");if(btnRating){var itemRating=document.querySelectorAll(".section-rating__item-content");btnRating.addEventListener("click",(function(){itemRating.forEach((function(e){"none"===window.getComputedStyle(e).display&&elemVisible(e,classAnimationModalOpen,"block")})),this.style.display="none"}))}var sectionCatalog=document.querySelector(".section-catalog");if(sectionCatalog){var throwValuePrice=function(e,n,t){e.addEventListener("click",(function(){n.value="0",t.style.display="none"}))},displayNameplatePrice=function(e,n){e.addEventListener("mousedown",(function(){n.style.display="flex"}))};createBtnAndHidingItem(9,"section-catalog__sidebar-checkbox-list","section-catalog__sidebar-checkbox-item","section-catalog__sidebar-checkbox-btn","section-catalog__sidebar-checkbox-item-active");var nameplateFromPrice=document.querySelector(".section-catalog__header-nameplate-price-1"),labelCategory=".section-catalog__sidebar-label-category",nameplateDiscount=document.querySelector(".section-catalog__header-nameplate-discount"),labelColor=".section-catalog__sidebar-label-color";eventCheckboxNameplate(labelCategory,nameplateFromPrice,"beforebegin"),eventCheckboxNameplate(labelColor,nameplateDiscount,"afterend");var rangeSlider=document.getElementById("range-slider"),inputFromPrice=document.getElementById("sidebar-input-from"),inputBeforePrice=document.getElementById("sidebar-input-before"),valueinputFromPrice=document.getElementById("value-sidebar-input-from"),valueinputBeforePrice=document.getElementById("value-sidebar-input-before"),nameplateBeforePrice=document.querySelector(".section-catalog__header-nameplate-price-2"),btnCloseFromPrice=document.getElementById("btn-close-price-from"),btnClosePriceBefore=document.getElementById("btn-close-price-before"),inputs=[inputFromPrice,inputBeforePrice];noUiSlider.create(rangeSlider,{start:[2e3,15e4],connect:!0,step:500,range:{min:0,max:23e4},handleAttributes:[{"aria-label":"Влево"},{"aria-label":"Вправо"}]}),rangeSlider.noUiSlider.on("update",(function(e,n){inputs[n].value=Math.round(e[n])}));var setSlider=function(e,n){var t=[null,null];t[e]=n,rangeSlider.noUiSlider.set(t)};inputs.forEach((function(e,n){e.addEventListener("change",(function(e){setSlider(n,e.currentTarget.value)}))})),rangeSlider.noUiSlider.on("update",(function(e,n){inputs[n].innerHTML=Math.round(e[n]),valueinputFromPrice.innerHTML=Math.round(e[0]),valueinputBeforePrice.innerHTML=Math.round(e[1])}));var btnRangeSliderFrom=document.querySelector("#range-slider .noUi-handle"),btnRangeSliderBefore=document.querySelector("#range-slider .noUi-handle-upper"),rangeSliderLine=document.querySelector("#range-slider .noUi-connect");throwValuePrice(btnCloseFromPrice,inputFromPrice,nameplateFromPrice),throwValuePrice(btnClosePriceBefore,inputBeforePrice,nameplateBeforePrice),displayNameplatePrice(inputFromPrice,nameplateFromPrice),displayNameplatePrice(inputBeforePrice,nameplateBeforePrice),displayNameplatePrice(btnRangeSliderFrom,nameplateFromPrice),displayNameplatePrice(btnRangeSliderBefore,nameplateBeforePrice),btnRangeSliderFrom.addEventListener("mousedown",(function(){rangeSliderLine.style.background="#7033AC"})),btnRangeSliderBefore.addEventListener("mousedown",(function(){rangeSliderLine.style.background="#7033AC"})),body.addEventListener("mousedown",(function(){rangeSliderLine.style.background="#A65CF0"})),btnRangeSliderFrom.addEventListener("keyup",(function(){rangeSliderLine.style.background="#7033AC"})),document.querySelector("#checkbox-24").addEventListener("keyup",(function(){rangeSliderLine.style.background="#A65CF0"}));var checkboxDiscount=document.querySelectorAll(".section-catalog__sidebar-checkbox-discount"),nameplateDescDiscount=document.querySelector(".section-catalog__header-nameplate-discount-desc"),btnClosenameplateDiscount=document.getElementById("btn-close-discount");checkboxDiscount.forEach((function(e){e.addEventListener("click",(function(){nameplateDiscount.style.display="flex",nameplateDescDiscount.textContent=this.value}))})),btnClosenameplateDiscount.addEventListener("click",(function(){checkboxDiscount.forEach((function(e){e.checked=!1})),nameplateDiscount.style.display="none"}));var btnsDropdownCatalog=document.querySelectorAll(".section-catalog__sidebar-dropdown-btn"),сategoryDropdownCatalog=document.querySelector(".section-catalog__sidebar-checkbox-list-сategory"),priceDropdownCatalog=document.querySelector(".section-catalog__sidebar-input-container"),discountDropdownCatalog=document.querySelector(".section-catalog__sidebar-checkbox-list-discount"),colorDropdownCatalog=document.querySelector(".section-catalog__sidebar-checkbox-list-color"),arrayDropdownCatalog=[сategoryDropdownCatalog,priceDropdownCatalog,discountDropdownCatalog,colorDropdownCatalog];btnsDropdownCatalog.forEach((function(e,n){e.addEventListener("click",(function(){"flex"===arrayDropdownCatalog[n].style.display?(e.classList.remove("btn-active"),elemHidden(arrayDropdownCatalog[n],classAnimationDropdownOpen,classAnimationDropdownClose)):(e.classList.add("btn-active"),elemVisible(arrayDropdownCatalog[n],classAnimationDropdownOpen,"flex"))})),body.addEventListener("click",(function(t){e.contains(t.target)||arrayDropdownCatalog[n].contains(t.target)||window.screen.width<=1320&&(e.classList.remove("btn-active"),elemHidden(arrayDropdownCatalog[n],classAnimationDropdownOpen,classAnimationDropdownClose))}))}));var tabsBtnCatalog=document.querySelectorAll(".section-catalog__tabs-btn");tabsBtnCatalog.forEach((function(e){e.addEventListener("click",(function(n){var t=n.currentTarget.dataset.path;document.querySelectorAll(".section-catalog__tabs-list").forEach((function(e){e.classList.remove("section-catalog__tabs-list-active")})),tabsBtnCatalog.forEach((function(e){return e.classList.remove("section-catalog__tabs-btn-active")})),document.querySelector('[data-target="'.concat(t,'"]')).classList.add("section-catalog__tabs-list-active"),e.classList.add("section-catalog__tabs-btn-active")}))}))}var btnsCardOpenModalForm=document.querySelectorAll(".card-content__btn");btnsCardOpenModalForm.forEach((function(e){if(e){var n=function(e,n){n.forEach((function(e){return e.value=""})),elemVisible(l,classAnimationModalOpen,"flex"),d.textContent=e,m.addEventListener("click",(function(){elemHidden(l,classAnimationModalOpen,classAnimationModalClose)})),body.addEventListener("click",(function(e){s.contains(e.target)||c.contains(e.target)||p.contains(e.target)||elemHidden(l,classAnimationModalOpen,classAnimationModalClose)}))},t=function(e){e.forEach((function(e){e.addEventListener("input",(function(){this.classList.add("input-active"),""!==this.value||this.classList.remove("input-active")}))}))},a=document.querySelectorAll(".section-special__card-btn"),o=document.querySelector(".section-card__btn-main"),c=document.getElementById("box-modal-form"),i=(document.getElementById("container-modal-form"),document.getElementById("close-modal-form")),r=[];btnsCardOpenModalForm.forEach((function(e){return r.push(e)})),a&&a.forEach((function(e){return r.push(e)})),o&&r.push(o),r.forEach((function(e){e.addEventListener("click",(function(){elemVisible(c,classAnimationModalOpen,"flex")}))})),i.addEventListener("click",(function(){return elemHidden(c,classAnimationModalOpen,classAnimationModalClose)}));var l=document.getElementById("popup-response"),s=document.getElementById("container-popup-response"),d=document.getElementById("content-response"),m=document.getElementById("close-popup-response"),u=document.getElementById("form-modal"),p=document.getElementById("form-dispatch");if(u){var f=document.querySelectorAll(".modal-form__form-input"),b=document.getElementById("tel-modal");t(f),new Inputmask("+7 (999)-999-99-99").mask(b),new JustValidate("#form-modal",{rules:{name:{required:!0,minLength:2,maxLength:20},tel:{required:!0,function:function(e,n){var t=b.inputmask.unmaskedvalue();return Number(t)&&10===t.length}}},colorWrong:"#FF6972",submitHandler:function(e,t,a){a({url:"/php/getPostValue.php",method:"POST",data:t,async:!0,callback:function(){elemHidden(c,classAnimationModalOpen,classAnimationModalClose),n("Спасибо, мы вам перезвоним!",f)},error:function(){elemHidden(c,classAnimationModalOpen,classAnimationModalClose),n("Ошибка отправки!",f)}})}})}if(p){var g=document.querySelectorAll(".section-dispatch__form-input"),y=document.getElementById("tel-dispatch");t(g),new Inputmask("+7 (999)-999-99-99").mask(y),new JustValidate("#form-dispatch",{rules:{name:{required:!0,minLength:2,maxLength:20},tel:{required:!0,function:function(e,n){var t=y.inputmask.unmaskedvalue();return Number(t)&&10===t.length}},mail:{required:!0,email:!0}},colorWrong:"#FF6972",submitHandler:function(e,t,a){a({url:"/php/getPostValue.php",method:"POST",data:t,async:!0,callback:function(){n("Спасибо, мы вам перезвоним!",g)},error:function(){n("Ошибка отправки!",g)}})}})}}}));var sectionCard=document.querySelector(".section-card");if(sectionCard){var eventModalCard=function(e,n){e.forEach((function(t){t.addEventListener("click",(function(t){var a=t.currentTarget,o=t.currentTarget.dataset.path;e.forEach((function(e){e.disabled=!1,e.classList.remove("btn-slide-disabled")})),n.forEach((function(e){e.style.display="none",e.classList.remove(classAnimationVisible)})),a.disabled=!0,a.classList.add("btn-slide-disabled"),elemVisible(document.querySelector('[data-target="'.concat(o,'"]')),classAnimationVisible,"block")}))}))},btnMainImgCard=document.getElementById("btn-main-img-modal"),allImgMainCard=document.querySelectorAll(".section-card__img-box-main"),btnsSlideImgCard=document.querySelectorAll(".section-card__img-btn"),modalCard=document.getElementById("modal-card"),containerModalCard=document.getElementById("container-modal-card"),btnCloseModalCard=document.getElementById("close-modal-card"),btnsSlideImgModalCard=document.querySelectorAll(".modal-card__tabs-btn"),allImgMainModalCard=document.querySelectorAll(".modal-card__img-box");eventModalCard(btnsSlideImgCard,allImgMainCard),eventModalCard(btnsSlideImgModalCard,allImgMainModalCard),btnMainImgCard.addEventListener("click",(function(){elemVisible(modalCard,classAnimationModalOpen,"flex"),btnsSlideImgModalCard.forEach((function(e){e.disabled=!1,e.classList.remove("btn-slide-disabled")})),allImgMainModalCard.forEach((function(e){e.style.display="none",e.classList.remove(classAnimationVisible)})),allImgMainCard.forEach((function(e){if("block"===window.getComputedStyle(e).display){var n=document.querySelector('[data-target="img-modal-'.concat(e.dataset.target.replace(/\D+/g,""),'"]')),t=document.querySelector('[data-path="img-modal-'.concat(e.dataset.target.replace(/\D+/g,""),'"]'));t.disabled=!0,t.classList.add("btn-slide-disabled"),elemVisible(n,classAnimationVisible,"block")}}))})),btnCloseModalCard.addEventListener("click",(function(){elemHidden(modalCard,classAnimationModalOpen,classAnimationModalClose)})),body.addEventListener("click",(function(e){btnMainImgCard.contains(e.target)||containerModalCard.contains(e.target)||elemHidden(modalCard,classAnimationModalOpen,classAnimationModalClose)}))}var map=document.getElementById("map");if(map){var myPlacemark1,myPlacemark2,searchBallonMap=function(e,n){dropdownContacts.insertAdjacentHTML("beforeend",'<div class="section-contacts__form-dropdown-btn" role="option"><h2 class="section-contacts__form-dropdown-title">'.concat(e,'</h2><address class="section-contacts__form-dropdown-address">').concat(n,"</address></div>"));var t=document.querySelectorAll(".section-contacts__form-dropdown-btn");function a(e,n){e.balloon.open(),n.style.display="none"}searchContacts.addEventListener("input",(function(){this.classList.add("input-active");var e,n=_createForOfIteratorHelper(this.value);try{var a=function(){var n=e.value;if(n.toLowerCase(),n)return t.forEach((function(e,t){e.id="dropdown-btn-contact-".concat(t+1),document.getElementById("".concat(e.id)).textContent.replace(/[\s,.-]/g,"").toLowerCase().indexOf(n)>-1?(e.style.display="flex",elemVisible(dropdownContacts,classAnimationDropdownOpen,"block")):e.style.display="none",e.addEventListener("click",(function(){var n=document.querySelector("#".concat(e.id," h2")).textContent;searchContacts.value=n,elemHidden(dropdownContacts,classAnimationDropdownOpen,classAnimationDropdownClose)}))})),"break"};for(n.s();!(e=n.n()).done;){if("break"===a())break}}catch(e){n.e(e)}finally{n.f()}""!==this.value||(this.classList.remove("input-active"),elemHidden(dropdownContacts,classAnimationDropdownOpen,classAnimationDropdownClose))})),formContacts.addEventListener("submit",(function(e){var n,o;e.preventDefault(),t.forEach((function(e){return e.style.display="none"})),elemHidden(dropdownContacts,classAnimationDropdownOpen,classAnimationDropdownClose),"Москва, SitDownPls на Солянке"===searchContacts.value?a(myPlacemark1,popupContacts):"Москва, SitDownPls на Покровке"===searchContacts.value?a(myPlacemark2,popupContacts):(n=[myPlacemark1,myPlacemark2],(o=popupContacts).style.display="block",setTimeout((function(){o.style.display="none"}),2500),n.forEach((function(e){return e.balloon.close()})))}))},init=function(){var e=new ymaps.Map("map",{center:[55.757353585432654,37.635001298950186],zoom:14});function n(e,n){return'<div class="popup-contacts" role="tooltipe"><h2 class="popup-contacts__title">'.concat(e,'</h2><address class="popup-contacts__address">').concat(n,'</address><a class="popup-contacts__tel tel" href="tel:+74958854547" aria-label="Контактный номер телефона"><svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.3425 14.0983C17.215 14.0983 16.1242 13.915 15.1067 13.585C14.7858 13.475 14.4283 13.5575 14.1808 13.805L12.7417 15.6108C10.1475 14.3733 7.71833 12.0358 6.42583 9.35L8.21333 7.82833C8.46083 7.57167 8.53417 7.21417 8.43333 6.89333C8.09417 5.87583 7.92 4.785 7.92 3.6575C7.92 3.1625 7.5075 2.75 7.0125 2.75H3.84083C3.34583 2.75 2.75 2.97 2.75 3.6575C2.75 12.1733 9.83583 19.25 18.3425 19.25C18.9933 19.25 19.25 18.6725 19.25 18.1683V15.0058C19.25 14.5108 18.8375 14.0983 18.3425 14.0983Z" fill="#FF862F" /></svg>+7 (495) 885-45-47</a><div class="popup-contacts__desc-time"><span class="popup-contacts__desc-alert">Часы работы:</span> с 10:00 до 21:00</div><div class="popup-contacts__desc"><span class="popup-contacts__desc-alert">Что здесь:</span> шоурум, пункт отгрузки, пункт выдачи, пункт обмена-возврата, сервисный центр</div></div>')}var t={iconLayout:"default#image",iconImageHref:"img/favicon/placemark.svg",iconImageSize:[32,21],hideIconOnBalloonOpen:!1,balloonOffset:[-110,-42],balloonPanelMaxMapArea:0};screen.width<664&&(t.balloonOffset=[-55,-42]),myPlacemark1=new ymaps.Placemark([55.750615568993275,37.64180899999995],{balloonContent:n("SitDownPls на Солянке","м. Китай-город, ул. Солянка, д.24")},t),myPlacemark2=new ymaps.Placemark([55.76226070125444,37.65358843587206],{balloonContent:n("SitDownPls на Покровке","м. Курская, ул. Покровка, д.14")},t),e.geoObjects.add(myPlacemark1),e.geoObjects.add(myPlacemark2)},searchContacts=document.getElementById("search-contacts"),dropdownContacts=document.querySelector(".section-contacts__form-dropdown"),formContacts=document.getElementById("form-contacts"),popupContacts=document.getElementById("popup-contacts");searchBallonMap("Москва, SitDownPls на Солянке","м. Китай-город, ул. Солянка, д.24"),searchBallonMap("Москва, SitDownPls на Покровке","м. Курская, ул. Покровка, д.14"),ymaps.ready(init)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoZWNrYm94LW5hbWVwbGF0ZS5qcyIsImVsZW1lbnQtaGlkZGVuLmpzIiwiaGlkaW5nLWl0ZW1zLmpzIiwic2VsZWN0LmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJldmVudENoZWNrYm94TmFtZXBsYXRlIiwiYWxsTGFiZWwiLCJuYW1lcGxhdGUiLCJkZXN0aW5hdGlvbiIsImNyZWF0ZU5hbWVwbGF0ZSIsImVsTmFtZXBsYXRlIiwibmFtZXBsYXRlRGVzdGluYXRpb24iLCJpZCIsIm5hbWUiLCJjb250ZW50IiwiYXJpYUxhYmVsIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiY29uY2F0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJjaGVja2VkIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJsYWJlbCIsImNoZWNrYm94SWQiLCJwYXJzZUludCIsInF1ZXJ5U2VsZWN0b3IiLCJyZXBsYWNlIiwiY2hlY2tib3hOYW1lIiwiY2hlY2tib3hWYWx1ZSIsInZhbHVlIiwiY2hlY2tib3giLCJjdXJyZW50VGFyZ2V0IiwiZWxlbVZpc2libGUiLCJlbCIsImNsYXNzT3BlbiIsImRpc3BsYXkiLCJzdHlsZSIsImNsYXNzTGlzdCIsImFkZCIsImVsZW1IaWRkZW4iLCJjbGFzc0Nsb3NlIiwic2V0VGltZW91dCIsInBvcHVwQ2xvc2UiLCJtb2RhbCIsImNyZWF0ZUJ0bkFuZEhpZGluZ0l0ZW0iLCJsaW1pdFF1YW50aXR5IiwiY2xhc3NJdGVtIiwiY2xhc3NCdG4iLCJjbGFzc0FjdGl2ZSIsImNoaWxkcmVuIiwibGVuZ3RoIiwiZnVsbExlbmd0aCIsInJhbmdlTGVuZ3RoIiwiaGlkZGVuSXRlbXMiLCJBcnJheSIsImZyb20iLCJzbGljZSIsImUiLCJwYXJlbnQiLCJjbG9zZXN0IiwiY29udGFpbnMiLCJ0ZXh0Q29udGVudCIsInNlbGVjdCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIm9wdGlvbnMiLCJjb250YWluZXJTZWxlY3QiLCJjcmVhdGVFbGVtZW50Iiwic2VsZWN0QnRuIiwic2VsZWN0RHJvcGRvd24iLCJzdmdJY29uIiwiY2xhc3NDb250YWluZXIiLCJjbGFzc1NlbGVjdCIsIm1haW4iLCJjbGFzc0Ryb3Bkb3duIiwiYWN0aXZlIiwib3BlbiIsImNsb3NlIiwiYm9keSIsInRhcmdldCIsIm9wdGlvbkJ0biIsImFwcGVuZCIsImNsYXNzQW5pbWF0aW9uVmlzaWJsZSIsImNsYXNzQW5pbWF0aW9uSGlkZGVuIiwiY2xhc3NBbmltYXRpb25JY29uIiwiY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4iLCJjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2UiLCJjbGFzc0FuaW1hdGlvbk1vZGFsT3BlbiIsImNsYXNzQW5pbWF0aW9uTW9kYWxDbG9zZSIsInByZWxvYWRlciIsImhlYWRlciIsImhlYWRlckJyZWFkY3J1bWJzIiwibGlzdExpbmtzaGVhZGVyQnJlYWRjcnVtYnMiLCJsb2NhdGlvblNlYXJjaE5hbWUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsImNvbnRlbnRMb2NhdGlvbiIsImxvY2F0aW9uTmFtZSIsInRpdGxlIiwiYXJyYXlMaW5rIiwibGFzdENoaWxkQXJyYXkiLCJsaW5rIiwiaXRlbWhlYWRlckJyZWFkY3J1bWJzIiwibGlua2hlYWRlckJyZWFkY3J1bWJzIiwiaHJlZiIsIm9yaWdpbiIsInBhdGhuYW1lIiwiY2xhc3NOYW1lIiwiYnRuU2Nyb2xsIiwiZXZlbnRCdG5TY3JvbGwiLCJidG4iLCJ2aXNpYmxlQW5kSGlkZGVuQnRuIiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUbyIsInRvcCIsImJlaGF2aW9yIiwicGFzc2l2ZSIsInNlbGVjdEhlYWRlciIsImNsYXNzIiwic2VhcmNoSGVhZGVyIiwiaWNvblNlYXJjaEhlYWRlciIsInRoaXMiLCJmaWxsIiwiZHJvcGRvd25CdG5IZWFkZXIiLCJkcm9wZG93bkhlYWRlciIsIm1lbnVIZWFkZXIiLCJuYXZIZWFkZXIiLCJidG5PcGVuTWVudUhlYWRlciIsImJ0bkNsb3NlTWVudUhlYWRlciIsInNjcmVlbiIsIndpZHRoIiwicG9wdXBCYW5uZXIiLCJldmVudEJ0blBvcHVwQmFubmVyIiwiZGlzYWJsZWQiLCJidG5zQmFubmVyIiwiYnRuQmFubmVyU00iLCJidG5CYW5uZXJUZXh0Q29udGVudCIsImJ0blJhdGluZyIsIml0ZW1SYXRpbmciLCJpdGVtIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInNlY3Rpb25DYXRhbG9nIiwidGhyb3dWYWx1ZVByaWNlIiwiaW5wdXQiLCJkaXNwbGF5TmFtZXBsYXRlUHJpY2UiLCJuYW1lcGxhdGVGcm9tUHJpY2UiLCJsYWJlbENhdGVnb3J5IiwibmFtZXBsYXRlRGlzY291bnQiLCJsYWJlbENvbG9yIiwicmFuZ2VTbGlkZXIiLCJpbnB1dEZyb21QcmljZSIsImlucHV0QmVmb3JlUHJpY2UiLCJ2YWx1ZWlucHV0RnJvbVByaWNlIiwidmFsdWVpbnB1dEJlZm9yZVByaWNlIiwibmFtZXBsYXRlQmVmb3JlUHJpY2UiLCJidG5DbG9zZUZyb21QcmljZSIsImJ0bkNsb3NlUHJpY2VCZWZvcmUiLCJpbnB1dHMiLCJub1VpU2xpZGVyIiwiY3JlYXRlIiwic3RhcnQiLCJjb25uZWN0Iiwic3RlcCIsInJhbmdlIiwibWluIiwibWF4IiwiaGFuZGxlQXR0cmlidXRlcyIsIm9uIiwidmFsdWVzIiwiaGFuZGxlIiwiTWF0aCIsInJvdW5kIiwic2V0U2xpZGVyIiwiaSIsImFyciIsInNldCIsImluZGV4IiwiaW5uZXJIVE1MIiwiYnRuUmFuZ2VTbGlkZXJGcm9tIiwiYnRuUmFuZ2VTbGlkZXJCZWZvcmUiLCJyYW5nZVNsaWRlckxpbmUiLCJiYWNrZ3JvdW5kIiwiY2hlY2tib3hEaXNjb3VudCIsIm5hbWVwbGF0ZURlc2NEaXNjb3VudCIsImJ0bkNsb3NlbmFtZXBsYXRlRGlzY291bnQiLCJjaGVjYm94IiwiYnRuc0Ryb3Bkb3duQ2F0YWxvZyIsItGBYXRlZ29yeURyb3Bkb3duQ2F0YWxvZyIsInByaWNlRHJvcGRvd25DYXRhbG9nIiwiZGlzY291bnREcm9wZG93bkNhdGFsb2ciLCJjb2xvckRyb3Bkb3duQ2F0YWxvZyIsImFycmF5RHJvcGRvd25DYXRhbG9nIiwiaW5kZXhCdG4iLCJ0YWJzQnRuQ2F0YWxvZyIsImV2ZW50IiwicGF0aCIsImRhdGFzZXQiLCJsaXN0IiwiYWxsQnRuIiwiYnRuc0NhcmRPcGVuTW9kYWxGb3JtIiwicmVzcG9uc2VQb3B1cCIsInRleHQiLCJwb3B1cFJlc3BvbnNlIiwiZGVzY1BvcHVwUmVzcG9uc2UiLCJjbG9zZUJ0blBvcHVwUmVzcG9uc2UiLCJjb250YWluZXJQb3B1cFJlc3BvbnNlIiwiYm94TW9kYWxGb3JtIiwiZm9ybURpc3BhdGNoIiwiZXZlbnRJbnB1dEZyb20iLCJidG5TcGVjaWFsT3Blbk1vZGFsRm9ybSIsImJ0bkNhcmRPcGVuTW9kYWxGcm9tIiwiYnRuQ2xvc2VNb2RhbEZyb20iLCJhcnJheUJ0bk9wZW5Nb2RhbEZvcm0iLCJwdXNoIiwiZm9ybU1vZGFsIiwiaW5wdXRzTW9kYWwiLCJ0ZWxJbnB1dE1vZGFsIiwiSW5wdXRtYXNrIiwibWFzayIsIkp1c3RWYWxpZGF0ZSIsInJ1bGVzIiwicmVxdWlyZWQiLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJ0ZWwiLCJmdW5jdGlvbiIsInBob25lIiwiaW5wdXRtYXNrIiwidW5tYXNrZWR2YWx1ZSIsIk51bWJlciIsImNvbG9yV3JvbmciLCJzdWJtaXRIYW5kbGVyIiwiZm9ybSIsImFqYXgiLCJ1cmwiLCJtZXRob2QiLCJkYXRhIiwiYXN5bmMiLCJjYWxsYmFjayIsImVycm9yIiwiaW5wdXRzRGlzcGF0Y2giLCJ0ZWxJbnB1dERpc3BhdGNoIiwibWFpbCIsImVtYWlsIiwic2VjdGlvbkNhcmQiLCJldmVudE1vZGFsQ2FyZCIsImJ0bnMiLCJpbWFnZXMiLCJ0aGlzQnRuIiwiaW1nIiwiYnRuTWFpbkltZ0NhcmQiLCJhbGxJbWdNYWluQ2FyZCIsImJ0bnNTbGlkZUltZ0NhcmQiLCJtb2RhbENhcmQiLCJjb250YWluZXJNb2RhbENhcmQiLCJidG5DbG9zZU1vZGFsQ2FyZCIsImJ0bnNTbGlkZUltZ01vZGFsQ2FyZCIsImFsbEltZ01haW5Nb2RhbENhcmQiLCJpbWdNb2RhbCIsImJ0bk1vZGFsIiwibWFwIiwibXlQbGFjZW1hcmsxIiwibXlQbGFjZW1hcmsyIiwic2VhcmNoQmFsbG9uTWFwIiwiYWRkcmVzcyIsImRyb3Bkb3duQ29udGFjdHMiLCJkcm9wZG93bkJ0bnNDb250YWN0cyIsImJhbGxvbk9wZW4iLCJwbGFjZW1hcmsiLCJwb3B1cCIsImJhbGxvb24iLCJzZWFyY2hDb250YWN0cyIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJfbG9vcCIsInN5bWJvbCIsInRvTG93ZXJDYXNlIiwiYnRuSW5kZXgiLCJpbmRleE9mIiwiY29udGVudFRpdGxlQ29udGFjdHMiLCJzIiwibiIsImRvbmUiLCJlcnIiLCJmIiwiZm9ybUNvbnRhY3RzIiwicGxhY2VtYXJrcyIsInByZXZlbnREZWZhdWx0IiwicG9wdXBDb250YWN0cyIsImluaXQiLCJteU1hcCIsInltYXBzIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsImJhbGxvbkNvbnRlbnQiLCJwbGFjZW1hcmtJY29uQmFsbG9uIiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiaGlkZUljb25PbkJhbGxvb25PcGVuIiwiYmFsbG9vbk9mZnNldCIsImJhbGxvb25QYW5lbE1heE1hcEFyZWEiLCJQbGFjZW1hcmsiLCJiYWxsb29uQ29udGVudCIsImdlb09iamVjdHMiLCJyZWFkeSJdLCJtYXBwaW5ncyI6Im9wQ0FDQSxTQUFBQSx1QkFBQUMsRUFBQUMsRUFBQUMsR0FDQSxTQUFBQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxHQUVBLElBQUFDLEVBQ0FBLEVBQUEsYUFBQUYsRUFBQSxzQkFDQSxpQkFFQUgsRUFBQU0sbUJBQ0FMLEVBREEsbUZBQUFNLE9BRUFKLEVBRkEsb0JBQUFJLE9BRUFMLEVBRkEscURBQUFLLE9B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LE1BQUFqQiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5mdW5jdGlvbiBldmVudENoZWNrYm94TmFtZXBsYXRlKGFsbExhYmVsLCBuYW1lcGxhdGUsIGRlc3RpbmF0aW9uKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZU5hbWVwbGF0ZShcbiAgICBlbE5hbWVwbGF0ZSxcbiAgICBuYW1lcGxhdGVEZXN0aW5hdGlvbixcbiAgICBpZCxcbiAgICBuYW1lLFxuICAgIGNvbnRlbnRcbiAgKSB7XG4gICAgbGV0IGFyaWFMYWJlbDtcbiAgICBpZiAobmFtZSA9PT0gJ9GBYXRlZ29yeScpIGFyaWFMYWJlbCA9ICfQktGL0LHRgNCw0L3QvdCw0Y8g0LrQsNGC0LXQs9C+0YDQuNGPJztcbiAgICBlbHNlIGFyaWFMYWJlbCA9ICfQktGL0LHRgNCw0L3QvdGL0Lkg0YbQstC10YInO1xuXG4gICAgZWxOYW1lcGxhdGUuaW5zZXJ0QWRqYWNlbnRIVE1MKFxuICAgICAgbmFtZXBsYXRlRGVzdGluYXRpb24sXG4gICAgICBgPGRpdiBjbGFzcz1cInNlY3Rpb24tY2F0YWxvZ19faGVhZGVyLW5hbWVwbGF0ZSBzZWN0aW9uLWNhdGFsb2dfX2hlYWRlci1uYW1lcGxhdGUtJHtuYW1lfVwiIGlkPVwibmFtZXBsYXRlLSR7aWR9XCI+PHNwYW4gY2xhc3M9XCJzZWN0aW9uLWNhdGFsb2dfX2hlYWRlci1uYW1lcGxhdGUtJHtuYW1lfS1kZXNjXCIgcm9sZT1cIm5vdGVcIiBhcmlhLWxhYmVsPVwiJHthcmlhTGFiZWx9XCI+JHtjb250ZW50fTwvc3Bhbj48YnV0dG9uIGNsYXNzPVwic2VjdGlvbi1jYXRhbG9nX19oZWFkZXItbmFtZXBsYXRlLWJ0blwiIGFyaWEtbGFiZWw9XCLQl9Cw0LrRgNGL0YLRjCDQstGL0LHRgNCw0L3QvdGL0Lkg0YTQuNC70YzRgtGAXCIgaWQ9XCJjbG9zZS1uYW1lcGxhdGUtJHtpZH1cIj48c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE1LjU5OTkgOC40MDAwMkw4LjM5OTkgMTUuNlwiIHN0cm9rZT1cIiM2NjY2NjZcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIi8+PHBhdGggZD1cIk04LjM5OTkgOC40MDAwMkwxNS41OTk5IDE1LjZcIiBzdHJva2U9XCIjNjY2NjY2XCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIvPjwvc3ZnPjwvYnV0dG9uPjwvZGl2PmBcbiAgICApO1xuICAgIGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoYGNsb3NlLW5hbWVwbGF0ZS0ke2lkfWApXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBuYW1lcGxhdGUtJHtpZH1gKS5yZW1vdmUoKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGNoZWNrYm94LSR7aWR9YCkuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gIH1cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChhbGxMYWJlbCkuZm9yRWFjaCgobGFiZWwpID0+IHtcbiAgICBjb25zdCBjaGVja2JveElkID0gcGFyc2VJbnQoXG4gICAgICBsYWJlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmlkLnJlcGxhY2UoL1teXFxkXS9nLCAnJylcbiAgICApO1xuICAgIGNvbnN0IGNoZWNrYm94TmFtZSA9IGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykubmFtZTtcbiAgICBjb25zdCBjaGVja2JveFZhbHVlID0gbGFiZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZTtcblxuICAgIGlmIChsYWJlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmNoZWNrZWQpXG4gICAgICBjcmVhdGVOYW1lcGxhdGUoXG4gICAgICAgIG5hbWVwbGF0ZSxcbiAgICAgICAgZGVzdGluYXRpb24sXG4gICAgICAgIGNoZWNrYm94SWQsXG4gICAgICAgIGNoZWNrYm94TmFtZSxcbiAgICAgICAgY2hlY2tib3hWYWx1ZVxuICAgICAgKTtcbiAgICBsYWJlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChjaGVja2JveCkgPT4ge1xuICAgICAgaWYgKGNoZWNrYm94LmN1cnJlbnRUYXJnZXQuY2hlY2tlZCA9PSB0cnVlKVxuICAgICAgICBjcmVhdGVOYW1lcGxhdGUoXG4gICAgICAgICAgbmFtZXBsYXRlLFxuICAgICAgICAgIGRlc3RpbmF0aW9uLFxuICAgICAgICAgIGNoZWNrYm94SWQsXG4gICAgICAgICAgY2hlY2tib3hOYW1lLFxuICAgICAgICAgIGNoZWNrYm94VmFsdWVcbiAgICAgICAgKTtcbiAgICAgIGVsc2UgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG5hbWVwbGF0ZS0ke2NoZWNrYm94SWR9YCkucmVtb3ZlKCk7XG4gICAgfSk7XG4gIH0pO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmZ1bmN0aW9uIGVsZW1WaXNpYmxlKGVsLCBjbGFzc09wZW4sIGRpc3BsYXkpIHtcbiAgZWwuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XG4gIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NPcGVuKTtcbn1cblxuZnVuY3Rpb24gZWxlbUhpZGRlbihlbCwgY2xhc3NPcGVuLCBjbGFzc0Nsb3NlKSB7XG4gIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NPcGVuKTtcbiAgZWwuY2xhc3NMaXN0LmFkZChjbGFzc0Nsb3NlKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzQ2xvc2UpO1xuICB9LCA0MDApO1xufVxuXG5mdW5jdGlvbiBwb3B1cENsb3NlKG1vZGFsLCBjbGFzc0Nsb3NlKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoY2xhc3NDbG9zZSk7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc0Nsb3NlKTtcbiAgfSwgNDAwKTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5mdW5jdGlvbiBjcmVhdGVCdG5BbmRIaWRpbmdJdGVtKFxuICBsaW1pdFF1YW50aXR5LFxuICBjbGFzc0xpc3QsXG4gIGNsYXNzSXRlbSxcbiAgY2xhc3NCdG4sXG4gIGNsYXNzQWN0aXZlXG4pIHtcbiAgY29uc3QgbGlzdENoZWNrYm94Q2F0YWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke2NsYXNzTGlzdH1gKTtcblxuICBsaXN0Q2hlY2tib3hDYXRhbG9nLmZvckVhY2goKGVsKSA9PiB7XG4gICAgaWYgKGVsLmNoaWxkcmVuLmxlbmd0aCA+IGxpbWl0UXVhbnRpdHkpIHtcbiAgICAgIGNvbnN0IGZ1bGxMZW5ndGggPSBlbC5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICBjb25zdCByYW5nZUxlbmd0aCA9IGZ1bGxMZW5ndGggLSBsaW1pdFF1YW50aXR5O1xuICAgICAgY29uc3QgYXJyID0gQXJyYXkuZnJvbShlbC5jaGlsZHJlbik7XG4gICAgICBjb25zdCBoaWRkZW5JdGVtcyA9IGFyci5zbGljZShmdWxsTGVuZ3RoIC0gcmFuZ2VMZW5ndGgsIGZ1bGxMZW5ndGgpO1xuICAgICAgaGlkZGVuSXRlbXMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChgJHtjbGFzc0FjdGl2ZX1gKTtcbiAgICAgIH0pO1xuICAgICAgZWwuaW5zZXJ0QWRqYWNlbnRIVE1MKFxuICAgICAgICAnYmVmb3JlZW5kJyxcbiAgICAgICAgYDxidXR0b24gY2xhc3M9XCIke2NsYXNzQnRufVwiPisg0LXRidGRICR7aGlkZGVuSXRlbXMubGVuZ3RofTwvYnV0dG9uPmBcbiAgICAgICk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBidG5MaXN0Q2hlY2tib3hDYXRhbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7Y2xhc3NCdG59YCk7XG5cbiAgYnRuTGlzdENoZWNrYm94Q2F0YWxvZy5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IGUuY3VycmVudFRhcmdldC5jbG9zZXN0KGAuJHtjbGFzc0xpc3R9YCk7XG4gICAgICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucyhgJHtjbGFzc0FjdGl2ZX1gKSkge1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGAke2NsYXNzQWN0aXZlfWApO1xuICAgICAgICBlbC50ZXh0Q29udGVudCA9ICfQodCy0LXRgNC90YPRgtGMJztcbiAgICAgICAgcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke2NsYXNzSXRlbX1gKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoYCR7Y2xhc3NBY3RpdmV9YCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShgJHtjbGFzc0FjdGl2ZX1gKTtcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSAn0J/QvtC60LDQt9Cw0YLRjCDQstGB0LUnO1xuICAgICAgICBjb25zdCBmdWxsTGVuZ3RoID0gcGFyZW50LmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcmFuZ2VMZW5ndGggPSBmdWxsTGVuZ3RoIC0gbGltaXRRdWFudGl0eTtcbiAgICAgICAgY29uc3QgYXJyID0gQXJyYXkuZnJvbShwYXJlbnQuY2hpbGRyZW4pO1xuICAgICAgICBjb25zdCBoaWRkZW5JdGVtcyA9IGFyci5zbGljZShmdWxsTGVuZ3RoIC0gcmFuZ2VMZW5ndGgsIGZ1bGxMZW5ndGggLSAxKTtcbiAgICAgICAgaGlkZGVuSXRlbXMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGAke2NsYXNzQWN0aXZlfWApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuZnVuY3Rpb24gc2VsZWN0KHNlbGVjdCA9IHt9LCBvcHRpb25zID0gW10pIHtcbiAgY29uc3QgY29udGFpbmVyU2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnN0IHNlbGVjdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBjb25zdCBzZWxlY3REcm9wZG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBsZXQgY29udGVudDtcblxuICBjb250YWluZXJTZWxlY3QuY2xhc3NMaXN0LmFkZChzZWxlY3QuY2xhc3NDb250YWluZXIpO1xuICBzZWxlY3RCdG4uY2xhc3NMaXN0LmFkZChzZWxlY3QuY2xhc3NTZWxlY3QubWFpbik7XG4gIHNlbGVjdERyb3Bkb3duLmNsYXNzTGlzdC5hZGQoc2VsZWN0LmNsYXNzRHJvcGRvd24ubWFpbik7XG4gIHNlbGVjdERyb3Bkb3duLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHNlbGVjdEJ0bi50ZXh0Q29udGVudCA9IHNlbGVjdC5uYW1lO1xuICBzZWxlY3RCdG4ubmFtZSA9ICfQpNC40LvRjNGC0YAnO1xuXG4gIGZ1bmN0aW9uIHN2Z0ljb24oZWwpIHtcbiAgICBlbC5pbnNlcnRBZGphY2VudEhUTUwoXG4gICAgICAnYmVmb3JlZW5kJyxcbiAgICAgICc8c3ZnIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCI4XCIgdmlld0JveD1cIjAgMCAxMiA4XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTUuNjU2NzQgNS44MDUyMUwxMC41NTkzIDAuOTAyNjA3TDExLjMxMzYgMS42NTY4NUw1LjY1Njc0IDcuMzEzNzFMLTAuMDAwMTE1ODcxIDEuNjU2ODVMMC43NTQxMzEgMC45MDI2MDdMNS42NTY3NCA1LjgwNTIxWlwiIGZpbGw9XCIjQTY1Q0YwXCIvPjwvc3ZnPidcbiAgICApO1xuICB9XG4gIHN2Z0ljb24oc2VsZWN0QnRuKTtcblxuICBmdW5jdGlvbiBlbGVtVmlzaWJsZShlbCwgY2xhc3NPcGVuLCBkaXNwbGF5KSB7XG4gICAgZWwuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XG4gICAgZWwuY2xhc3NMaXN0LmFkZChjbGFzc09wZW4pO1xuICB9XG5cbiAgZnVuY3Rpb24gZWxlbUhpZGRlbihlbCwgY2xhc3NPcGVuLCBjbGFzc0Nsb3NlKSB7XG4gICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc09wZW4pO1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NDbG9zZSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc0Nsb3NlKTtcbiAgICB9LCA0MDApO1xuICB9XG5cbiAgc2VsZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnRlbnQgPSBzZWxlY3RCdG4udGV4dENvbnRlbnQ7XG4gICAgaWYgKHNlbGVjdERyb3Bkb3duLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgc2VsZWN0QnRuLmNsYXNzTGlzdC5hZGQoc2VsZWN0LmNsYXNzU2VsZWN0LmFjdGl2ZSk7XG4gICAgICBlbGVtVmlzaWJsZShzZWxlY3REcm9wZG93biwgc2VsZWN0LmNsYXNzRHJvcGRvd24ub3BlbiwgJ2ZsZXgnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0QnRuLmNsYXNzTGlzdC5yZW1vdmUoc2VsZWN0LmNsYXNzU2VsZWN0LmFjdGl2ZSk7XG4gICAgICBlbGVtSGlkZGVuKFxuICAgICAgICBzZWxlY3REcm9wZG93bixcbiAgICAgICAgc2VsZWN0LmNsYXNzRHJvcGRvd24ub3BlbixcbiAgICAgICAgc2VsZWN0LmNsYXNzRHJvcGRvd24uY2xvc2VcbiAgICAgICk7XG4gICAgfVxuICB9KTtcblxuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGVsKSA9PiB7XG4gICAgaWYgKHNlbGVjdERyb3Bkb3duLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykgcmV0dXJuO1xuICAgIGlmICghc2VsZWN0RHJvcGRvd24uY29udGFpbnMoZWwudGFyZ2V0KSAmJiAhc2VsZWN0QnRuLmNvbnRhaW5zKGVsLnRhcmdldCkpIHtcbiAgICAgIHNlbGVjdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKHNlbGVjdC5jbGFzc1NlbGVjdC5hY3RpdmUpO1xuICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgc2VsZWN0RHJvcGRvd24sXG4gICAgICAgIHNlbGVjdC5jbGFzc0Ryb3Bkb3duLm9wZW4sXG4gICAgICAgIHNlbGVjdC5jbGFzc0Ryb3Bkb3duLmNsb3NlXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgb3B0aW9ucy5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGNvbnN0IG9wdGlvbkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgb3B0aW9uQnRuLmNsYXNzTGlzdC5hZGQoZWwuY2xhc3MpO1xuICAgIG9wdGlvbkJ0bi50ZXh0Q29udGVudCA9IGVsLm5hbWU7XG4gICAgb3B0aW9uQnRuLnZhbHVlID0gZWwubmFtZTtcblxuICAgIG9wdGlvbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHNlbGVjdEJ0bi50ZXh0Q29udGVudCA9IG9wdGlvbkJ0bi50ZXh0Q29udGVudDtcbiAgICAgIHN2Z0ljb24oc2VsZWN0QnRuKTtcbiAgICAgIG9wdGlvbkJ0bi50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICBzZWxlY3RCdG4uY2xhc3NMaXN0LnJlbW92ZShzZWxlY3QuY2xhc3NTZWxlY3QuYWN0aXZlKTtcbiAgICAgIGVsZW1IaWRkZW4oXG4gICAgICAgIHNlbGVjdERyb3Bkb3duLFxuICAgICAgICBzZWxlY3QuY2xhc3NEcm9wZG93bi5vcGVuLFxuICAgICAgICBzZWxlY3QuY2xhc3NEcm9wZG93bi5jbG9zZVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHNlbGVjdERyb3Bkb3duLmFwcGVuZChvcHRpb25CdG4pO1xuICB9KTtcblxuICBjb250YWluZXJTZWxlY3QuYXBwZW5kKHNlbGVjdEJ0biwgc2VsZWN0RHJvcGRvd24pO1xuXG4gIHJldHVybiBjb250YWluZXJTZWxlY3Q7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tZW1wdHkgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLWlubmVyLWRlY2xhcmF0aW9ucyAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cblxuLy8gYW5pbWF0aW9uIGNsYXNzXG5jb25zdCBjbGFzc0FuaW1hdGlvblZpc2libGUgPSAnYW5pbWF0aW9uLXZpc2libGUnO1xuY29uc3QgY2xhc3NBbmltYXRpb25IaWRkZW4gPSAnYW5pbWF0aW9uLWhpZGRlbic7XG5jb25zdCBjbGFzc0FuaW1hdGlvbkljb24gPSAnYW5pbWF0aW9uLWljb24nO1xuY29uc3QgY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4gPSAnYW5pbWF0aW9uLWRyb3Bkb3duLW9wZW4nO1xuY29uc3QgY2xhc3NBbmltYXRpb25Ecm9wZG93bkNsb3NlID0gJ2FuaW1hdGlvbi1kcm9wZG93bi1jbG9zZSc7XG5jb25zdCBjbGFzc0FuaW1hdGlvbk1vZGFsT3BlbiA9ICdhbmltYXRpb24tbW9kYWwtb3Blbic7XG5jb25zdCBjbGFzc0FuaW1hdGlvbk1vZGFsQ2xvc2UgPSAnYW5pbWF0aW9uLW1vZGFsLWNsb3NlJztcblxuY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG5jb25zdCBwcmVsb2FkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJlbG9hZGVyJyk7XG5jb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJyk7XG5jb25zdCBoZWFkZXJCcmVhZGNydW1icyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItYnJlYWRjcnVtYnMnKTtcbmNvbnN0IGxpc3RMaW5rc2hlYWRlckJyZWFkY3J1bWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgJy5oZWFkZXItYnJlYWRjcnVtYnNfX2xpc3QnXG4pO1xuY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKTtcbmNvbnN0IGxvY2F0aW9uU2VhcmNoTmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gucmVwbGFjZSgvW15hLXrQsC3Rj9GRXS9naSwgJycpO1xuXG5mdW5jdGlvbiBjb250ZW50TG9jYXRpb24obG9jYXRpb25OYW1lLCB0aXRsZSwgYXJyYXlMaW5rKSB7XG4gIGRvY3VtZW50LnRpdGxlID0gYFNpdERvd25QbHMgLSAke3RpdGxlfWA7XG5cbiAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoJ2hlYWRlci1ib3R0b20nKTtcbiAgaGVhZGVyQnJlYWRjcnVtYnMuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLWJyZWFkY3J1bWJzLWFjdGl2ZScpO1xuICBjb25zdCBsYXN0Q2hpbGRBcnJheSA9IGFycmF5TGlua1thcnJheUxpbmsubGVuZ3RoIC0gMV07XG5cbiAgYXJyYXlMaW5rLmZvckVhY2goKGxpbmspID0+IHtcbiAgICBjb25zdCBpdGVtaGVhZGVyQnJlYWRjcnVtYnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgIGNvbnN0IGxpbmtoZWFkZXJCcmVhZGNydW1icyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBpdGVtaGVhZGVyQnJlYWRjcnVtYnMuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLWJyZWFkY3J1bWJzX19pdGVtJyk7XG4gICAgaWYgKGxpbmsgIT09IGxhc3RDaGlsZEFycmF5KVxuICAgICAgbGlua2hlYWRlckJyZWFkY3J1bWJzLmNsYXNzTGlzdC5hZGQoJ2hlYWRlci1icmVhZGNydW1ic19faXRlbS1saW5rJyk7XG4gICAgbGlua2hlYWRlckJyZWFkY3J1bWJzLnRleHRDb250ZW50ID0gbGluaztcblxuICAgIGlmIChsaW5rID09PSBsYXN0Q2hpbGRBcnJheSlcbiAgICAgIGxpbmtoZWFkZXJCcmVhZGNydW1icy5jbGFzc0xpc3QuYWRkKCdoZWFkZXItYnJlYWRjcnVtYnNfX2l0ZW0tbGluay1hbmQnKTtcbiAgICBsaW5raGVhZGVyQnJlYWRjcnVtYnMuaHJlZiA9ICcjJztcbiAgICBsaW5raGVhZGVyQnJlYWRjcnVtYnMudGV4dENvbnRlbnQgPSBsaW5rO1xuICAgIGlmIChsaW5rID09PSAn0JPQu9Cw0LLQvdCw0Y8nKVxuICAgICAgbGlua2hlYWRlckJyZWFkY3J1bWJzLmhyZWYgPSBgJHtsb2NhdGlvbi5vcmlnaW4gKyBsb2NhdGlvbi5wYXRobmFtZX1gO1xuICAgIGlmIChsaW5rID09PSAn0JrQsNGC0LDQu9C+0LMnKSBsaW5raGVhZGVyQnJlYWRjcnVtYnMuaHJlZiA9ICc/Y2F0YWxvZyc7XG4gICAgaWYgKGxpbmsgPT09ICfQlNC40LLQsNC90YsnKSBsaW5raGVhZGVyQnJlYWRjcnVtYnMuaHJlZiA9ICc/Y2F0YWxvZyc7XG4gICAgaWYgKGxpbmsgPT09ICfQn9GA0Y/QvNGL0LUg0LTQuNCy0LDQvdGLJyAmJiBsb2NhdGlvbk5hbWUgPT09ICdjYXJkJylcbiAgICAgIGxpbmtoZWFkZXJCcmVhZGNydW1icy5ocmVmID0gJz9jYXRhbG9nJztcblxuICAgIGl0ZW1oZWFkZXJCcmVhZGNydW1icy5hcHBlbmQobGlua2hlYWRlckJyZWFkY3J1bWJzKTtcbiAgICBsaXN0TGlua3NoZWFkZXJCcmVhZGNydW1icy5hcHBlbmQoaXRlbWhlYWRlckJyZWFkY3J1bWJzKTtcbiAgfSk7XG5cbiAgbWFpbi5jbGFzc05hbWUgPSBgbWFpbi0ke2xvY2F0aW9uTmFtZX1gO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbi1pbmRleCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2xvY2F0aW9uTmFtZX1gKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gIHByZWxvYWRlci5yZW1vdmUoKTtcbn0pO1xuXG5zd2l0Y2ggKGxvY2F0aW9uU2VhcmNoTmFtZSkge1xuICBjYXNlICdjYXRhbG9nJzpcbiAgICBjb250ZW50TG9jYXRpb24obG9jYXRpb25TZWFyY2hOYW1lLCAn0JrQsNGC0LDQu9C+0LMnLCBbXG4gICAgICAn0JPQu9Cw0LLQvdCw0Y8nLFxuICAgICAgJ9Ca0LDRgtCw0LvQvtCzJyxcbiAgICAgICfQlNC40LLQsNC90YsnLFxuICAgICAgJ9Cf0YDRj9C80YvQtSDQtNC40LLQsNC90YsnLFxuICAgIF0pO1xuICAgIGJyZWFrO1xuICBjYXNlICdjYXJkJzpcbiAgICBjb250ZW50TG9jYXRpb24obG9jYXRpb25TZWFyY2hOYW1lLCAn0JTQuNCy0LDQvSDRgtC60LDQvdC10LLRi9C5INC/0YDRj9C80L7QuSDigJxELTMx4oCdJywgW1xuICAgICAgJ9CT0LvQsNCy0L3QsNGPJyxcbiAgICAgICfQmtCw0YLQsNC70L7QsycsXG4gICAgICAn0JTQuNCy0LDQvdGLJyxcbiAgICAgICfQn9GA0Y/QvNGL0LUg0LTQuNCy0LDQvdGLJyxcbiAgICAgICdELTMxJyxcbiAgICBdKTtcbiAgICBicmVhaztcbiAgY2FzZSAnY29vcGVyYXRpb24nOlxuICAgIGNvbnRlbnRMb2NhdGlvbihsb2NhdGlvblNlYXJjaE5hbWUsICfQodC+0YLRgNGD0LTQvdC40YfQtdGB0YLQstC+JywgW1xuICAgICAgJ9CT0LvQsNCy0L3QsNGPJyxcbiAgICAgICfQodC+0YLRgNGD0LTQvdC40YfQtdGB0YLQstC+JyxcbiAgICBdKTtcbiAgICBicmVhaztcbiAgY2FzZSAnY29udGFjdHMnOlxuICAgIGNvbnRlbnRMb2NhdGlvbihsb2NhdGlvblNlYXJjaE5hbWUsICfQmtC+0L3RgtCw0LrRgtGLJywgWyfQk9C70LDQstC90LDRjycsICfQmtC+0L3RgtCw0LrRgtGLJ10pO1xuICAgIGJyZWFrO1xufVxuXG4vLyBzY3JvbGxcbmNvbnN0IGJ0blNjcm9sbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tc2Nyb2xsJyk7XG5cbmZ1bmN0aW9uIGV2ZW50QnRuU2Nyb2xsKGJ0bikge1xuICBmdW5jdGlvbiB2aXNpYmxlQW5kSGlkZGVuQnRuKGJ0blNjcm9sbCkge1xuICAgIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPj0gMjAwKSBidG5TY3JvbGwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICBlbHNlIGJ0blNjcm9sbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICB9KTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB2aXNpYmxlQW5kSGlkZGVuQnRuKGJ0bikpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4gdmlzaWJsZUFuZEhpZGRlbkJ0bihidG4pLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZSxcbiAgfSk7XG59XG5ldmVudEJ0blNjcm9sbChidG5TY3JvbGwpO1xuXG4vLyBoZWFkZXJcblxuLy8gaGVhZGVyIC8vIHNlbGVjdFxuY29uc3Qgc2VsZWN0SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdCcpO1xuXG5zZWxlY3RIZWFkZXIuYXBwZW5kKFxuICBzZWxlY3QoXG4gICAge1xuICAgICAgbmFtZTogJ9Cc0L7RgdC60LLQsCcsXG4gICAgICBjbGFzc0NvbnRhaW5lcjogJ2hlYWRlcl9fc2VsZWN0LWJveCcsXG4gICAgICBjbGFzc1NlbGVjdDoge1xuICAgICAgICBtYWluOiAnaGVhZGVyX19zZWxlY3QnLFxuICAgICAgICBhY3RpdmU6IGNsYXNzQW5pbWF0aW9uSWNvbixcbiAgICAgIH0sXG4gICAgICBjbGFzc0Ryb3Bkb3duOiB7XG4gICAgICAgIG1haW46ICdoZWFkZXJfX3NlbGVjdC1kcm9wZG93bicsXG4gICAgICAgIG9wZW46IGNsYXNzQW5pbWF0aW9uVmlzaWJsZSxcbiAgICAgICAgY2xvc2U6IGNsYXNzQW5pbWF0aW9uSGlkZGVuLFxuICAgICAgfSxcbiAgICB9LFxuICAgIFtcbiAgICAgIHsgbmFtZTogJ9Ca0LDQt9Cw0L3RjCcsIGNsYXNzOiAnaGVhZGVyX19zZWxlY3QtZHJvcGRvd24tYnRuJyB9LFxuICAgICAgeyBuYW1lOiAn0KPRhNCwJywgY2xhc3M6ICdoZWFkZXJfX3NlbGVjdC1kcm9wZG93bi1idG4nIH0sXG4gICAgICB7IG5hbWU6ICfQn9C10YDQvNGMJywgY2xhc3M6ICdoZWFkZXJfX3NlbGVjdC1kcm9wZG93bi1idG4nIH0sXG4gICAgXVxuICApXG4pO1xuXG4vLyBoZWFkZXIgLy8gc2VhcmNoXG5jb25zdCBzZWFyY2hIZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoJyk7XG5jb25zdCBpY29uU2VhcmNoSGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC1pY29uJyk7XG5cbnNlYXJjaEhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jbGFzc0xpc3QuYWRkKCdpbnB1dC1hY3RpdmUnKTtcbiAgaWNvblNlYXJjaEhlYWRlci5zdHlsZS5maWxsID0gJyNBNjVDRjAnO1xuICBpZiAodGhpcy52YWx1ZSAhPT0gJycpIHtcbiAgfSBlbHNlIHtcbiAgICBpY29uU2VhcmNoSGVhZGVyLnN0eWxlLmZpbGwgPSAnIzk5OTk5OSc7XG4gICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC1hY3RpdmUnKTtcbiAgfVxufSk7XG5cbi8vIGhlYWRlciAvLyBkcm9wZG93blxuY29uc3QgZHJvcGRvd25CdG5IZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcGRvd24tYnRuJyk7XG5jb25zdCBkcm9wZG93bkhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wZG93bicpO1xuXG5kcm9wZG93bkJ0bkhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgaWYgKGRyb3Bkb3duSGVhZGVyLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbikpIHtcbiAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NBbmltYXRpb25JY29uKTtcbiAgICBlbGVtSGlkZGVuKFxuICAgICAgZHJvcGRvd25IZWFkZXIsXG4gICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25DbG9zZVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5jbGFzc0xpc3QuYWRkKGNsYXNzQW5pbWF0aW9uSWNvbik7XG4gICAgZWxlbVZpc2libGUoZHJvcGRvd25IZWFkZXIsIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuLCAnZmxleCcpO1xuICB9XG59KTtcbmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZWwpID0+IHtcbiAgaWYgKFxuICAgICFkcm9wZG93bkJ0bkhlYWRlci5jb250YWlucyhlbC50YXJnZXQpICYmXG4gICAgIWRyb3Bkb3duSGVhZGVyLmNvbnRhaW5zKGVsLnRhcmdldClcbiAgKSB7XG4gICAgZHJvcGRvd25CdG5IZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShjbGFzc0FuaW1hdGlvbkljb24pO1xuICAgIGVsZW1IaWRkZW4oXG4gICAgICBkcm9wZG93bkhlYWRlcixcbiAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuLFxuICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bkNsb3NlXG4gICAgKTtcbiAgfVxufSk7XG5cbi8vIGhlYWRlciAvLyBtZW51XG5jb25zdCBtZW51SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUnKTtcbmNvbnN0IG5hdkhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXYnKTtcbmNvbnN0IGJ0bk9wZW5NZW51SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtb3BlbicpO1xuY29uc3QgYnRuQ2xvc2VNZW51SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtY2xvc2UnKTtcblxuYnRuT3Blbk1lbnVIZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGVsZW1WaXNpYmxlKG1lbnVIZWFkZXIsIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuLCAnYmxvY2snKTtcbiAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPD0gNjY0KVxuICAgIGVsZW1WaXNpYmxlKG5hdkhlYWRlciwgY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4sICdibG9jaycpO1xufSk7XG5idG5DbG9zZU1lbnVIZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGVsZW1IaWRkZW4oXG4gICAgbWVudUhlYWRlcixcbiAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2VcbiAgKTtcbiAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPD0gNjY0KVxuICAgIGVsZW1IaWRkZW4oXG4gICAgICBuYXZIZWFkZXIsXG4gICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25DbG9zZVxuICAgICk7XG59KTtcbmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZWwpID0+IHtcbiAgaWYgKFxuICAgICFidG5PcGVuTWVudUhlYWRlci5jb250YWlucyhlbC50YXJnZXQpICYmXG4gICAgIW1lbnVIZWFkZXIuY29udGFpbnMoZWwudGFyZ2V0KSAmJlxuICAgICFuYXZIZWFkZXIuY29udGFpbnMoZWwudGFyZ2V0KVxuICApIHtcbiAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8PSA5OTIpXG4gICAgICBlbGVtSGlkZGVuKFxuICAgICAgICBtZW51SGVhZGVyLFxuICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bkNsb3NlXG4gICAgICApO1xuICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDw9IDY2NClcbiAgICAgIGVsZW1IaWRkZW4oXG4gICAgICAgIG5hdkhlYWRlcixcbiAgICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4sXG4gICAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25DbG9zZVxuICAgICAgKTtcbiAgfVxufSk7XG5cbi8vIHNlY3Rpb24tYmFubmVyXG5jb25zdCBwb3B1cEJhbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYW5uZXItcG9wdXAnKTtcbmlmIChwb3B1cEJhbm5lcikge1xuICBjb25zdCBidG5zQmFubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24tYmFubmVyX19zbGlkZS1idG4nKTtcbiAgY29uc3QgYnRuQmFubmVyU00gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWJhbm5lcicpO1xuXG4gIGZ1bmN0aW9uIGV2ZW50QnRuUG9wdXBCYW5uZXIoYnRuKSB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZWxlbVZpc2libGUocG9wdXBCYW5uZXIsIGNsYXNzQW5pbWF0aW9uVmlzaWJsZSwgJ2Jsb2NrJyk7XG4gICAgICBidG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGVsZW1IaWRkZW4ocG9wdXBCYW5uZXIsIGNsYXNzQW5pbWF0aW9uVmlzaWJsZSwgY2xhc3NBbmltYXRpb25IaWRkZW4pO1xuICAgICAgfSwgMjYwMCk7XG4gICAgfSk7XG4gIH1cblxuICBidG5zQmFubmVyLmZvckVhY2goKGJ0bikgPT4ge1xuICAgIGV2ZW50QnRuUG9wdXBCYW5uZXIoYnRuKTtcbiAgICBmdW5jdGlvbiBidG5CYW5uZXJUZXh0Q29udGVudCgpIHtcbiAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgMTMyMSkge1xuICAgICAgICBidG4udGV4dENvbnRlbnQgPSAn0J/QvtC70YPRh9C40YLRjCEnO1xuICAgICAgfVxuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGJ0bkJhbm5lclRleHRDb250ZW50KCkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBidG5CYW5uZXJUZXh0Q29udGVudCgpKTtcbiAgfSk7XG4gIGV2ZW50QnRuUG9wdXBCYW5uZXIoYnRuQmFubmVyU00pO1xufVxuXG4vLyBzZWN0aW9uLXJhdGluZ1xuY29uc3QgYnRuUmF0aW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmUtZ29vZHMnKTtcbmlmIChidG5SYXRpbmcpIHtcbiAgY29uc3QgaXRlbVJhdGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLXJhdGluZ19faXRlbS1jb250ZW50Jyk7XG5cbiAgYnRuUmF0aW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGl0ZW1SYXRpbmcuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGl0ZW0pLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgICBlbGVtVmlzaWJsZShpdGVtLCBjbGFzc0FuaW1hdGlvbk1vZGFsT3BlbiwgJ2Jsb2NrJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9KTtcbn1cblxuLy8gc2VjdGlvbi1jYXRhbG9nXG5jb25zdCBzZWN0aW9uQ2F0YWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWNhdGFsb2cnKTtcbmlmIChzZWN0aW9uQ2F0YWxvZykge1xuICAvLyBzZWN0aW9uLWNhdGFsb2cgLy8gY2hlY2tib3gtYnRuXG4gIGNyZWF0ZUJ0bkFuZEhpZGluZ0l0ZW0oXG4gICAgOSxcbiAgICAnc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWNoZWNrYm94LWxpc3QnLFxuICAgICdzZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItY2hlY2tib3gtaXRlbScsXG4gICAgJ3NlY3Rpb24tY2F0YWxvZ19fc2lkZWJhci1jaGVja2JveC1idG4nLFxuICAgICdzZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItY2hlY2tib3gtaXRlbS1hY3RpdmUnXG4gICk7XG5cbiAgLy8gc2VjdGlvbi1jYXRhbG9nIC8vIENhdGVnb3J5IGFuZCBDb2xvclxuICBjb25zdCBuYW1lcGxhdGVGcm9tUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19oZWFkZXItbmFtZXBsYXRlLXByaWNlLTEnXG4gICk7XG4gIGNvbnN0IGxhYmVsQ2F0ZWdvcnkgPSAnLnNlY3Rpb24tY2F0YWxvZ19fc2lkZWJhci1sYWJlbC1jYXRlZ29yeSc7XG4gIGNvbnN0IG5hbWVwbGF0ZURpc2NvdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAnLnNlY3Rpb24tY2F0YWxvZ19faGVhZGVyLW5hbWVwbGF0ZS1kaXNjb3VudCdcbiAgKTtcbiAgY29uc3QgbGFiZWxDb2xvciA9ICcuc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWxhYmVsLWNvbG9yJztcblxuICBldmVudENoZWNrYm94TmFtZXBsYXRlKGxhYmVsQ2F0ZWdvcnksIG5hbWVwbGF0ZUZyb21QcmljZSwgJ2JlZm9yZWJlZ2luJyk7XG4gIGV2ZW50Q2hlY2tib3hOYW1lcGxhdGUobGFiZWxDb2xvciwgbmFtZXBsYXRlRGlzY291bnQsICdhZnRlcmVuZCcpO1xuXG4gIC8vIHNlY3Rpb24tY2F0YWxvZyAvLyBwcmljZVxuICBjb25zdCByYW5nZVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW5nZS1zbGlkZXInKTtcbiAgY29uc3QgaW5wdXRGcm9tUHJpY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lkZWJhci1pbnB1dC1mcm9tJyk7XG4gIGNvbnN0IGlucHV0QmVmb3JlUHJpY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lkZWJhci1pbnB1dC1iZWZvcmUnKTtcbiAgY29uc3QgdmFsdWVpbnB1dEZyb21QcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICd2YWx1ZS1zaWRlYmFyLWlucHV0LWZyb20nXG4gICk7XG4gIGNvbnN0IHZhbHVlaW5wdXRCZWZvcmVQcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICd2YWx1ZS1zaWRlYmFyLWlucHV0LWJlZm9yZSdcbiAgKTtcbiAgY29uc3QgbmFtZXBsYXRlQmVmb3JlUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19oZWFkZXItbmFtZXBsYXRlLXByaWNlLTInXG4gICk7XG4gIGNvbnN0IGJ0bkNsb3NlRnJvbVByaWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1jbG9zZS1wcmljZS1mcm9tJyk7XG4gIGNvbnN0IGJ0bkNsb3NlUHJpY2VCZWZvcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWNsb3NlLXByaWNlLWJlZm9yZScpO1xuICBjb25zdCBpbnB1dHMgPSBbaW5wdXRGcm9tUHJpY2UsIGlucHV0QmVmb3JlUHJpY2VdO1xuXG4gIGZ1bmN0aW9uIHRocm93VmFsdWVQcmljZShidG4sIGlucHV0LCBuYW1lcGxhdGUpIHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9ICcwJztcbiAgICAgIG5hbWVwbGF0ZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlOYW1lcGxhdGVQcmljZShidG4sIG5hbWVwbGF0ZSkge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgICBuYW1lcGxhdGUuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB9KTtcbiAgfVxuXG4gIG5vVWlTbGlkZXIuY3JlYXRlKHJhbmdlU2xpZGVyLCB7XG4gICAgc3RhcnQ6IFsyMDAwLCAxNTAwMDBdLFxuICAgIGNvbm5lY3Q6IHRydWUsXG4gICAgc3RlcDogNTAwLFxuICAgIHJhbmdlOiB7XG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDIzMDAwMCxcbiAgICB9LFxuICAgIGhhbmRsZUF0dHJpYnV0ZXM6IFt7ICdhcmlhLWxhYmVsJzogJ9CS0LvQtdCy0L4nIH0sIHsgJ2FyaWEtbGFiZWwnOiAn0JLQv9GA0LDQstC+JyB9XSxcbiAgfSk7XG5cbiAgcmFuZ2VTbGlkZXIubm9VaVNsaWRlci5vbigndXBkYXRlJywgZnVuY3Rpb24gKHZhbHVlcywgaGFuZGxlKSB7XG4gICAgaW5wdXRzW2hhbmRsZV0udmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlc1toYW5kbGVdKTtcbiAgfSk7XG4gIGNvbnN0IHNldFNsaWRlciA9IChpLCB2YWx1ZSkgPT4ge1xuICAgIGxldCBhcnIgPSBbbnVsbCwgbnVsbF07XG4gICAgYXJyW2ldID0gdmFsdWU7XG4gICAgcmFuZ2VTbGlkZXIubm9VaVNsaWRlci5zZXQoYXJyKTtcbiAgfTtcbiAgaW5wdXRzLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBzZXRTbGlkZXIoaW5kZXgsIGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgfSk7XG4gIH0pO1xuICByYW5nZVNsaWRlci5ub1VpU2xpZGVyLm9uKCd1cGRhdGUnLCBmdW5jdGlvbiAodmFsdWVzLCBoYW5kbGUpIHtcbiAgICBpbnB1dHNbaGFuZGxlXS5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKHZhbHVlc1toYW5kbGVdKTtcbiAgICB2YWx1ZWlucHV0RnJvbVByaWNlLmlubmVySFRNTCA9IE1hdGgucm91bmQodmFsdWVzWzBdKTtcbiAgICB2YWx1ZWlucHV0QmVmb3JlUHJpY2UuaW5uZXJIVE1MID0gTWF0aC5yb3VuZCh2YWx1ZXNbMV0pO1xuICB9KTtcblxuICBjb25zdCBidG5SYW5nZVNsaWRlckZyb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcjcmFuZ2Utc2xpZGVyIC5ub1VpLWhhbmRsZSdcbiAgKTtcbiAgY29uc3QgYnRuUmFuZ2VTbGlkZXJCZWZvcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcjcmFuZ2Utc2xpZGVyIC5ub1VpLWhhbmRsZS11cHBlcidcbiAgKTtcbiAgY29uc3QgcmFuZ2VTbGlkZXJMaW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JhbmdlLXNsaWRlciAubm9VaS1jb25uZWN0Jyk7XG5cbiAgdGhyb3dWYWx1ZVByaWNlKGJ0bkNsb3NlRnJvbVByaWNlLCBpbnB1dEZyb21QcmljZSwgbmFtZXBsYXRlRnJvbVByaWNlKTtcbiAgdGhyb3dWYWx1ZVByaWNlKGJ0bkNsb3NlUHJpY2VCZWZvcmUsIGlucHV0QmVmb3JlUHJpY2UsIG5hbWVwbGF0ZUJlZm9yZVByaWNlKTtcbiAgZGlzcGxheU5hbWVwbGF0ZVByaWNlKGlucHV0RnJvbVByaWNlLCBuYW1lcGxhdGVGcm9tUHJpY2UpO1xuICBkaXNwbGF5TmFtZXBsYXRlUHJpY2UoaW5wdXRCZWZvcmVQcmljZSwgbmFtZXBsYXRlQmVmb3JlUHJpY2UpO1xuICBkaXNwbGF5TmFtZXBsYXRlUHJpY2UoYnRuUmFuZ2VTbGlkZXJGcm9tLCBuYW1lcGxhdGVGcm9tUHJpY2UpO1xuICBkaXNwbGF5TmFtZXBsYXRlUHJpY2UoYnRuUmFuZ2VTbGlkZXJCZWZvcmUsIG5hbWVwbGF0ZUJlZm9yZVByaWNlKTtcblxuICBidG5SYW5nZVNsaWRlckZyb20uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgIHJhbmdlU2xpZGVyTGluZS5zdHlsZS5iYWNrZ3JvdW5kID0gJyM3MDMzQUMnO1xuICB9KTtcbiAgYnRuUmFuZ2VTbGlkZXJCZWZvcmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgIHJhbmdlU2xpZGVyTGluZS5zdHlsZS5iYWNrZ3JvdW5kID0gJyM3MDMzQUMnO1xuICB9KTtcbiAgYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgcmFuZ2VTbGlkZXJMaW5lLnN0eWxlLmJhY2tncm91bmQgPSAnI0E2NUNGMCc7XG4gIH0pO1xuICBidG5SYW5nZVNsaWRlckZyb20uYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoKSA9PiB7XG4gICAgcmFuZ2VTbGlkZXJMaW5lLnN0eWxlLmJhY2tncm91bmQgPSAnIzcwMzNBQyc7XG4gIH0pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hlY2tib3gtMjQnKS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICgpID0+IHtcbiAgICByYW5nZVNsaWRlckxpbmUuc3R5bGUuYmFja2dyb3VuZCA9ICcjQTY1Q0YwJztcbiAgfSk7XG5cbiAgLy8gc2VjdGlvbi1jYXRhbG9nIC8vIGRpc2NvdW50XG4gIGNvbnN0IGNoZWNrYm94RGlzY291bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWNoZWNrYm94LWRpc2NvdW50J1xuICApO1xuICBjb25zdCBuYW1lcGxhdGVEZXNjRGlzY291bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19oZWFkZXItbmFtZXBsYXRlLWRpc2NvdW50LWRlc2MnXG4gICk7XG4gIGNvbnN0IGJ0bkNsb3NlbmFtZXBsYXRlRGlzY291bnQgPVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tY2xvc2UtZGlzY291bnQnKTtcblxuICBjaGVja2JveERpc2NvdW50LmZvckVhY2goKGNoZWNib3gpID0+IHtcbiAgICBjaGVjYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgbmFtZXBsYXRlRGlzY291bnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgIG5hbWVwbGF0ZURlc2NEaXNjb3VudC50ZXh0Q29udGVudCA9IHRoaXMudmFsdWU7XG4gICAgfSk7XG4gIH0pO1xuICBidG5DbG9zZW5hbWVwbGF0ZURpc2NvdW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNoZWNrYm94RGlzY291bnQuZm9yRWFjaCgoY2hlY2tib3gpID0+IHtcbiAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgICBuYW1lcGxhdGVEaXNjb3VudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9KTtcblxuICAvLyBzZWN0aW9uLWNhdGFsb2cgLy8gZHJvcGRvd25cbiAgY29uc3QgYnRuc0Ryb3Bkb3duQ2F0YWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgJy5zZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItZHJvcGRvd24tYnRuJ1xuICApO1xuICBjb25zdCDRgWF0ZWdvcnlEcm9wZG93bkNhdGFsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWNoZWNrYm94LWxpc3Qt0YFhdGVnb3J5J1xuICApO1xuICBjb25zdCBwcmljZURyb3Bkb3duQ2F0YWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgJy5zZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItaW5wdXQtY29udGFpbmVyJ1xuICApO1xuICBjb25zdCBkaXNjb3VudERyb3Bkb3duQ2F0YWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgJy5zZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItY2hlY2tib3gtbGlzdC1kaXNjb3VudCdcbiAgKTtcbiAgY29uc3QgY29sb3JEcm9wZG93bkNhdGFsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWNoZWNrYm94LWxpc3QtY29sb3InXG4gICk7XG4gIGNvbnN0IGFycmF5RHJvcGRvd25DYXRhbG9nID0gW1xuICAgINGBYXRlZ29yeURyb3Bkb3duQ2F0YWxvZyxcbiAgICBwcmljZURyb3Bkb3duQ2F0YWxvZyxcbiAgICBkaXNjb3VudERyb3Bkb3duQ2F0YWxvZyxcbiAgICBjb2xvckRyb3Bkb3duQ2F0YWxvZyxcbiAgXTtcblxuICBidG5zRHJvcGRvd25DYXRhbG9nLmZvckVhY2goKGJ0biwgaW5kZXhCdG4pID0+IHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoYXJyYXlEcm9wZG93bkNhdGFsb2dbaW5kZXhCdG5dLnN0eWxlLmRpc3BsYXkgPT09ICdmbGV4Jykge1xuICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnYnRuLWFjdGl2ZScpO1xuICAgICAgICBlbGVtSGlkZGVuKFxuICAgICAgICAgIGFycmF5RHJvcGRvd25DYXRhbG9nW2luZGV4QnRuXSxcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2VcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdidG4tYWN0aXZlJyk7XG4gICAgICAgIGVsZW1WaXNpYmxlKFxuICAgICAgICAgIGFycmF5RHJvcGRvd25DYXRhbG9nW2luZGV4QnRuXSxcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgICAnZmxleCdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGVsKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgICFidG4uY29udGFpbnMoZWwudGFyZ2V0KSAmJlxuICAgICAgICAhYXJyYXlEcm9wZG93bkNhdGFsb2dbaW5kZXhCdG5dLmNvbnRhaW5zKGVsLnRhcmdldClcbiAgICAgICkge1xuICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8PSAxMzIwKSB7XG4gICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2J0bi1hY3RpdmUnKTtcbiAgICAgICAgICBlbGVtSGlkZGVuKFxuICAgICAgICAgICAgYXJyYXlEcm9wZG93bkNhdGFsb2dbaW5kZXhCdG5dLFxuICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4sXG4gICAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIHNlY3Rpb24tY2F0YWxvZyAvLyB0YWJzXG4gIGNvbnN0IHRhYnNCdG5DYXRhbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAnLnNlY3Rpb24tY2F0YWxvZ19fdGFicy1idG4nXG4gICk7XG5cbiAgdGFic0J0bkNhdGFsb2cuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBwYXRoID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnBhdGg7XG4gICAgICBkb2N1bWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24tY2F0YWxvZ19fdGFicy1saXN0JylcbiAgICAgICAgLmZvckVhY2goKGxpc3QpID0+IHtcbiAgICAgICAgICBsaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ3NlY3Rpb24tY2F0YWxvZ19fdGFicy1saXN0LWFjdGl2ZScpO1xuICAgICAgICB9KTtcbiAgICAgIHRhYnNCdG5DYXRhbG9nLmZvckVhY2goKGFsbEJ0bikgPT5cbiAgICAgICAgYWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlY3Rpb24tY2F0YWxvZ19fdGFicy1idG4tYWN0aXZlJylcbiAgICAgICk7XG4gICAgICBkb2N1bWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFyZ2V0PVwiJHtwYXRofVwiXWApXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKCdzZWN0aW9uLWNhdGFsb2dfX3RhYnMtbGlzdC1hY3RpdmUnKTtcbiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdzZWN0aW9uLWNhdGFsb2dfX3RhYnMtYnRuLWFjdGl2ZScpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gc2VjdGlvbi1jYXJkIC8vIGZvcm0tbW9kYWwgJiAvLyBzZWN0aW9uLWRpc3BhdGNoIC8vIGZvcm1cbmNvbnN0IGJ0bnNDYXJkT3Blbk1vZGFsRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJkLWNvbnRlbnRfX2J0bicpO1xuXG5idG5zQ2FyZE9wZW5Nb2RhbEZvcm0uZm9yRWFjaCgoZWwpID0+IHtcbiAgaWYgKGVsKSB7XG4gICAgY29uc3QgYnRuU3BlY2lhbE9wZW5Nb2RhbEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgJy5zZWN0aW9uLXNwZWNpYWxfX2NhcmQtYnRuJ1xuICAgICk7XG4gICAgY29uc3QgYnRuQ2FyZE9wZW5Nb2RhbEZyb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJy5zZWN0aW9uLWNhcmRfX2J0bi1tYWluJ1xuICAgICk7XG4gICAgY29uc3QgYm94TW9kYWxGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC1tb2RhbC1mb3JtJyk7XG4gICAgY29uc3QgY29udGFpbmVyTW9kYWxGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lci1tb2RhbC1mb3JtJyk7XG4gICAgY29uc3QgYnRuQ2xvc2VNb2RhbEZyb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtbW9kYWwtZm9ybScpO1xuICAgIGxldCBhcnJheUJ0bk9wZW5Nb2RhbEZvcm0gPSBbXTtcblxuICAgIGJ0bnNDYXJkT3Blbk1vZGFsRm9ybS5mb3JFYWNoKChlbCkgPT4gYXJyYXlCdG5PcGVuTW9kYWxGb3JtLnB1c2goZWwpKTtcbiAgICBpZiAoYnRuU3BlY2lhbE9wZW5Nb2RhbEZvcm0pXG4gICAgICBidG5TcGVjaWFsT3Blbk1vZGFsRm9ybS5mb3JFYWNoKChlbCkgPT4gYXJyYXlCdG5PcGVuTW9kYWxGb3JtLnB1c2goZWwpKTtcbiAgICBpZiAoYnRuQ2FyZE9wZW5Nb2RhbEZyb20pIGFycmF5QnRuT3Blbk1vZGFsRm9ybS5wdXNoKGJ0bkNhcmRPcGVuTW9kYWxGcm9tKTtcblxuICAgIGFycmF5QnRuT3Blbk1vZGFsRm9ybS5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZWxlbVZpc2libGUoYm94TW9kYWxGb3JtLCBjbGFzc0FuaW1hdGlvbk1vZGFsT3BlbiwgJ2ZsZXgnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZWwpID0+IHtcbiAgICAvLyAgIGFycmF5QnRuT3Blbk1vZGFsRm9ybS5mb3JFYWNoKChidG4pID0+IHtcbiAgICAvLyAgICAgaWYgKFxuICAgIC8vICAgICAgICFidG4uY29udGFpbnMoZWwudGFyZ2V0KSAmJlxuICAgIC8vICAgICAgICFjb250YWluZXJNb2RhbEZvcm0uY29udGFpbnMoZWwudGFyZ2V0KVxuICAgIC8vICAgICApIHtcbiAgICAvLyAgICAgICBlbGVtSGlkZGVuKFxuICAgIC8vICAgICAgICAgYm94TW9kYWxGb3JtLFxuICAgIC8vICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sXG4gICAgLy8gICAgICAgICBjbGFzc0FuaW1hdGlvbk1vZGFsQ2xvc2VcbiAgICAvLyAgICAgICApO1xuICAgIC8vICAgICB9XG4gICAgLy8gICB9KTtcbiAgICAvLyB9KTtcbiAgICBidG5DbG9zZU1vZGFsRnJvbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+XG4gICAgICBlbGVtSGlkZGVuKFxuICAgICAgICBib3hNb2RhbEZvcm0sXG4gICAgICAgIGNsYXNzQW5pbWF0aW9uTW9kYWxPcGVuLFxuICAgICAgICBjbGFzc0FuaW1hdGlvbk1vZGFsQ2xvc2VcbiAgICAgIClcbiAgICApO1xuXG4gICAgLy8gc2VjdGlvbi1jYXJkIC8vIGZvcm0gYW5kIC8vIHNlY3Rpb24tZGlzcGF0Y2ggLy8gZm9ybVxuICAgIGNvbnN0IHBvcHVwUmVzcG9uc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wdXAtcmVzcG9uc2UnKTtcbiAgICBjb25zdCBjb250YWluZXJQb3B1cFJlc3BvbnNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAnY29udGFpbmVyLXBvcHVwLXJlc3BvbnNlJ1xuICAgICk7XG4gICAgY29uc3QgZGVzY1BvcHVwUmVzcG9uc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudC1yZXNwb25zZScpO1xuICAgIGNvbnN0IGNsb3NlQnRuUG9wdXBSZXNwb25zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgJ2Nsb3NlLXBvcHVwLXJlc3BvbnNlJ1xuICAgICk7XG4gICAgY29uc3QgZm9ybU1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tbW9kYWwnKTtcbiAgICBjb25zdCBmb3JtRGlzcGF0Y2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybS1kaXNwYXRjaCcpO1xuXG4gICAgZnVuY3Rpb24gcmVzcG9uc2VQb3B1cCh0ZXh0LCBpbnB1dHMpIHtcbiAgICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gKGlucHV0LnZhbHVlID0gJycpKTtcbiAgICAgIGVsZW1WaXNpYmxlKHBvcHVwUmVzcG9uc2UsIGNsYXNzQW5pbWF0aW9uTW9kYWxPcGVuLCAnZmxleCcpO1xuICAgICAgZGVzY1BvcHVwUmVzcG9uc2UudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgY2xvc2VCdG5Qb3B1cFJlc3BvbnNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBlbGVtSGlkZGVuKFxuICAgICAgICAgIHBvcHVwUmVzcG9uc2UsXG4gICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sXG4gICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbENsb3NlXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZWwpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFjb250YWluZXJQb3B1cFJlc3BvbnNlLmNvbnRhaW5zKGVsLnRhcmdldCkgJiZcbiAgICAgICAgICAhYm94TW9kYWxGb3JtLmNvbnRhaW5zKGVsLnRhcmdldCkgJiZcbiAgICAgICAgICAhZm9ybURpc3BhdGNoLmNvbnRhaW5zKGVsLnRhcmdldClcbiAgICAgICAgKSB7XG4gICAgICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgICAgIHBvcHVwUmVzcG9uc2UsXG4gICAgICAgICAgICBjbGFzc0FuaW1hdGlvbk1vZGFsT3BlbixcbiAgICAgICAgICAgIGNsYXNzQW5pbWF0aW9uTW9kYWxDbG9zZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBldmVudElucHV0RnJvbShpbnB1dHMpIHtcbiAgICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2lucHV0LWFjdGl2ZScpO1xuICAgICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSAnJykge1xuICAgICAgICAgIH0gZWxzZSB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LWFjdGl2ZScpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChmb3JtTW9kYWwpIHtcbiAgICAgIGNvbnN0IGlucHV0c01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsLWZvcm1fX2Zvcm0taW5wdXQnKTtcbiAgICAgIGNvbnN0IHRlbElucHV0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVsLW1vZGFsJyk7XG5cbiAgICAgIGV2ZW50SW5wdXRGcm9tKGlucHV0c01vZGFsKTtcblxuICAgICAgY29uc3QgdGVsTWFzayA9IG5ldyBJbnB1dG1hc2soJys3ICg5OTkpLTk5OS05OS05OScpO1xuICAgICAgdGVsTWFzay5tYXNrKHRlbElucHV0TW9kYWwpO1xuXG4gICAgICBuZXcgSnVzdFZhbGlkYXRlKCcjZm9ybS1tb2RhbCcsIHtcbiAgICAgICAgcnVsZXM6IHtcbiAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIG1pbkxlbmd0aDogMixcbiAgICAgICAgICAgIG1heExlbmd0aDogMjAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0ZWw6IHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgZnVuY3Rpb246IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBwaG9uZSA9IHRlbElucHV0TW9kYWwuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcihwaG9uZSkgJiYgcGhvbmUubGVuZ3RoID09PSAxMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgY29sb3JXcm9uZzogJyNGRjY5NzInLFxuXG4gICAgICAgIHN1Ym1pdEhhbmRsZXI6IGZ1bmN0aW9uIChmb3JtLCB2YWx1ZXMsIGFqYXgpIHtcbiAgICAgICAgICBhamF4KHtcbiAgICAgICAgICAgIHVybDogJy9waHAvZ2V0UG9zdFZhbHVlLnBocCcsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGE6IHZhbHVlcyxcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgICAgICAgICBib3hNb2RhbEZvcm0sXG4gICAgICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sXG4gICAgICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbENsb3NlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJlc3BvbnNlUG9wdXAoJ9Ch0L/QsNGB0LjQsdC+LCDQvNGLINCy0LDQvCDQv9C10YDQtdC30LLQvtC90LjQvCEnLCBpbnB1dHNNb2RhbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgICAgICAgICBib3hNb2RhbEZvcm0sXG4gICAgICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sXG4gICAgICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbENsb3NlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJlc3BvbnNlUG9wdXAoJ9Ce0YjQuNCx0LrQsCDQvtGC0L/RgNCw0LLQutC4IScsIGlucHV0c01vZGFsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybURpc3BhdGNoKSB7XG4gICAgICBjb25zdCBpbnB1dHNEaXNwYXRjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICcuc2VjdGlvbi1kaXNwYXRjaF9fZm9ybS1pbnB1dCdcbiAgICAgICk7XG4gICAgICBjb25zdCB0ZWxJbnB1dERpc3BhdGNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlbC1kaXNwYXRjaCcpO1xuXG4gICAgICBldmVudElucHV0RnJvbShpbnB1dHNEaXNwYXRjaCk7XG5cbiAgICAgIGNvbnN0IHRlbE1hc2sgPSBuZXcgSW5wdXRtYXNrKCcrNyAoOTk5KS05OTktOTktOTknKTtcbiAgICAgIHRlbE1hc2subWFzayh0ZWxJbnB1dERpc3BhdGNoKTtcblxuICAgICAgbmV3IEp1c3RWYWxpZGF0ZSgnI2Zvcm0tZGlzcGF0Y2gnLCB7XG4gICAgICAgIHJ1bGVzOiB7XG4gICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBtaW5MZW5ndGg6IDIsXG4gICAgICAgICAgICBtYXhMZW5ndGg6IDIwLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdGVsOiB7XG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uOiAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgcGhvbmUgPSB0ZWxJbnB1dERpc3BhdGNoLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCk7XG4gICAgICAgICAgICAgIHJldHVybiBOdW1iZXIocGhvbmUpICYmIHBob25lLmxlbmd0aCA9PT0gMTA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWFpbDoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBjb2xvcldyb25nOiAnI0ZGNjk3MicsXG5cbiAgICAgICAgc3VibWl0SGFuZGxlcjogZnVuY3Rpb24gKGZvcm0sIHZhbHVlcywgYWpheCkge1xuICAgICAgICAgIGFqYXgoe1xuICAgICAgICAgICAgdXJsOiAnL3BocC9nZXRQb3N0VmFsdWUucGhwJyxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YTogdmFsdWVzLFxuICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXNwb25zZVBvcHVwKCfQodC/0LDRgdC40LHQviwg0LzRiyDQstCw0Lwg0L/QtdGA0LXQt9Cy0L7QvdC40LwhJywgaW5wdXRzRGlzcGF0Y2gpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlUG9wdXAoJ9Ce0YjQuNCx0LrQsCDQvtGC0L/RgNCw0LLQutC4IScsIGlucHV0c0Rpc3BhdGNoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pO1xuXG4vLyBzZWN0aW9uLWNhcmRcbmNvbnN0IHNlY3Rpb25DYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tY2FyZCcpO1xuaWYgKHNlY3Rpb25DYXJkKSB7XG4gIGNvbnN0IGJ0bk1haW5JbWdDYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1tYWluLWltZy1tb2RhbCcpO1xuICBjb25zdCBhbGxJbWdNYWluQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgJy5zZWN0aW9uLWNhcmRfX2ltZy1ib3gtbWFpbidcbiAgKTtcbiAgY29uc3QgYnRuc1NsaWRlSW1nQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLWNhcmRfX2ltZy1idG4nKTtcbiAgY29uc3QgbW9kYWxDYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLWNhcmQnKTtcbiAgY29uc3QgY29udGFpbmVyTW9kYWxDYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lci1tb2RhbC1jYXJkJyk7XG4gIGNvbnN0IGJ0bkNsb3NlTW9kYWxDYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlLW1vZGFsLWNhcmQnKTtcbiAgY29uc3QgYnRuc1NsaWRlSW1nTW9kYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAnLm1vZGFsLWNhcmRfX3RhYnMtYnRuJ1xuICApO1xuICBjb25zdCBhbGxJbWdNYWluTW9kYWxDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsLWNhcmRfX2ltZy1ib3gnKTtcblxuICBmdW5jdGlvbiBldmVudE1vZGFsQ2FyZChidG5zLCBpbWFnZXMpIHtcbiAgICBidG5zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRoaXNCdG4gPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBjb25zdCBwYXRoID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnBhdGg7XG5cbiAgICAgICAgYnRucy5mb3JFYWNoKChhbGxCdG4pID0+IHtcbiAgICAgICAgICBhbGxCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICBhbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYnRuLXNsaWRlLWRpc2FibGVkJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpbWFnZXMuZm9yRWFjaCgoaW1nKSA9PiB7XG4gICAgICAgICAgaW1nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgaW1nLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NBbmltYXRpb25WaXNpYmxlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpc0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXNCdG4uY2xhc3NMaXN0LmFkZCgnYnRuLXNsaWRlLWRpc2FibGVkJyk7XG4gICAgICAgIGVsZW1WaXNpYmxlKFxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhcmdldD1cIiR7cGF0aH1cIl1gKSxcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvblZpc2libGUsXG4gICAgICAgICAgJ2Jsb2NrJ1xuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZXZlbnRNb2RhbENhcmQoYnRuc1NsaWRlSW1nQ2FyZCwgYWxsSW1nTWFpbkNhcmQpO1xuICBldmVudE1vZGFsQ2FyZChidG5zU2xpZGVJbWdNb2RhbENhcmQsIGFsbEltZ01haW5Nb2RhbENhcmQpO1xuXG4gIGJ0bk1haW5JbWdDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGVsZW1WaXNpYmxlKG1vZGFsQ2FyZCwgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sICdmbGV4Jyk7XG5cbiAgICBidG5zU2xpZGVJbWdNb2RhbENhcmQuZm9yRWFjaCgoYWxsQnRuKSA9PiB7XG4gICAgICBhbGxCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGFsbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdidG4tc2xpZGUtZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgICBhbGxJbWdNYWluTW9kYWxDYXJkLmZvckVhY2goKGltZykgPT4ge1xuICAgICAgaW1nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICBpbWcuY2xhc3NMaXN0LnJlbW92ZShjbGFzc0FuaW1hdGlvblZpc2libGUpO1xuICAgIH0pO1xuICAgIGFsbEltZ01haW5DYXJkLmZvckVhY2goKGltZykgPT4ge1xuICAgICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGltZykuZGlzcGxheSA9PT0gJ2Jsb2NrJykge1xuICAgICAgICBjb25zdCBpbWdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYFtkYXRhLXRhcmdldD1cImltZy1tb2RhbC0ke2ltZy5kYXRhc2V0LnRhcmdldC5yZXBsYWNlKC9cXEQrL2csICcnKX1cIl1gXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGJ0bk1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICBgW2RhdGEtcGF0aD1cImltZy1tb2RhbC0ke2ltZy5kYXRhc2V0LnRhcmdldC5yZXBsYWNlKC9cXEQrL2csICcnKX1cIl1gXG4gICAgICAgICk7XG5cbiAgICAgICAgYnRuTW9kYWwuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBidG5Nb2RhbC5jbGFzc0xpc3QuYWRkKCdidG4tc2xpZGUtZGlzYWJsZWQnKTtcbiAgICAgICAgZWxlbVZpc2libGUoaW1nTW9kYWwsIGNsYXNzQW5pbWF0aW9uVmlzaWJsZSwgJ2Jsb2NrJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICBidG5DbG9zZU1vZGFsQ2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBlbGVtSGlkZGVuKG1vZGFsQ2FyZCwgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sIGNsYXNzQW5pbWF0aW9uTW9kYWxDbG9zZSk7XG4gIH0pO1xuICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGVsKSA9PiB7XG4gICAgaWYgKFxuICAgICAgIWJ0bk1haW5JbWdDYXJkLmNvbnRhaW5zKGVsLnRhcmdldCkgJiZcbiAgICAgICFjb250YWluZXJNb2RhbENhcmQuY29udGFpbnMoZWwudGFyZ2V0KVxuICAgICkge1xuICAgICAgZWxlbUhpZGRlbihtb2RhbENhcmQsIGNsYXNzQW5pbWF0aW9uTW9kYWxPcGVuLCBjbGFzc0FuaW1hdGlvbk1vZGFsQ2xvc2UpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIGNvbnRhY3RzXG5jb25zdCBtYXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyk7XG5pZiAobWFwKSB7XG4gIGNvbnN0IHNlYXJjaENvbnRhY3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC1jb250YWN0cycpO1xuICBjb25zdCBkcm9wZG93bkNvbnRhY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAnLnNlY3Rpb24tY29udGFjdHNfX2Zvcm0tZHJvcGRvd24nXG4gICk7XG4gIGNvbnN0IGZvcm1Db250YWN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtLWNvbnRhY3RzJyk7XG4gIGNvbnN0IHBvcHVwQ29udGFjdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wdXAtY29udGFjdHMnKTtcbiAgbGV0IG15UGxhY2VtYXJrMTtcbiAgbGV0IG15UGxhY2VtYXJrMjtcblxuICBmdW5jdGlvbiBzZWFyY2hCYWxsb25NYXAodGl0bGUsIGFkZHJlc3MpIHtcbiAgICBkcm9wZG93bkNvbnRhY3RzLmluc2VydEFkamFjZW50SFRNTChcbiAgICAgICdiZWZvcmVlbmQnLFxuICAgICAgYDxkaXYgY2xhc3M9XCJzZWN0aW9uLWNvbnRhY3RzX19mb3JtLWRyb3Bkb3duLWJ0blwiIHJvbGU9XCJvcHRpb25cIj48aDIgY2xhc3M9XCJzZWN0aW9uLWNvbnRhY3RzX19mb3JtLWRyb3Bkb3duLXRpdGxlXCI+JHt0aXRsZX08L2gyPjxhZGRyZXNzIGNsYXNzPVwic2VjdGlvbi1jb250YWN0c19fZm9ybS1kcm9wZG93bi1hZGRyZXNzXCI+JHthZGRyZXNzfTwvYWRkcmVzcz48L2Rpdj5gXG4gICAgKTtcbiAgICBjb25zdCBkcm9wZG93bkJ0bnNDb250YWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAnLnNlY3Rpb24tY29udGFjdHNfX2Zvcm0tZHJvcGRvd24tYnRuJ1xuICAgICk7XG5cbiAgICBmdW5jdGlvbiBiYWxsb25PcGVuKHBsYWNlbWFyaywgcG9wdXApIHtcbiAgICAgIHBsYWNlbWFyay5iYWxsb29uLm9wZW4oKTtcbiAgICAgIHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJhbGxvbkNsb3NlKHBsYWNlbWFya3MsIHBvcHVwKSB7XG4gICAgICBwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfSwgMjUwMCk7XG4gICAgICBwbGFjZW1hcmtzLmZvckVhY2goKHBsYWNlbWFyaykgPT4gcGxhY2VtYXJrLmJhbGxvb24uY2xvc2UoKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJ0bkZvcm1DbGljaygpIHtcbiAgICAgIGZvcm1Db250YWN0cy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGRyb3Bkb3duQnRuc0NvbnRhY3RzLmZvckVhY2goKGJ0bikgPT4gKGJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKSk7XG4gICAgICAgIGVsZW1IaWRkZW4oXG4gICAgICAgICAgZHJvcGRvd25Db250YWN0cyxcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2VcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHNlYXJjaENvbnRhY3RzLnZhbHVlID09PSAn0JzQvtGB0LrQstCwLCBTaXREb3duUGxzINC90LAg0KHQvtC70Y/QvdC60LUnKVxuICAgICAgICAgIGJhbGxvbk9wZW4obXlQbGFjZW1hcmsxLCBwb3B1cENvbnRhY3RzKTtcbiAgICAgICAgZWxzZSBpZiAoc2VhcmNoQ29udGFjdHMudmFsdWUgPT09ICfQnNC+0YHQutCy0LAsIFNpdERvd25QbHMg0L3QsCDQn9C+0LrRgNC+0LLQutC1JylcbiAgICAgICAgICBiYWxsb25PcGVuKG15UGxhY2VtYXJrMiwgcG9wdXBDb250YWN0cyk7XG4gICAgICAgIGVsc2UgYmFsbG9uQ2xvc2UoW215UGxhY2VtYXJrMSwgbXlQbGFjZW1hcmsyXSwgcG9wdXBDb250YWN0cyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzZWFyY2hDb250YWN0cy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnaW5wdXQtYWN0aXZlJyk7XG4gICAgICBmb3IgKGxldCBzeW1ib2wgb2YgdGhpcy52YWx1ZSkge1xuICAgICAgICBzeW1ib2wudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKHN5bWJvbCkge1xuICAgICAgICAgIGRyb3Bkb3duQnRuc0NvbnRhY3RzLmZvckVhY2goKGJ0biwgYnRuSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGJ0bi5pZCA9IGBkcm9wZG93bi1idG4tY29udGFjdC0ke2J0bkluZGV4ICsgMX1gO1xuICAgICAgICAgICAgY29uc3QgZHJvcGRvd25CdG5Db250YWN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2J0bi5pZH1gKTtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaENvbnRlbnRDb250YWN0cyA9IGRyb3Bkb3duQnRuQ29udGFjdHMudGV4dENvbnRlbnRcbiAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHMsLi1dL2csICcnKVxuICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmIChzZWFyY2hDb250ZW50Q29udGFjdHMuaW5kZXhPZihzeW1ib2wpID4gLTEpIHtcbiAgICAgICAgICAgICAgYnRuLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgICAgICAgIGVsZW1WaXNpYmxlKFxuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ29udGFjdHMsXG4gICAgICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4sXG4gICAgICAgICAgICAgICAgJ2Jsb2NrJ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBjb250ZW50VGl0bGVDb250YWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgYCMke2J0bi5pZH0gaDJgXG4gICAgICAgICAgICAgICkudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgIHNlYXJjaENvbnRhY3RzLnZhbHVlID0gY29udGVudFRpdGxlQ29udGFjdHM7XG4gICAgICAgICAgICAgIGVsZW1IaWRkZW4oXG4gICAgICAgICAgICAgICAgZHJvcGRvd25Db250YWN0cyxcbiAgICAgICAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2VcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZhbHVlICE9PSAnJykge1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC1hY3RpdmUnKTtcbiAgICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgICBkcm9wZG93bkNvbnRhY3RzLFxuICAgICAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuLFxuICAgICAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25DbG9zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGJ0bkZvcm1DbGljaygpO1xuICB9XG5cbiAgc2VhcmNoQmFsbG9uTWFwKFxuICAgICfQnNC+0YHQutCy0LAsIFNpdERvd25QbHMg0L3QsCDQodC+0LvRj9C90LrQtScsXG4gICAgJ9C8LiDQmtC40YLQsNC5LdCz0L7RgNC+0LQsINGD0LsuINCh0L7Qu9GP0L3QutCwLCDQtC4yNCdcbiAgKTtcbiAgc2VhcmNoQmFsbG9uTWFwKFxuICAgICfQnNC+0YHQutCy0LAsIFNpdERvd25QbHMg0L3QsCDQn9C+0LrRgNC+0LLQutC1JyxcbiAgICAn0LwuINCa0YPRgNGB0LrQsNGPLCDRg9C7LiDQn9C+0LrRgNC+0LLQutCwLCDQtC4xNCdcbiAgKTtcblxuICB5bWFwcy5yZWFkeShpbml0KTtcblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIGxldCBteU1hcCA9IG5ldyB5bWFwcy5NYXAoJ21hcCcsIHtcbiAgICAgIGNlbnRlcjogWzU1Ljc1NzM1MzU4NTQzMjY1NCwgMzcuNjM1MDAxMjk4OTUwMTg2XSxcbiAgICAgIHpvb206IDE0LFxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gYmFsbG9uQ29udGVudCh0aXRsZSwgYWRkcmVzcykge1xuICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwicG9wdXAtY29udGFjdHNcIiByb2xlPVwidG9vbHRpcGVcIj48aDIgY2xhc3M9XCJwb3B1cC1jb250YWN0c19fdGl0bGVcIj4ke3RpdGxlfTwvaDI+PGFkZHJlc3MgY2xhc3M9XCJwb3B1cC1jb250YWN0c19fYWRkcmVzc1wiPiR7YWRkcmVzc308L2FkZHJlc3M+PGEgY2xhc3M9XCJwb3B1cC1jb250YWN0c19fdGVsIHRlbFwiIGhyZWY9XCJ0ZWw6Kzc0OTU4ODU0NTQ3XCIgYXJpYS1sYWJlbD1cItCa0L7QvdGC0LDQutGC0L3Ri9C5INC90L7QvNC10YAg0YLQtdC70LXRhNC+0L3QsFwiPjxzdmcgd2lkdGg9XCIyMlwiIGhlaWdodD1cIjIyXCIgdmlld0JveD1cIjAgMCAyMiAyMlwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTguMzQyNSAxNC4wOTgzQzE3LjIxNSAxNC4wOTgzIDE2LjEyNDIgMTMuOTE1IDE1LjEwNjcgMTMuNTg1QzE0Ljc4NTggMTMuNDc1IDE0LjQyODMgMTMuNTU3NSAxNC4xODA4IDEzLjgwNUwxMi43NDE3IDE1LjYxMDhDMTAuMTQ3NSAxNC4zNzMzIDcuNzE4MzMgMTIuMDM1OCA2LjQyNTgzIDkuMzVMOC4yMTMzMyA3LjgyODMzQzguNDYwODMgNy41NzE2NyA4LjUzNDE3IDcuMjE0MTcgOC40MzMzMyA2Ljg5MzMzQzguMDk0MTcgNS44NzU4MyA3LjkyIDQuNzg1IDcuOTIgMy42NTc1QzcuOTIgMy4xNjI1IDcuNTA3NSAyLjc1IDcuMDEyNSAyLjc1SDMuODQwODNDMy4zNDU4MyAyLjc1IDIuNzUgMi45NyAyLjc1IDMuNjU3NUMyLjc1IDEyLjE3MzMgOS44MzU4MyAxOS4yNSAxOC4zNDI1IDE5LjI1QzE4Ljk5MzMgMTkuMjUgMTkuMjUgMTguNjcyNSAxOS4yNSAxOC4xNjgzVjE1LjAwNThDMTkuMjUgMTQuNTEwOCAxOC44Mzc1IDE0LjA5ODMgMTguMzQyNSAxNC4wOTgzWlwiIGZpbGw9XCIjRkY4NjJGXCIgLz48L3N2Zz4rNyAoNDk1KSA4ODUtNDUtNDc8L2E+PGRpdiBjbGFzcz1cInBvcHVwLWNvbnRhY3RzX19kZXNjLXRpbWVcIj48c3BhbiBjbGFzcz1cInBvcHVwLWNvbnRhY3RzX19kZXNjLWFsZXJ0XCI+0KfQsNGB0Ysg0YDQsNCx0L7RgtGLOjwvc3Bhbj4g0YEgMTA6MDAg0LTQviAyMTowMDwvZGl2PjxkaXYgY2xhc3M9XCJwb3B1cC1jb250YWN0c19fZGVzY1wiPjxzcGFuIGNsYXNzPVwicG9wdXAtY29udGFjdHNfX2Rlc2MtYWxlcnRcIj7Qp9GC0L4g0LfQtNC10YHRjDo8L3NwYW4+INGI0L7Rg9GA0YPQvCwg0L/Rg9C90LrRgiDQvtGC0LPRgNGD0LfQutC4LCDQv9GD0L3QutGCINCy0YvQtNCw0YfQuCwg0L/Rg9C90LrRgiDQvtCx0LzQtdC90LAt0LLQvtC30LLRgNCw0YLQsCwg0YHQtdGA0LLQuNGB0L3Ri9C5INGG0LXQvdGC0YA8L2Rpdj48L2Rpdj5gO1xuICAgIH1cblxuICAgIGxldCBwbGFjZW1hcmtJY29uQmFsbG9uID0ge1xuICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgaWNvbkltYWdlSHJlZjogJ2ltZy9mYXZpY29uL3BsYWNlbWFyay5zdmcnLFxuICAgICAgaWNvbkltYWdlU2l6ZTogWzMyLCAyMV0sXG4gICAgICBoaWRlSWNvbk9uQmFsbG9vbk9wZW46IGZhbHNlLFxuICAgICAgYmFsbG9vbk9mZnNldDogWy0xMTAsIC00Ml0sXG4gICAgICBiYWxsb29uUGFuZWxNYXhNYXBBcmVhOiAwLFxuICAgIH07XG5cbiAgICBpZiAoc2NyZWVuLndpZHRoIDwgNjY0KSB7XG4gICAgICBwbGFjZW1hcmtJY29uQmFsbG9uLmJhbGxvb25PZmZzZXQgPSBbLTU1LCAtNDJdO1xuICAgIH1cblxuICAgIG15UGxhY2VtYXJrMSA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoXG4gICAgICBbNTUuNzUwNjE1NTY4OTkzMjc1LCAzNy42NDE4MDg5OTk5OTk5NV0sXG4gICAgICB7XG4gICAgICAgIGJhbGxvb25Db250ZW50OiBiYWxsb25Db250ZW50KFxuICAgICAgICAgICdTaXREb3duUGxzINC90LAg0KHQvtC70Y/QvdC60LUnLFxuICAgICAgICAgICfQvC4g0JrQuNGC0LDQuS3Qs9C+0YDQvtC0LCDRg9C7LiDQodC+0LvRj9C90LrQsCwg0LQuMjQnXG4gICAgICAgICksXG4gICAgICB9LFxuICAgICAgcGxhY2VtYXJrSWNvbkJhbGxvblxuICAgICk7XG4gICAgbXlQbGFjZW1hcmsyID0gbmV3IHltYXBzLlBsYWNlbWFyayhcbiAgICAgIFs1NS43NjIyNjA3MDEyNTQ0NCwgMzcuNjUzNTg4NDM1ODcyMDZdLFxuICAgICAge1xuICAgICAgICBiYWxsb29uQ29udGVudDogYmFsbG9uQ29udGVudChcbiAgICAgICAgICAnU2l0RG93blBscyDQvdCwINCf0L7QutGA0L7QstC60LUnLFxuICAgICAgICAgICfQvC4g0JrRg9GA0YHQutCw0Y8sINGD0LsuINCf0L7QutGA0L7QstC60LAsINC0LjE0J1xuICAgICAgICApLFxuICAgICAgfSxcbiAgICAgIHBsYWNlbWFya0ljb25CYWxsb25cbiAgICApO1xuXG4gICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmsxKTtcbiAgICBteU1hcC5nZW9PYmplY3RzLmFkZChteVBsYWNlbWFyazIpO1xuICB9XG59XG4iXX0=
