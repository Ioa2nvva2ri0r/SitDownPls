"use strict";function _createForOfIteratorHelper(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,r=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){r=!0,c=e},f:function(){try{i||null==t.return||t.return()}finally{if(r)throw c}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function eventCheckboxNameplate(e,n,t){function a(e,n,t,a,o){var c;c="сategory"===a?"Выбранная категория":"Выбранный цвет",e.insertAdjacentHTML(n,'<div class="section-catalog__header-nameplate section-catalog__header-nameplate-'.concat(a,'" id="nameplate-').concat(t,'"><span class="section-catalog__header-nameplate-').concat(a,'-desc" role="note" aria-label="').concat(c,'">').concat(o,'</span><button class="section-catalog__header-nameplate-btn" aria-label="Закрыть выбранный фильтр" id="close-nameplate-').concat(t,'"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.5999 8.40002L8.3999 15.6" stroke="#666666" stroke-linecap="round" stroke-linejoin="round"/><path d="M8.3999 8.40002L15.5999 15.6" stroke="#666666" stroke-linecap="round" stroke-linejoin="round"/></svg></button></div>')),document.getElementById("close-nameplate-".concat(t)).addEventListener("click",(function(){document.getElementById("nameplate-".concat(t)).remove(),document.getElementById("checkbox-".concat(t)).checked=!1}))}document.querySelectorAll(e).forEach((function(e){var o=parseInt(e.querySelector("input").id.replace(/[^\d]/g,"")),c=e.querySelector("input").name,i=e.querySelector("input").value;e.querySelector("input").checked&&a(n,t,o,c,i),e.querySelector("input").addEventListener("change",(function(e){1==e.currentTarget.checked?a(n,t,o,c,i):document.getElementById("nameplate-".concat(o)).remove()}))}))}function elemVisible(e,n,t){e.style.display=t,e.classList.add(n)}function elemHidden(e,n,t){e.classList.remove(n),e.classList.add(t),setTimeout((function(){e.style.display="none",e.classList.remove(t)}),400)}function popupClose(e,n){e.classList.add(n),setTimeout((function(){e.style.display="none",e.classList.remove(n)}),400)}function createBtnAndHidingItem(e,n,t,a,o){document.querySelectorAll(".".concat(n)).forEach((function(n){if(n.children.length>e){var t=n.children.length,c=t-e,i=Array.from(n.children).slice(t-c,t);i.forEach((function(e){e.classList.add("".concat(o))})),n.insertAdjacentHTML("beforeend",'<button class="'.concat(a,'">+ ещё ').concat(i.length,"</button>"))}})),document.querySelectorAll(".".concat(a)).forEach((function(a){a.addEventListener("click",(function(c){var i=c.currentTarget.closest(".".concat(n));if(a.classList.contains("".concat(o))){a.classList.remove("".concat(o)),a.textContent="Показать все";var r=i.children.length,l=r-e;Array.from(i.children).slice(r-l,r-1).forEach((function(e){e.classList.add("".concat(o))}))}else a.classList.add("".concat(o)),a.textContent="Свернуть",i.querySelectorAll(".".concat(t)).forEach((function(e){e.classList.remove("".concat(o))}))}))}))}function select(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=document.createElement("div"),o=document.createElement("button"),c=document.createElement("div");function i(e){e.insertAdjacentHTML("beforeend",'<svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.65674 5.80521L10.5593 0.902607L11.3136 1.65685L5.65674 7.31371L-0.000115871 1.65685L0.754131 0.902607L5.65674 5.80521Z" fill="#A65CF0"/></svg>')}function r(e,n,t){e.style.display=t,e.classList.add(n)}function l(e,n,t){e.classList.remove(n),e.classList.add(t),setTimeout((function(){e.style.display="none",e.classList.remove(t)}),400)}return a.classList.add(n.classContainer),o.classList.add(n.classSelect.main),c.classList.add(n.classDropdown.main),c.style.display="none",o.textContent=n.name,o.name="Фильтр",i(o),o.addEventListener("click",(function(){e=o.textContent,"none"===c.style.display?(o.classList.add(n.classSelect.active),r(c,n.classDropdown.open,"flex")):(o.classList.remove(n.classSelect.active),l(c,n.classDropdown.open,n.classDropdown.close))})),document.body.addEventListener("click",(function(e){"none"!==c.style.display&&(c.contains(e.target)||o.contains(e.target)||(o.classList.remove(n.classSelect.active),l(c,n.classDropdown.open,n.classDropdown.close)))})),t.forEach((function(t){var a=document.createElement("button");a.classList.add(t.class),a.textContent=t.name,a.value=t.name,a.addEventListener("click",(function(){o.textContent=a.textContent,i(o),a.textContent=e,o.classList.remove(n.classSelect.active),l(c,n.classDropdown.open,n.classDropdown.close)})),c.append(a)})),a.append(o,c),a}var classAnimationVisible="animation-visible",classAnimationHidden="animation-hidden",classAnimationIcon="animation-icon",classAnimationDropdownOpen="animation-dropdown-open",classAnimationDropdownClose="animation-dropdown-close",classAnimationModalOpen="animation-modal-open",classAnimationModalClose="animation-modal-close",body=document.body,preloader=document.getElementById("preloader"),header=document.querySelector(".header"),headerBreadcrumbs=document.querySelector(".header-breadcrumbs"),listLinksheaderBreadcrumbs=document.querySelector(".header-breadcrumbs__list"),main=document.querySelector("main"),locationSearchName=window.location.search.replace(/[^a-zа-яё]/gi,"");function contentLocation(e,n,t){document.title="SitDownPls - ".concat(n),header.classList.add("header-bottom"),headerBreadcrumbs.classList.add("header-breadcrumbs-active");var a=t[t.length-1];t.forEach((function(n){var t=document.createElement("li"),o=document.createElement("a");t.classList.add("header-breadcrumbs__item"),n!==a&&o.classList.add("header-breadcrumbs__item-link"),o.textContent=n,n===a&&o.classList.add("header-breadcrumbs__item-link-and"),o.href="#",o.textContent=n,"Главная"===n&&(o.href="".concat(location.origin+location.pathname)),"Каталог"===n&&(o.href="?catalog"),"Диваны"===n&&(o.href="?catalog"),"Прямые диваны"===n&&"card"===e&&(o.href="?catalog"),t.append(o),listLinksheaderBreadcrumbs.append(t)})),main.className="main-".concat(e),document.getElementById("main-index").style.display="none",document.getElementById("".concat(e)).style.display="block"}switch(window.addEventListener("load",(function(){preloader.remove()})),locationSearchName){case"catalog":contentLocation(locationSearchName,"Каталог",["Главная","Каталог","Диваны","Прямые диваны"]);break;case"card":contentLocation(locationSearchName,"Диван тканевый прямой “D-31”",["Главная","Каталог","Диваны","Прямые диваны","D-31"]);break;case"cooperation":contentLocation(locationSearchName,"Сотрудничество",["Главная","Сотрудничество"]);break;case"contacts":contentLocation(locationSearchName,"Контакты",["Главная","Контакты"])}var btnScroll=document.getElementById("btn-scroll");function eventBtnScroll(e){function n(e){window.pageYOffset>=200?e.style.display="flex":e.style.display="none"}e.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),window.addEventListener("load",(function(){return n(e)})),window.addEventListener("scroll",(function(){return n(e)}),{passive:!0})}eventBtnScroll(btnScroll);var selectHeader=document.getElementById("select");selectHeader.append(select({name:"Москва",classContainer:"header__select-box",classSelect:{main:"header__select",active:classAnimationIcon},classDropdown:{main:"header__select-dropdown",open:classAnimationVisible,close:classAnimationHidden}},[{name:"Казань",class:"header__select-dropdown-btn"},{name:"Уфа",class:"header__select-dropdown-btn"},{name:"Пермь",class:"header__select-dropdown-btn"}]));var searchHeader=document.getElementById("search"),iconSearchHeader=document.getElementById("search-icon");searchHeader.addEventListener("input",(function(){this.classList.add("input-active"),iconSearchHeader.style.fill="#A65CF0",""!==this.value||(iconSearchHeader.style.fill="#999999",this.classList.remove("input-active"))}));var dropdownBtnHeader=document.getElementById("dropdown-btn"),dropdownHeader=document.getElementById("dropdown");dropdownBtnHeader.addEventListener("click",(function(){dropdownHeader.classList.contains(classAnimationDropdownOpen)?(this.classList.remove(classAnimationIcon),elemHidden(dropdownHeader,classAnimationDropdownOpen,classAnimationDropdownClose)):(this.classList.add(classAnimationIcon),elemVisible(dropdownHeader,classAnimationDropdownOpen,"flex"))})),body.addEventListener("click",(function(e){dropdownBtnHeader.contains(e.target)||dropdownHeader.contains(e.target)||(dropdownBtnHeader.classList.remove(classAnimationIcon),elemHidden(dropdownHeader,classAnimationDropdownOpen,classAnimationDropdownClose))}));var menuHeader=document.getElementById("menu"),navHeader=document.getElementById("nav"),btnOpenMenuHeader=document.getElementById("menu-open"),btnCloseMenuHeader=document.getElementById("menu-close");btnOpenMenuHeader.addEventListener("click",(function(){elemVisible(menuHeader,classAnimationDropdownOpen,"block"),window.screen.width<=664&&elemVisible(navHeader,classAnimationDropdownOpen,"block")})),btnCloseMenuHeader.addEventListener("click",(function(){elemHidden(menuHeader,classAnimationDropdownOpen,classAnimationDropdownClose),window.screen.width<=664&&elemHidden(navHeader,classAnimationDropdownOpen,classAnimationDropdownClose)})),body.addEventListener("click",(function(e){btnOpenMenuHeader.contains(e.target)||menuHeader.contains(e.target)||navHeader.contains(e.target)||(window.screen.width<=992&&elemHidden(menuHeader,classAnimationDropdownOpen,classAnimationDropdownClose),window.screen.width<=664&&elemHidden(navHeader,classAnimationDropdownOpen,classAnimationDropdownClose))}));var popupBanner=document.getElementById("banner-popup");if(popupBanner){var eventBtnPopupBanner=function(e){e.addEventListener("click",(function(){elemVisible(popupBanner,classAnimationVisible,"block"),e.disabled=!0,setTimeout((function(){elemHidden(popupBanner,classAnimationVisible,classAnimationHidden)}),2600)}))},btnsBanner=document.querySelectorAll(".section-banner__slide-btn"),btnBannerSM=document.getElementById("btn-banner");btnsBanner.forEach((function(e){function n(){window.screen.width<1321&&(e.textContent="Получить!")}eventBtnPopupBanner(e),window.addEventListener("load",n()),window.addEventListener("resize",n())})),eventBtnPopupBanner(btnBannerSM)}var btnRating=document.getElementById("more-goods");if(btnRating){var itemRating=document.querySelectorAll(".section-rating__item-content");btnRating.addEventListener("click",(function(){itemRating.forEach((function(e){"none"===window.getComputedStyle(e).display&&elemVisible(e,classAnimationModalOpen,"block")})),this.style.display="none"}))}var sectionCatalog=document.querySelector(".section-catalog");if(sectionCatalog&&"?catalog"===location.search){var throwValuePrice=function(e,n,t){e.addEventListener("click",(function(){n.value="0",t.style.display="none"}))},displayNameplatePrice=function(e,n){e.addEventListener("mousedown",(function(){n.style.display="flex"}))};createBtnAndHidingItem(9,"section-catalog__sidebar-checkbox-list","section-catalog__sidebar-checkbox-item","section-catalog__sidebar-checkbox-btn","section-catalog__sidebar-checkbox-item-active");var nameplateFromPrice=document.querySelector(".section-catalog__header-nameplate-price-1"),labelCategory=".section-catalog__sidebar-label-category",nameplateDiscount=document.querySelector(".section-catalog__header-nameplate-discount"),labelColor=".section-catalog__sidebar-label-color";eventCheckboxNameplate(labelCategory,nameplateFromPrice,"beforebegin"),eventCheckboxNameplate(labelColor,nameplateDiscount,"afterend");var rangeSlider=document.getElementById("range-slider"),inputFromPrice=document.getElementById("sidebar-input-from"),inputBeforePrice=document.getElementById("sidebar-input-before"),valueinputFromPrice=document.getElementById("value-sidebar-input-from"),valueinputBeforePrice=document.getElementById("value-sidebar-input-before"),nameplateBeforePrice=document.querySelector(".section-catalog__header-nameplate-price-2"),btnCloseFromPrice=document.getElementById("btn-close-price-from"),btnClosePriceBefore=document.getElementById("btn-close-price-before"),inputs=[inputFromPrice,inputBeforePrice];noUiSlider.create(rangeSlider,{start:[2e3,15e4],connect:!0,step:500,range:{min:0,max:23e4},handleAttributes:[{"aria-label":"Влево"},{"aria-label":"Вправо"}]}),rangeSlider.noUiSlider.on("update",(function(e,n){inputs[n].value=Math.round(e[n])}));var setSlider=function(e,n){var t=[null,null];t[e]=n,rangeSlider.noUiSlider.set(t)};inputs.forEach((function(e,n){e.addEventListener("change",(function(e){setSlider(n,e.currentTarget.value)}))})),rangeSlider.noUiSlider.on("update",(function(e,n){inputs[n].innerHTML=Math.round(e[n]),valueinputFromPrice.innerHTML=Math.round(e[0]),valueinputBeforePrice.innerHTML=Math.round(e[1])}));var btnRangeSliderFrom=document.querySelector("#range-slider .noUi-handle"),btnRangeSliderBefore=document.querySelector("#range-slider .noUi-handle-upper"),rangeSliderLine=document.querySelector("#range-slider .noUi-connect");throwValuePrice(btnCloseFromPrice,inputFromPrice,nameplateFromPrice),throwValuePrice(btnClosePriceBefore,inputBeforePrice,nameplateBeforePrice),displayNameplatePrice(inputFromPrice,nameplateFromPrice),displayNameplatePrice(inputBeforePrice,nameplateBeforePrice),displayNameplatePrice(btnRangeSliderFrom,nameplateFromPrice),displayNameplatePrice(btnRangeSliderBefore,nameplateBeforePrice),btnRangeSliderFrom.addEventListener("mousedown",(function(){rangeSliderLine.style.background="#7033AC"})),btnRangeSliderBefore.addEventListener("mousedown",(function(){rangeSliderLine.style.background="#7033AC"})),body.addEventListener("mousedown",(function(){rangeSliderLine.style.background="#A65CF0"})),btnRangeSliderFrom.addEventListener("keyup",(function(){rangeSliderLine.style.background="#7033AC"})),document.querySelector("#checkbox-24").addEventListener("keyup",(function(){rangeSliderLine.style.background="#A65CF0"}));var checkboxDiscount=document.querySelectorAll(".section-catalog__sidebar-checkbox-discount"),nameplateDescDiscount=document.querySelector(".section-catalog__header-nameplate-discount-desc"),btnClosenameplateDiscount=document.getElementById("btn-close-discount");checkboxDiscount.forEach((function(e){e.addEventListener("click",(function(){nameplateDiscount.style.display="flex",nameplateDescDiscount.textContent=this.value}))})),btnClosenameplateDiscount.addEventListener("click",(function(){checkboxDiscount.forEach((function(e){e.checked=!1})),nameplateDiscount.style.display="none"}));var btnsDropdownCatalog=document.querySelectorAll(".section-catalog__sidebar-dropdown-btn"),сategoryDropdownCatalog=document.querySelector(".section-catalog__sidebar-checkbox-list-сategory"),priceDropdownCatalog=document.querySelector(".section-catalog__sidebar-input-container"),discountDropdownCatalog=document.querySelector(".section-catalog__sidebar-checkbox-list-discount"),colorDropdownCatalog=document.querySelector(".section-catalog__sidebar-checkbox-list-color"),arrayDropdownCatalog=[сategoryDropdownCatalog,priceDropdownCatalog,discountDropdownCatalog,colorDropdownCatalog];btnsDropdownCatalog.forEach((function(e,n){e.addEventListener("click",(function(){"flex"===arrayDropdownCatalog[n].style.display?(e.classList.remove("btn-active"),elemHidden(arrayDropdownCatalog[n],classAnimationDropdownOpen,classAnimationDropdownClose)):(e.classList.add("btn-active"),elemVisible(arrayDropdownCatalog[n],classAnimationDropdownOpen,"flex"))})),body.addEventListener("click",(function(t){e.contains(t.target)||arrayDropdownCatalog[n].contains(t.target)||window.screen.width<=1320&&(e.classList.remove("btn-active"),elemHidden(arrayDropdownCatalog[n],classAnimationDropdownOpen,classAnimationDropdownClose))}))}));var tabsBtnCatalog=document.querySelectorAll(".section-catalog__tabs-btn");tabsBtnCatalog.forEach((function(e){e.addEventListener("click",(function(n){var t=n.currentTarget.dataset.path;document.querySelectorAll(".section-catalog__tabs-list").forEach((function(e){e.classList.remove("section-catalog__tabs-list-active")})),tabsBtnCatalog.forEach((function(e){return e.classList.remove("section-catalog__tabs-btn-active")})),document.querySelector('[data-target="'.concat(t,'"]')).classList.add("section-catalog__tabs-list-active"),e.classList.add("section-catalog__tabs-btn-active")}))}))}var btnCardOpenModalForm=document.querySelector(".card-content__btn");if(btnCardOpenModalForm){var btnclick,responsePopup=function(e,n){n.forEach((function(e){return e.value=""})),elemVisible(popupResponse,classAnimationModalOpen,"flex"),descPopupResponse.textContent=e,closeBtnPopupResponse.addEventListener("click",(function(){elemHidden(popupResponse,classAnimationModalOpen,classAnimationModalClose)})),body.addEventListener("click",(function(e){containerPopupResponse.contains(e.target)||boxModalForm.contains(e.target)||formDispatch.contains(e.target)||elemHidden(popupResponse,classAnimationModalOpen,classAnimationModalClose)}))},eventInputFrom=function(e){e.forEach((function(e){e.addEventListener("input",(function(){this.classList.add("input-active"),""!==this.value||this.classList.remove("input-active")}))}))},btnsCardOpenModalForm=document.querySelectorAll(".card-content__btn"),btnSpecialOpenModalForm=document.querySelectorAll(".section-special__card-btn"),btnCardOpenModalFrom=document.querySelector(".section-card__btn-main"),boxModalForm=document.getElementById("box-modal-form"),containerModalForm=document.getElementById("container-modal-form"),btnCloseModalFrom=document.getElementById("close-modal-form"),arrayBtnOpenModalForm=[];btnsCardOpenModalForm.forEach((function(e){return arrayBtnOpenModalForm.push(e)})),btnSpecialOpenModalForm&&btnSpecialOpenModalForm.forEach((function(e){return arrayBtnOpenModalForm.push(e)})),btnCardOpenModalFrom&&arrayBtnOpenModalForm.push(btnCardOpenModalFrom),arrayBtnOpenModalForm.forEach((function(e){e.addEventListener("click",(function(){elemVisible(boxModalForm,classAnimationModalOpen,"flex"),btnclick=this}))})),body.addEventListener("click",(function(e){void 0!==btnclick&&(btnclick.contains(e.target)||containerModalForm.contains(e.target)||elemHidden(boxModalForm,classAnimationModalOpen,classAnimationModalClose))})),btnCloseModalFrom.addEventListener("click",(function(){return elemHidden(boxModalForm,classAnimationModalOpen,classAnimationModalClose)}));var popupResponse=document.getElementById("popup-response"),containerPopupResponse=document.getElementById("container-popup-response"),descPopupResponse=document.getElementById("content-response"),closeBtnPopupResponse=document.getElementById("close-popup-response"),formModal=document.getElementById("form-modal"),formDispatch=document.getElementById("form-dispatch");if(formModal){var inputsModal=document.querySelectorAll(".modal-form__form-input"),telInputModal=document.getElementById("tel-modal");eventInputFrom(inputsModal);var telMask=new Inputmask("+7 (999)-999-99-99");telMask.mask(telInputModal),new JustValidate("#form-modal",{rules:{name:{required:!0,minLength:2,maxLength:20},tel:{required:!0,function:function(e,n){var t=telInputModal.inputmask.unmaskedvalue();return Number(t)&&10===t.length}}},colorWrong:"#FF6972",submitHandler:function(e,n,t){t({url:"/php/getPostValue.php",method:"POST",data:n,async:!0,callback:function(){elemHidden(boxModalForm,classAnimationModalOpen,classAnimationModalClose),responsePopup("Спасибо, мы вам перезвоним!",inputsModal)},error:function(){elemHidden(boxModalForm,classAnimationModalOpen,classAnimationModalClose),responsePopup("Ошибка отправки!",inputsModal)}})}})}if(formDispatch){var inputsDispatch=document.querySelectorAll(".section-dispatch__form-input"),telInputDispatch=document.getElementById("tel-dispatch");eventInputFrom(inputsDispatch);var _telMask=new Inputmask("+7 (999)-999-99-99");_telMask.mask(telInputDispatch),new JustValidate("#form-dispatch",{rules:{name:{required:!0,minLength:2,maxLength:20},tel:{required:!0,function:function(e,n){var t=telInputDispatch.inputmask.unmaskedvalue();return Number(t)&&10===t.length}},mail:{required:!0,email:!0}},colorWrong:"#FF6972",submitHandler:function(e,n,t){t({url:"/php/getPostValue.php",method:"POST",data:n,async:!0,callback:function(){responsePopup("Спасибо, мы вам перезвоним!",inputsDispatch)},error:function(){responsePopup("Ошибка отправки!",inputsDispatch)}})}})}}var sectionCard=document.querySelector(".section-card");if(sectionCard&&"?card"===location.search){var eventModalCard=function(e,n){e.forEach((function(t){t.addEventListener("click",(function(t){var a=t.currentTarget,o=t.currentTarget.dataset.path;e.forEach((function(e){e.disabled=!1,e.classList.remove("btn-slide-disabled")})),n.forEach((function(e){e.style.display="none",e.classList.remove(classAnimationVisible)})),a.disabled=!0,a.classList.add("btn-slide-disabled"),elemVisible(document.querySelector('[data-target="'.concat(o,'"]')),classAnimationVisible,"block")}))}))},btnMainImgCard=document.getElementById("btn-main-img-modal"),allImgMainCard=document.querySelectorAll(".section-card__img-box-main"),btnsSlideImgCard=document.querySelectorAll(".section-card__img-btn"),modalCard=document.getElementById("modal-card"),containerModalCard=document.getElementById("container-modal-card"),btnCloseModalCard=document.getElementById("close-modal-card"),btnsSlideImgModalCard=document.querySelectorAll(".modal-card__tabs-btn"),allImgMainModalCard=document.querySelectorAll(".modal-card__img-box");eventModalCard(btnsSlideImgCard,allImgMainCard),eventModalCard(btnsSlideImgModalCard,allImgMainModalCard),btnMainImgCard.addEventListener("click",(function(){elemVisible(modalCard,classAnimationModalOpen,"flex"),btnsSlideImgModalCard.forEach((function(e){e.disabled=!1,e.classList.remove("btn-slide-disabled")})),allImgMainModalCard.forEach((function(e){e.style.display="none",e.classList.remove(classAnimationVisible)})),allImgMainCard.forEach((function(e){if("block"===window.getComputedStyle(e).display){var n=document.querySelector('[data-target="img-modal-'.concat(e.dataset.target.replace(/\D+/g,""),'"]')),t=document.querySelector('[data-path="img-modal-'.concat(e.dataset.target.replace(/\D+/g,""),'"]'));t.disabled=!0,t.classList.add("btn-slide-disabled"),elemVisible(n,classAnimationVisible,"block")}}))})),btnCloseModalCard.addEventListener("click",(function(){elemHidden(modalCard,classAnimationModalOpen,classAnimationModalClose)})),body.addEventListener("click",(function(e){btnMainImgCard.contains(e.target)||containerModalCard.contains(e.target)||elemHidden(modalCard,classAnimationModalOpen,classAnimationModalClose)}))}var map=document.getElementById("map");if(map&&"?contacts"===location.search){var mapApi=function(e){var n=document.getElementById("apiMap"),t=document.getElementById("map-error");t.style.display="none",n.src=e,fetch(e).then((function(e){if(200===e.status){var n,t,a=function(e,a){c.insertAdjacentHTML("beforeend",'<div class="section-contacts__form-dropdown-btn" role="option"><h2 class="section-contacts__form-dropdown-title">'.concat(e,'</h2><address class="section-contacts__form-dropdown-address">').concat(a,"</address></div>"));var l=document.querySelectorAll(".section-contacts__form-dropdown-btn");function s(e,n){e.balloon.open(),n.style.display="none"}o.addEventListener("input",(function(){this.classList.add("input-active");var e,n=_createForOfIteratorHelper(this.value);try{var t=function(){var n=e.value;if(n.toLowerCase(),n)return l.forEach((function(e,t){e.id="dropdown-btn-contact-".concat(t+1),document.getElementById("".concat(e.id)).textContent.replace(/[\s,.-]/g,"").toLowerCase().indexOf(n)>-1?(e.style.display="flex",elemVisible(c,classAnimationDropdownOpen,"block")):e.style.display="none",e.addEventListener("click",(function(){var n=document.querySelector("#".concat(e.id," h2")).textContent;o.value=n,elemHidden(c,classAnimationDropdownOpen,classAnimationDropdownClose)}))})),"break"};for(n.s();!(e=n.n()).done;){if("break"===t())break}}catch(e){n.e(e)}finally{n.f()}""!==this.value||(this.classList.remove("input-active"),elemHidden(c,classAnimationDropdownOpen,classAnimationDropdownClose))})),i.addEventListener("submit",(function(e){var a,i,d;e.preventDefault(),l.forEach((function(e){return e.style.display="none"})),elemHidden(c,classAnimationDropdownOpen,classAnimationDropdownClose),"Москва, SitDownPls на Солянке"===o.value?s(n,r):"Москва, SitDownPls на Покровке"===o.value?s(t,r):(a=[n,t],i=r,(d=o).classList.add("section-contacts__form-search-active"),i.style.display="block",setTimeout((function(){i.style.display="none",d.classList.remove("section-contacts__form-search-active")}),2500),a.forEach((function(e){return e.balloon.close()})))}))},o=document.getElementById("search-contacts"),c=document.querySelector(".section-contacts__form-dropdown"),i=document.getElementById("form-contacts"),r=document.getElementById("popup-contacts");a("Москва, SitDownPls на Солянке","м. Китай-город, ул. Солянка, д.24"),a("Москва, SitDownPls на Покровке","м. Курская, ул. Покровка, д.14"),ymaps.ready((function(){var e=new ymaps.Map("map",{center:[55.757353585432654,37.635001298950186],zoom:14});function a(e,n){return'<div class="popup-contacts" role="tooltipe"><h2 class="popup-contacts__title">'.concat(e,'</h2><address class="popup-contacts__address">').concat(n,'</address><a class="popup-contacts__tel tel" href="tel:+74958854547" aria-label="Контактный номер телефона"><svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.3425 14.0983C17.215 14.0983 16.1242 13.915 15.1067 13.585C14.7858 13.475 14.4283 13.5575 14.1808 13.805L12.7417 15.6108C10.1475 14.3733 7.71833 12.0358 6.42583 9.35L8.21333 7.82833C8.46083 7.57167 8.53417 7.21417 8.43333 6.89333C8.09417 5.87583 7.92 4.785 7.92 3.6575C7.92 3.1625 7.5075 2.75 7.0125 2.75H3.84083C3.34583 2.75 2.75 2.97 2.75 3.6575C2.75 12.1733 9.83583 19.25 18.3425 19.25C18.9933 19.25 19.25 18.6725 19.25 18.1683V15.0058C19.25 14.5108 18.8375 14.0983 18.3425 14.0983Z" fill="#FF862F" /></svg>+7 (495) 885-45-47</a><div class="popup-contacts__desc-time"><span class="popup-contacts__desc-alert">Часы работы:</span> с 10:00 до 21:00</div><div class="popup-contacts__desc"><span class="popup-contacts__desc-alert">Что здесь:</span> шоурум, пункт отгрузки, пункт выдачи, пункт обмена-возврата, сервисный центр</div></div>')}var o={iconLayout:"default#image",iconImageHref:"img/favicon/placemark.svg",iconImageSize:[32,21],hideIconOnBalloonOpen:!1,balloonOffset:[-110,-42],balloonPanelMaxMapArea:0};screen.width<664&&(o.balloonOffset=[-55,-42]),n=new ymaps.Placemark([55.750615568993275,37.64180899999995],{balloonContent:a("SitDownPls на Солянке","м. Китай-город, ул. Солянка, д.24")},o),t=new ymaps.Placemark([55.76226070125444,37.65358843587206],{balloonContent:a("SitDownPls на Покровке","м. Курская, ул. Покровка, д.14")},o),e.geoObjects.add(n),e.geoObjects.add(t)}))}})).catch((function(e){console.log(e),t.style.display="flex"}))};mapApi("https://api-maps.yandex.ru/2.1/?apikey=вашAPI-ключ&lang=ru_RU")}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoZWNrYm94LW5hbWVwbGF0ZS5qcyIsImVsZW1lbnQtaGlkZGVuLmpzIiwiaGlkaW5nLWl0ZW1zLmpzIiwic2VsZWN0LmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJldmVudENoZWNrYm94TmFtZXBsYXRlIiwiYWxsTGFiZWwiLCJuYW1lcGxhdGUiLCJkZXN0aW5hdGlvbiIsImNyZWF0ZU5hbWVwbGF0ZSIsImVsTmFtZXBsYXRlIiwibmFtZXBsYXRlRGVzdGluYXRpb24iLCJpZCIsIm5hbWUiLCJjb250ZW50IiwiYXJpYUxhYmVsIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiY29uY2F0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJjaGVja2VkIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJsYWJlbCIsImNoZWNrYm94SWQiLCJwYXJzZUludCIsInF1ZXJ5U2VsZWN0b3IiLCJyZXBsYWNlIiwiY2hlY2tib3hOYW1lIiwiY2hlY2tib3hWYWx1ZSIsInZhbHVlIiwiY2hlY2tib3giLCJjdXJyZW50VGFyZ2V0IiwiZWxlbVZpc2libGUiLCJlbCIsImNsYXNzT3BlbiIsImRpc3BsYXkiLCJzdHlsZSIsImNsYXNzTGlzdCIsImFkZCIsImVsZW1IaWRkZW4iLCJjbGFzc0Nsb3NlIiwic2V0VGltZW91dCIsInBvcHVwQ2xvc2UiLCJtb2RhbCIsImNyZWF0ZUJ0bkFuZEhpZGluZ0l0ZW0iLCJsaW1pdFF1YW50aXR5IiwiY2xhc3NJdGVtIiwiY2xhc3NCdG4iLCJjbGFzc0FjdGl2ZSIsImNoaWxkcmVuIiwibGVuZ3RoIiwiZnVsbExlbmd0aCIsInJhbmdlTGVuZ3RoIiwiaGlkZGVuSXRlbXMiLCJBcnJheSIsImZyb20iLCJzbGljZSIsImUiLCJwYXJlbnQiLCJjbG9zZXN0IiwiY29udGFpbnMiLCJ0ZXh0Q29udGVudCIsInNlbGVjdCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIm9wdGlvbnMiLCJjb250YWluZXJTZWxlY3QiLCJjcmVhdGVFbGVtZW50Iiwic2VsZWN0QnRuIiwic2VsZWN0RHJvcGRvd24iLCJzdmdJY29uIiwiY2xhc3NDb250YWluZXIiLCJjbGFzc1NlbGVjdCIsIm1haW4iLCJjbGFzc0Ryb3Bkb3duIiwiYWN0aXZlIiwib3BlbiIsImNsb3NlIiwiYm9keSIsInRhcmdldCIsIm9wdGlvbkJ0biIsImFwcGVuZCIsImNsYXNzQW5pbWF0aW9uVmlzaWJsZSIsImNsYXNzQW5pbWF0aW9uSGlkZGVuIiwiY2xhc3NBbmltYXRpb25JY29uIiwiY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4iLCJjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2UiLCJjbGFzc0FuaW1hdGlvbk1vZGFsT3BlbiIsImNsYXNzQW5pbWF0aW9uTW9kYWxDbG9zZSIsInByZWxvYWRlciIsImhlYWRlciIsImhlYWRlckJyZWFkY3J1bWJzIiwibGlzdExpbmtzaGVhZGVyQnJlYWRjcnVtYnMiLCJsb2NhdGlvblNlYXJjaE5hbWUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsImNvbnRlbnRMb2NhdGlvbiIsImxvY2F0aW9uTmFtZSIsInRpdGxlIiwiYXJyYXlMaW5rIiwibGFzdENoaWxkQXJyYXkiLCJsaW5rIiwiaXRlbWhlYWRlckJyZWFkY3J1bWJzIiwibGlua2hlYWRlckJyZWFkY3J1bWJzIiwiaHJlZiIsIm9yaWdpbiIsInBhdGhuYW1lIiwiY2xhc3NOYW1lIiwiYnRuU2Nyb2xsIiwiZXZlbnRCdG5TY3JvbGwiLCJidG4iLCJ2aXNpYmxlQW5kSGlkZGVuQnRuIiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUbyIsInRvcCIsImJlaGF2aW9yIiwicGFzc2l2ZSIsInNlbGVjdEhlYWRlciIsImNsYXNzIiwic2VhcmNoSGVhZGVyIiwiaWNvblNlYXJjaEhlYWRlciIsInRoaXMiLCJmaWxsIiwiZHJvcGRvd25CdG5IZWFkZXIiLCJkcm9wZG93bkhlYWRlciIsIm1lbnVIZWFkZXIiLCJuYXZIZWFkZXIiLCJidG5PcGVuTWVudUhlYWRlciIsImJ0bkNsb3NlTWVudUhlYWRlciIsInNjcmVlbiIsIndpZHRoIiwicG9wdXBCYW5uZXIiLCJldmVudEJ0blBvcHVwQmFubmVyIiwiZGlzYWJsZWQiLCJidG5zQmFubmVyIiwiYnRuQmFubmVyU00iLCJidG5CYW5uZXJUZXh0Q29udGVudCIsImJ0blJhdGluZyIsIml0ZW1SYXRpbmciLCJpdGVtIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInNlY3Rpb25DYXRhbG9nIiwidGhyb3dWYWx1ZVByaWNlIiwiaW5wdXQiLCJkaXNwbGF5TmFtZXBsYXRlUHJpY2UiLCJuYW1lcGxhdGVGcm9tUHJpY2UiLCJsYWJlbENhdGVnb3J5IiwibmFtZXBsYXRlRGlzY291bnQiLCJsYWJlbENvbG9yIiwicmFuZ2VTbGlkZXIiLCJpbnB1dEZyb21QcmljZSIsImlucHV0QmVmb3JlUHJpY2UiLCJ2YWx1ZWlucHV0RnJvbVByaWNlIiwidmFsdWVpbnB1dEJlZm9yZVByaWNlIiwibmFtZXBsYXRlQmVmb3JlUHJpY2UiLCJidG5DbG9zZUZyb21QcmljZSIsImJ0bkNsb3NlUHJpY2VCZWZvcmUiLCJpbnB1dHMiLCJub1VpU2xpZGVyIiwiY3JlYXRlIiwic3RhcnQiLCJjb25uZWN0Iiwic3RlcCIsInJhbmdlIiwibWluIiwibWF4IiwiaGFuZGxlQXR0cmlidXRlcyIsIm9uIiwidmFsdWVzIiwiaGFuZGxlIiwiTWF0aCIsInJvdW5kIiwic2V0U2xpZGVyIiwiaSIsImFyciIsInNldCIsImluZGV4IiwiaW5uZXJIVE1MIiwiYnRuUmFuZ2VTbGlkZXJGcm9tIiwiYnRuUmFuZ2VTbGlkZXJCZWZvcmUiLCJyYW5nZVNsaWRlckxpbmUiLCJiYWNrZ3JvdW5kIiwiY2hlY2tib3hEaXNjb3VudCIsIm5hbWVwbGF0ZURlc2NEaXNjb3VudCIsImJ0bkNsb3NlbmFtZXBsYXRlRGlzY291bnQiLCJjaGVjYm94IiwiYnRuc0Ryb3Bkb3duQ2F0YWxvZyIsItGBYXRlZ29yeURyb3Bkb3duQ2F0YWxvZyIsInByaWNlRHJvcGRvd25DYXRhbG9nIiwiZGlzY291bnREcm9wZG93bkNhdGFsb2ciLCJjb2xvckRyb3Bkb3duQ2F0YWxvZyIsImFycmF5RHJvcGRvd25DYXRhbG9nIiwiaW5kZXhCdG4iLCJ0YWJzQnRuQ2F0YWxvZyIsImV2ZW50IiwicGF0aCIsImRhdGFzZXQiLCJsaXN0IiwiYWxsQnRuIiwiYnRuQ2FyZE9wZW5Nb2RhbEZvcm0iLCJidG5jbGljayIsInJlc3BvbnNlUG9wdXAiLCJ0ZXh0IiwicG9wdXBSZXNwb25zZSIsImRlc2NQb3B1cFJlc3BvbnNlIiwiY2xvc2VCdG5Qb3B1cFJlc3BvbnNlIiwiY29udGFpbmVyUG9wdXBSZXNwb25zZSIsImJveE1vZGFsRm9ybSIsImZvcm1EaXNwYXRjaCIsImV2ZW50SW5wdXRGcm9tIiwiYnRuc0NhcmRPcGVuTW9kYWxGb3JtIiwiYnRuU3BlY2lhbE9wZW5Nb2RhbEZvcm0iLCJidG5DYXJkT3Blbk1vZGFsRnJvbSIsImNvbnRhaW5lck1vZGFsRm9ybSIsImJ0bkNsb3NlTW9kYWxGcm9tIiwiYXJyYXlCdG5PcGVuTW9kYWxGb3JtIiwicHVzaCIsImZvcm1Nb2RhbCIsImlucHV0c01vZGFsIiwidGVsSW5wdXRNb2RhbCIsInRlbE1hc2siLCJJbnB1dG1hc2siLCJtYXNrIiwiSnVzdFZhbGlkYXRlIiwicnVsZXMiLCJyZXF1aXJlZCIsIm1pbkxlbmd0aCIsIm1heExlbmd0aCIsInRlbCIsImZ1bmN0aW9uIiwicGhvbmUiLCJpbnB1dG1hc2siLCJ1bm1hc2tlZHZhbHVlIiwiTnVtYmVyIiwiY29sb3JXcm9uZyIsInN1Ym1pdEhhbmRsZXIiLCJmb3JtIiwiYWpheCIsInVybCIsIm1ldGhvZCIsImRhdGEiLCJhc3luYyIsImNhbGxiYWNrIiwiZXJyb3IiLCJpbnB1dHNEaXNwYXRjaCIsInRlbElucHV0RGlzcGF0Y2giLCJtYWlsIiwiZW1haWwiLCJzZWN0aW9uQ2FyZCIsImV2ZW50TW9kYWxDYXJkIiwiYnRucyIsImltYWdlcyIsInRoaXNCdG4iLCJpbWciLCJidG5NYWluSW1nQ2FyZCIsImFsbEltZ01haW5DYXJkIiwiYnRuc1NsaWRlSW1nQ2FyZCIsIm1vZGFsQ2FyZCIsImNvbnRhaW5lck1vZGFsQ2FyZCIsImJ0bkNsb3NlTW9kYWxDYXJkIiwiYnRuc1NsaWRlSW1nTW9kYWxDYXJkIiwiYWxsSW1nTWFpbk1vZGFsQ2FyZCIsImltZ01vZGFsIiwiYnRuTW9kYWwiLCJtYXAiLCJtYXBBcGkiLCJzcmMiLCJsaW5rQXBpIiwibWFwRXJyb3IiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJzdGF0dXMiLCJteVBsYWNlbWFyazEiLCJteVBsYWNlbWFyazIiLCJzZWFyY2hCYWxsb25NYXAiLCJhZGRyZXNzIiwiZHJvcGRvd25Db250YWN0cyIsImRyb3Bkb3duQnRuc0NvbnRhY3RzIiwiYmFsbG9uT3BlbiIsInBsYWNlbWFyayIsInBvcHVwIiwiYmFsbG9vbiIsInNlYXJjaENvbnRhY3RzIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsIl9sb29wIiwic3ltYm9sIiwidG9Mb3dlckNhc2UiLCJidG5JbmRleCIsImluZGV4T2YiLCJjb250ZW50VGl0bGVDb250YWN0cyIsInMiLCJuIiwiZG9uZSIsImVyciIsImYiLCJmb3JtQ29udGFjdHMiLCJwbGFjZW1hcmtzIiwicHJldmVudERlZmF1bHQiLCJwb3B1cENvbnRhY3RzIiwieW1hcHMiLCJyZWFkeSIsIm15TWFwIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsImJhbGxvbkNvbnRlbnQiLCJwbGFjZW1hcmtJY29uQmFsbG9uIiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiaGlkZUljb25PbkJhbGxvb25PcGVuIiwiYmFsbG9vbk9mZnNldCIsImJhbGxvb25QYW5lbE1heE1hcEFyZWEiLCJQbGFjZW1hcmsiLCJiYWxsb29uQ29udGVudCIsImdlb09iamVjdHMiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoib3BDQUNBLFNBQUFBLHVCQUFBQyxFQUFBQyxFQUFBQyxHQUNBLFNBQUFD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USxTQUFBQyxlQUFBLG1CQUNBc1EsRUFBQXZRLFNBQUFVLGNBQ0Esb0NBRUFrUixFQUFBNVIsU0FBQUMsZUFBQSxpQkFDQThSLEVBQUEvUixTQUFBQyxlQUFBLGtCQXVHQW9RLEVBQ0EsZ0NBQ0EscUNBRUFBLEVBQ0EsaUNBQ0Esa0NBR0EyQixNQUFBQyxPQUVBLFdBQ0EsSUFBQUMsRUFBQSxJQUFBRixNQUFBRyxJQUFBLE1BQUEsQ0FDQUMsT0FBQSxDQUFBLG1CQUFBLG9CQUNBQyxLQUFBLEtBR0EsU0FBQUMsRUFBQWxOLEVBQUFrTCxHQUNBLE1BQUEsaUZBQUF2USxPQUFBcUYsRUFBQSxrREFBQXJGLE9BQUF1USxFQUFBLDhoQ0FHQSxJQUFBaUMsRUFBQSxDQUNBQyxXQUFBLGdCQUNBQyxjQUFBLDRCQUNBQyxjQUFBLENBQUEsR0FBQSxJQUNBQyx1QkFBQSxFQUNBQyxjQUFBLEVBQUEsS0FBQSxJQUNBQyx1QkFBQSxHQUdBMUwsT0FBQUMsTUFBQSxNQUNBbUwsRUFBQUssY0FBQSxFQUFBLElBQUEsS0FHQXpDLEVBQUEsSUFBQTZCLE1BQUFjLFVBQ0EsQ0FBQSxtQkFBQSxtQkFDQSxDQUNBQyxlQUFBVCxFQUNBLHdCQUNBLHNDQUdBQyxHQUVBbkMsRUFBQSxJQUFBNEIsTUFBQWMsVUFDQSxDQUFBLGtCQUFBLG1CQUNBLENBQ0FDLGVBQUFULEVBQ0EseUJBQ0EsbUNBR0FDLEdBR0FMLEVBQUFjLFdBQUF6UixJQUFBNE8sR0FDQStCLEVBQUFjLFdBQUF6UixJQUFBNk8sVUF2S0EsT0EyS0EsU0FBQS9CLEdBQ0E0RSxRQUFBQyxJQUFBN0UsR0FDQXlCLEVBQUF6TyxNQUFBRCxRQUFBLFdBR0F1TyxPQUFBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmZ1bmN0aW9uIGV2ZW50Q2hlY2tib3hOYW1lcGxhdGUoYWxsTGFiZWwsIG5hbWVwbGF0ZSwgZGVzdGluYXRpb24pIHtcbiAgZnVuY3Rpb24gY3JlYXRlTmFtZXBsYXRlKFxuICAgIGVsTmFtZXBsYXRlLFxuICAgIG5hbWVwbGF0ZURlc3RpbmF0aW9uLFxuICAgIGlkLFxuICAgIG5hbWUsXG4gICAgY29udGVudFxuICApIHtcbiAgICBsZXQgYXJpYUxhYmVsO1xuICAgIGlmIChuYW1lID09PSAn0YFhdGVnb3J5JykgYXJpYUxhYmVsID0gJ9CS0YvQsdGA0LDQvdC90LDRjyDQutCw0YLQtdCz0L7RgNC40Y8nO1xuICAgIGVsc2UgYXJpYUxhYmVsID0gJ9CS0YvQsdGA0LDQvdC90YvQuSDRhtCy0LXRgic7XG5cbiAgICBlbE5hbWVwbGF0ZS5pbnNlcnRBZGphY2VudEhUTUwoXG4gICAgICBuYW1lcGxhdGVEZXN0aW5hdGlvbixcbiAgICAgIGA8ZGl2IGNsYXNzPVwic2VjdGlvbi1jYXRhbG9nX19oZWFkZXItbmFtZXBsYXRlIHNlY3Rpb24tY2F0YWxvZ19faGVhZGVyLW5hbWVwbGF0ZS0ke25hbWV9XCIgaWQ9XCJuYW1lcGxhdGUtJHtpZH1cIj48c3BhbiBjbGFzcz1cInNlY3Rpb24tY2F0YWxvZ19faGVhZGVyLW5hbWVwbGF0ZS0ke25hbWV9LWRlc2NcIiByb2xlPVwibm90ZVwiIGFyaWEtbGFiZWw9XCIke2FyaWFMYWJlbH1cIj4ke2NvbnRlbnR9PC9zcGFuPjxidXR0b24gY2xhc3M9XCJzZWN0aW9uLWNhdGFsb2dfX2hlYWRlci1uYW1lcGxhdGUtYnRuXCIgYXJpYS1sYWJlbD1cItCX0LDQutGA0YvRgtGMINCy0YvQsdGA0LDQvdC90YvQuSDRhNC40LvRjNGC0YBcIiBpZD1cImNsb3NlLW5hbWVwbGF0ZS0ke2lkfVwiPjxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTUuNTk5OSA4LjQwMDAyTDguMzk5OSAxNS42XCIgc3Ryb2tlPVwiIzY2NjY2NlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiLz48cGF0aCBkPVwiTTguMzk5OSA4LjQwMDAyTDE1LjU5OTkgMTUuNlwiIHN0cm9rZT1cIiM2NjY2NjZcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIi8+PC9zdmc+PC9idXR0b24+PC9kaXY+YFxuICAgICk7XG4gICAgZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZChgY2xvc2UtbmFtZXBsYXRlLSR7aWR9YClcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG5hbWVwbGF0ZS0ke2lkfWApLnJlbW92ZSgpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2hlY2tib3gtJHtpZH1gKS5jaGVja2VkID0gZmFsc2U7XG4gICAgICB9KTtcbiAgfVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGFsbExhYmVsKS5mb3JFYWNoKChsYWJlbCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrYm94SWQgPSBwYXJzZUludChcbiAgICAgIGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuaWQucmVwbGFjZSgvW15cXGRdL2csICcnKVxuICAgICk7XG4gICAgY29uc3QgY2hlY2tib3hOYW1lID0gbGFiZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKS5uYW1lO1xuICAgIGNvbnN0IGNoZWNrYm94VmFsdWUgPSBsYWJlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlO1xuXG4gICAgaWYgKGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZClcbiAgICAgIGNyZWF0ZU5hbWVwbGF0ZShcbiAgICAgICAgbmFtZXBsYXRlLFxuICAgICAgICBkZXN0aW5hdGlvbixcbiAgICAgICAgY2hlY2tib3hJZCxcbiAgICAgICAgY2hlY2tib3hOYW1lLFxuICAgICAgICBjaGVja2JveFZhbHVlXG4gICAgICApO1xuICAgIGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGNoZWNrYm94KSA9PiB7XG4gICAgICBpZiAoY2hlY2tib3guY3VycmVudFRhcmdldC5jaGVja2VkID09IHRydWUpXG4gICAgICAgIGNyZWF0ZU5hbWVwbGF0ZShcbiAgICAgICAgICBuYW1lcGxhdGUsXG4gICAgICAgICAgZGVzdGluYXRpb24sXG4gICAgICAgICAgY2hlY2tib3hJZCxcbiAgICAgICAgICBjaGVja2JveE5hbWUsXG4gICAgICAgICAgY2hlY2tib3hWYWx1ZVxuICAgICAgICApO1xuICAgICAgZWxzZSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbmFtZXBsYXRlLSR7Y2hlY2tib3hJZH1gKS5yZW1vdmUoKTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuZnVuY3Rpb24gZWxlbVZpc2libGUoZWwsIGNsYXNzT3BlbiwgZGlzcGxheSkge1xuICBlbC5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcbiAgZWwuY2xhc3NMaXN0LmFkZChjbGFzc09wZW4pO1xufVxuXG5mdW5jdGlvbiBlbGVtSGlkZGVuKGVsLCBjbGFzc09wZW4sIGNsYXNzQ2xvc2UpIHtcbiAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc09wZW4pO1xuICBlbC5jbGFzc0xpc3QuYWRkKGNsYXNzQ2xvc2UpO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NDbG9zZSk7XG4gIH0sIDQwMCk7XG59XG5cbmZ1bmN0aW9uIHBvcHVwQ2xvc2UobW9kYWwsIGNsYXNzQ2xvc2UpIHtcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChjbGFzc0Nsb3NlKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzQ2xvc2UpO1xuICB9LCA0MDApO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ0bkFuZEhpZGluZ0l0ZW0oXG4gIGxpbWl0UXVhbnRpdHksXG4gIGNsYXNzTGlzdCxcbiAgY2xhc3NJdGVtLFxuICBjbGFzc0J0bixcbiAgY2xhc3NBY3RpdmVcbikge1xuICBjb25zdCBsaXN0Q2hlY2tib3hDYXRhbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7Y2xhc3NMaXN0fWApO1xuXG4gIGxpc3RDaGVja2JveENhdGFsb2cuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBpZiAoZWwuY2hpbGRyZW4ubGVuZ3RoID4gbGltaXRRdWFudGl0eSkge1xuICAgICAgY29uc3QgZnVsbExlbmd0aCA9IGVsLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgIGNvbnN0IHJhbmdlTGVuZ3RoID0gZnVsbExlbmd0aCAtIGxpbWl0UXVhbnRpdHk7XG4gICAgICBjb25zdCBhcnIgPSBBcnJheS5mcm9tKGVsLmNoaWxkcmVuKTtcbiAgICAgIGNvbnN0IGhpZGRlbkl0ZW1zID0gYXJyLnNsaWNlKGZ1bGxMZW5ndGggLSByYW5nZUxlbmd0aCwgZnVsbExlbmd0aCk7XG4gICAgICBoaWRkZW5JdGVtcy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGAke2NsYXNzQWN0aXZlfWApO1xuICAgICAgfSk7XG4gICAgICBlbC5pbnNlcnRBZGphY2VudEhUTUwoXG4gICAgICAgICdiZWZvcmVlbmQnLFxuICAgICAgICBgPGJ1dHRvbiBjbGFzcz1cIiR7Y2xhc3NCdG59XCI+KyDQtdGJ0ZEgJHtoaWRkZW5JdGVtcy5sZW5ndGh9PC9idXR0b24+YFxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGJ0bkxpc3RDaGVja2JveENhdGFsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtjbGFzc0J0bn1gKTtcblxuICBidG5MaXN0Q2hlY2tib3hDYXRhbG9nLmZvckVhY2goKGVsKSA9PiB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgcGFyZW50ID0gZS5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoYC4ke2NsYXNzTGlzdH1gKTtcbiAgICAgIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGAke2NsYXNzQWN0aXZlfWApKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoYCR7Y2xhc3NBY3RpdmV9YCk7XG4gICAgICAgIGVsLnRleHRDb250ZW50ID0gJ9Ch0LLQtdGA0L3Rg9GC0YwnO1xuICAgICAgICBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChgLiR7Y2xhc3NJdGVtfWApLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShgJHtjbGFzc0FjdGl2ZX1gKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGAke2NsYXNzQWN0aXZlfWApO1xuICAgICAgICBlbC50ZXh0Q29udGVudCA9ICfQn9C+0LrQsNC30LDRgtGMINCy0YHQtSc7XG4gICAgICAgIGNvbnN0IGZ1bGxMZW5ndGggPSBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBjb25zdCByYW5nZUxlbmd0aCA9IGZ1bGxMZW5ndGggLSBsaW1pdFF1YW50aXR5O1xuICAgICAgICBjb25zdCBhcnIgPSBBcnJheS5mcm9tKHBhcmVudC5jaGlsZHJlbik7XG4gICAgICAgIGNvbnN0IGhpZGRlbkl0ZW1zID0gYXJyLnNsaWNlKGZ1bGxMZW5ndGggLSByYW5nZUxlbmd0aCwgZnVsbExlbmd0aCAtIDEpO1xuICAgICAgICBoaWRkZW5JdGVtcy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoYCR7Y2xhc3NBY3RpdmV9YCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5mdW5jdGlvbiBzZWxlY3Qoc2VsZWN0ID0ge30sIG9wdGlvbnMgPSBbXSkge1xuICBjb25zdCBjb250YWluZXJTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29uc3Qgc2VsZWN0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIGNvbnN0IHNlbGVjdERyb3Bkb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGxldCBjb250ZW50O1xuXG4gIGNvbnRhaW5lclNlbGVjdC5jbGFzc0xpc3QuYWRkKHNlbGVjdC5jbGFzc0NvbnRhaW5lcik7XG4gIHNlbGVjdEJ0bi5jbGFzc0xpc3QuYWRkKHNlbGVjdC5jbGFzc1NlbGVjdC5tYWluKTtcbiAgc2VsZWN0RHJvcGRvd24uY2xhc3NMaXN0LmFkZChzZWxlY3QuY2xhc3NEcm9wZG93bi5tYWluKTtcbiAgc2VsZWN0RHJvcGRvd24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgc2VsZWN0QnRuLnRleHRDb250ZW50ID0gc2VsZWN0Lm5hbWU7XG4gIHNlbGVjdEJ0bi5uYW1lID0gJ9Ck0LjQu9GM0YLRgCc7XG5cbiAgZnVuY3Rpb24gc3ZnSWNvbihlbCkge1xuICAgIGVsLmluc2VydEFkamFjZW50SFRNTChcbiAgICAgICdiZWZvcmVlbmQnLFxuICAgICAgJzxzdmcgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjhcIiB2aWV3Qm94PVwiMCAwIDEyIDhcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNNS42NTY3NCA1LjgwNTIxTDEwLjU1OTMgMC45MDI2MDdMMTEuMzEzNiAxLjY1Njg1TDUuNjU2NzQgNy4zMTM3MUwtMC4wMDAxMTU4NzEgMS42NTY4NUwwLjc1NDEzMSAwLjkwMjYwN0w1LjY1Njc0IDUuODA1MjFaXCIgZmlsbD1cIiNBNjVDRjBcIi8+PC9zdmc+J1xuICAgICk7XG4gIH1cbiAgc3ZnSWNvbihzZWxlY3RCdG4pO1xuXG4gIGZ1bmN0aW9uIGVsZW1WaXNpYmxlKGVsLCBjbGFzc09wZW4sIGRpc3BsYXkpIHtcbiAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcbiAgICBlbC5jbGFzc0xpc3QuYWRkKGNsYXNzT3Blbik7XG4gIH1cblxuICBmdW5jdGlvbiBlbGVtSGlkZGVuKGVsLCBjbGFzc09wZW4sIGNsYXNzQ2xvc2UpIHtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzT3Blbik7XG4gICAgZWwuY2xhc3NMaXN0LmFkZChjbGFzc0Nsb3NlKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzQ2xvc2UpO1xuICAgIH0sIDQwMCk7XG4gIH1cblxuICBzZWxlY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29udGVudCA9IHNlbGVjdEJ0bi50ZXh0Q29udGVudDtcbiAgICBpZiAoc2VsZWN0RHJvcGRvd24uc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgICBzZWxlY3RCdG4uY2xhc3NMaXN0LmFkZChzZWxlY3QuY2xhc3NTZWxlY3QuYWN0aXZlKTtcbiAgICAgIGVsZW1WaXNpYmxlKHNlbGVjdERyb3Bkb3duLCBzZWxlY3QuY2xhc3NEcm9wZG93bi5vcGVuLCAnZmxleCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3RCdG4uY2xhc3NMaXN0LnJlbW92ZShzZWxlY3QuY2xhc3NTZWxlY3QuYWN0aXZlKTtcbiAgICAgIGVsZW1IaWRkZW4oXG4gICAgICAgIHNlbGVjdERyb3Bkb3duLFxuICAgICAgICBzZWxlY3QuY2xhc3NEcm9wZG93bi5vcGVuLFxuICAgICAgICBzZWxlY3QuY2xhc3NEcm9wZG93bi5jbG9zZVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZWwpID0+IHtcbiAgICBpZiAoc2VsZWN0RHJvcGRvd24uc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSByZXR1cm47XG4gICAgaWYgKCFzZWxlY3REcm9wZG93bi5jb250YWlucyhlbC50YXJnZXQpICYmICFzZWxlY3RCdG4uY29udGFpbnMoZWwudGFyZ2V0KSkge1xuICAgICAgc2VsZWN0QnRuLmNsYXNzTGlzdC5yZW1vdmUoc2VsZWN0LmNsYXNzU2VsZWN0LmFjdGl2ZSk7XG4gICAgICBlbGVtSGlkZGVuKFxuICAgICAgICBzZWxlY3REcm9wZG93bixcbiAgICAgICAgc2VsZWN0LmNsYXNzRHJvcGRvd24ub3BlbixcbiAgICAgICAgc2VsZWN0LmNsYXNzRHJvcGRvd24uY2xvc2VcbiAgICAgICk7XG4gICAgfVxuICB9KTtcblxuICBvcHRpb25zLmZvckVhY2goKGVsKSA9PiB7XG4gICAgY29uc3Qgb3B0aW9uQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICBvcHRpb25CdG4uY2xhc3NMaXN0LmFkZChlbC5jbGFzcyk7XG4gICAgb3B0aW9uQnRuLnRleHRDb250ZW50ID0gZWwubmFtZTtcbiAgICBvcHRpb25CdG4udmFsdWUgPSBlbC5uYW1lO1xuXG4gICAgb3B0aW9uQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgc2VsZWN0QnRuLnRleHRDb250ZW50ID0gb3B0aW9uQnRuLnRleHRDb250ZW50O1xuICAgICAgc3ZnSWNvbihzZWxlY3RCdG4pO1xuICAgICAgb3B0aW9uQnRuLnRleHRDb250ZW50ID0gY29udGVudDtcbiAgICAgIHNlbGVjdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKHNlbGVjdC5jbGFzc1NlbGVjdC5hY3RpdmUpO1xuICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgc2VsZWN0RHJvcGRvd24sXG4gICAgICAgIHNlbGVjdC5jbGFzc0Ryb3Bkb3duLm9wZW4sXG4gICAgICAgIHNlbGVjdC5jbGFzc0Ryb3Bkb3duLmNsb3NlXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgc2VsZWN0RHJvcGRvd24uYXBwZW5kKG9wdGlvbkJ0bik7XG4gIH0pO1xuXG4gIGNvbnRhaW5lclNlbGVjdC5hcHBlbmQoc2VsZWN0QnRuLCBzZWxlY3REcm9wZG93bik7XG5cbiAgcmV0dXJuIGNvbnRhaW5lclNlbGVjdDtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8taW5uZXItZGVjbGFyYXRpb25zICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuXG4vLyBhbmltYXRpb24gY2xhc3NcbmNvbnN0IGNsYXNzQW5pbWF0aW9uVmlzaWJsZSA9ICdhbmltYXRpb24tdmlzaWJsZSc7XG5jb25zdCBjbGFzc0FuaW1hdGlvbkhpZGRlbiA9ICdhbmltYXRpb24taGlkZGVuJztcbmNvbnN0IGNsYXNzQW5pbWF0aW9uSWNvbiA9ICdhbmltYXRpb24taWNvbic7XG5jb25zdCBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbiA9ICdhbmltYXRpb24tZHJvcGRvd24tb3Blbic7XG5jb25zdCBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2UgPSAnYW5pbWF0aW9uLWRyb3Bkb3duLWNsb3NlJztcbmNvbnN0IGNsYXNzQW5pbWF0aW9uTW9kYWxPcGVuID0gJ2FuaW1hdGlvbi1tb2RhbC1vcGVuJztcbmNvbnN0IGNsYXNzQW5pbWF0aW9uTW9kYWxDbG9zZSA9ICdhbmltYXRpb24tbW9kYWwtY2xvc2UnO1xuXG5jb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbmNvbnN0IHByZWxvYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVsb2FkZXInKTtcbmNvbnN0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKTtcbmNvbnN0IGhlYWRlckJyZWFkY3J1bWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1icmVhZGNydW1icycpO1xuY29uc3QgbGlzdExpbmtzaGVhZGVyQnJlYWRjcnVtYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAnLmhlYWRlci1icmVhZGNydW1ic19fbGlzdCdcbik7XG5jb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpO1xuY29uc3QgbG9jYXRpb25TZWFyY2hOYW1lID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5yZXBsYWNlKC9bXmEtetCwLdGP0ZFdL2dpLCAnJyk7XG5cbmZ1bmN0aW9uIGNvbnRlbnRMb2NhdGlvbihsb2NhdGlvbk5hbWUsIHRpdGxlLCBhcnJheUxpbmspIHtcbiAgZG9jdW1lbnQudGl0bGUgPSBgU2l0RG93blBscyAtICR7dGl0bGV9YDtcblxuICBoZWFkZXIuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLWJvdHRvbScpO1xuICBoZWFkZXJCcmVhZGNydW1icy5jbGFzc0xpc3QuYWRkKCdoZWFkZXItYnJlYWRjcnVtYnMtYWN0aXZlJyk7XG4gIGNvbnN0IGxhc3RDaGlsZEFycmF5ID0gYXJyYXlMaW5rW2FycmF5TGluay5sZW5ndGggLSAxXTtcblxuICBhcnJheUxpbmsuZm9yRWFjaCgobGluaykgPT4ge1xuICAgIGNvbnN0IGl0ZW1oZWFkZXJCcmVhZGNydW1icyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgY29uc3QgbGlua2hlYWRlckJyZWFkY3J1bWJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGl0ZW1oZWFkZXJCcmVhZGNydW1icy5jbGFzc0xpc3QuYWRkKCdoZWFkZXItYnJlYWRjcnVtYnNfX2l0ZW0nKTtcbiAgICBpZiAobGluayAhPT0gbGFzdENoaWxkQXJyYXkpXG4gICAgICBsaW5raGVhZGVyQnJlYWRjcnVtYnMuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLWJyZWFkY3J1bWJzX19pdGVtLWxpbmsnKTtcbiAgICBsaW5raGVhZGVyQnJlYWRjcnVtYnMudGV4dENvbnRlbnQgPSBsaW5rO1xuXG4gICAgaWYgKGxpbmsgPT09IGxhc3RDaGlsZEFycmF5KVxuICAgICAgbGlua2hlYWRlckJyZWFkY3J1bWJzLmNsYXNzTGlzdC5hZGQoJ2hlYWRlci1icmVhZGNydW1ic19faXRlbS1saW5rLWFuZCcpO1xuICAgIGxpbmtoZWFkZXJCcmVhZGNydW1icy5ocmVmID0gJyMnO1xuICAgIGxpbmtoZWFkZXJCcmVhZGNydW1icy50ZXh0Q29udGVudCA9IGxpbms7XG4gICAgaWYgKGxpbmsgPT09ICfQk9C70LDQstC90LDRjycpXG4gICAgICBsaW5raGVhZGVyQnJlYWRjcnVtYnMuaHJlZiA9IGAke2xvY2F0aW9uLm9yaWdpbiArIGxvY2F0aW9uLnBhdGhuYW1lfWA7XG4gICAgaWYgKGxpbmsgPT09ICfQmtCw0YLQsNC70L7QsycpIGxpbmtoZWFkZXJCcmVhZGNydW1icy5ocmVmID0gJz9jYXRhbG9nJztcbiAgICBpZiAobGluayA9PT0gJ9CU0LjQstCw0L3RiycpIGxpbmtoZWFkZXJCcmVhZGNydW1icy5ocmVmID0gJz9jYXRhbG9nJztcbiAgICBpZiAobGluayA9PT0gJ9Cf0YDRj9C80YvQtSDQtNC40LLQsNC90YsnICYmIGxvY2F0aW9uTmFtZSA9PT0gJ2NhcmQnKVxuICAgICAgbGlua2hlYWRlckJyZWFkY3J1bWJzLmhyZWYgPSAnP2NhdGFsb2cnO1xuXG4gICAgaXRlbWhlYWRlckJyZWFkY3J1bWJzLmFwcGVuZChsaW5raGVhZGVyQnJlYWRjcnVtYnMpO1xuICAgIGxpc3RMaW5rc2hlYWRlckJyZWFkY3J1bWJzLmFwcGVuZChpdGVtaGVhZGVyQnJlYWRjcnVtYnMpO1xuICB9KTtcblxuICBtYWluLmNsYXNzTmFtZSA9IGBtYWluLSR7bG9jYXRpb25OYW1lfWA7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLWluZGV4Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7bG9jYXRpb25OYW1lfWApLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgcHJlbG9hZGVyLnJlbW92ZSgpO1xufSk7XG5cbnN3aXRjaCAobG9jYXRpb25TZWFyY2hOYW1lKSB7XG4gIGNhc2UgJ2NhdGFsb2cnOlxuICAgIGNvbnRlbnRMb2NhdGlvbihsb2NhdGlvblNlYXJjaE5hbWUsICfQmtCw0YLQsNC70L7QsycsIFtcbiAgICAgICfQk9C70LDQstC90LDRjycsXG4gICAgICAn0JrQsNGC0LDQu9C+0LMnLFxuICAgICAgJ9CU0LjQstCw0L3RiycsXG4gICAgICAn0J/RgNGP0LzRi9C1INC00LjQstCw0L3RiycsXG4gICAgXSk7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ2NhcmQnOlxuICAgIGNvbnRlbnRMb2NhdGlvbihsb2NhdGlvblNlYXJjaE5hbWUsICfQlNC40LLQsNC9INGC0LrQsNC90LXQstGL0Lkg0L/RgNGP0LzQvtC5IOKAnEQtMzHigJ0nLCBbXG4gICAgICAn0JPQu9Cw0LLQvdCw0Y8nLFxuICAgICAgJ9Ca0LDRgtCw0LvQvtCzJyxcbiAgICAgICfQlNC40LLQsNC90YsnLFxuICAgICAgJ9Cf0YDRj9C80YvQtSDQtNC40LLQsNC90YsnLFxuICAgICAgJ0QtMzEnLFxuICAgIF0pO1xuICAgIGJyZWFrO1xuICBjYXNlICdjb29wZXJhdGlvbic6XG4gICAgY29udGVudExvY2F0aW9uKGxvY2F0aW9uU2VhcmNoTmFtZSwgJ9Ch0L7RgtGA0YPQtNC90LjRh9C10YHRgtCy0L4nLCBbXG4gICAgICAn0JPQu9Cw0LLQvdCw0Y8nLFxuICAgICAgJ9Ch0L7RgtGA0YPQtNC90LjRh9C10YHRgtCy0L4nLFxuICAgIF0pO1xuICAgIGJyZWFrO1xuICBjYXNlICdjb250YWN0cyc6XG4gICAgY29udGVudExvY2F0aW9uKGxvY2F0aW9uU2VhcmNoTmFtZSwgJ9Ca0L7QvdGC0LDQutGC0YsnLCBbJ9CT0LvQsNCy0L3QsNGPJywgJ9Ca0L7QvdGC0LDQutGC0YsnXSk7XG4gICAgYnJlYWs7XG59XG5cbi8vIHNjcm9sbFxuY29uc3QgYnRuU2Nyb2xsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1zY3JvbGwnKTtcblxuZnVuY3Rpb24gZXZlbnRCdG5TY3JvbGwoYnRuKSB7XG4gIGZ1bmN0aW9uIHZpc2libGVBbmRIaWRkZW5CdG4oYnRuU2Nyb2xsKSB7XG4gICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCA+PSAyMDApIGJ0blNjcm9sbC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIGVsc2UgYnRuU2Nyb2xsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cblxuICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiAwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gIH0pO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHZpc2libGVBbmRIaWRkZW5CdG4oYnRuKSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB2aXNpYmxlQW5kSGlkZGVuQnRuKGJ0biksIHtcbiAgICBwYXNzaXZlOiB0cnVlLFxuICB9KTtcbn1cbmV2ZW50QnRuU2Nyb2xsKGJ0blNjcm9sbCk7XG5cbi8vIGhlYWRlclxuXG4vLyBoZWFkZXIgLy8gc2VsZWN0XG5jb25zdCBzZWxlY3RIZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0Jyk7XG5cbnNlbGVjdEhlYWRlci5hcHBlbmQoXG4gIHNlbGVjdChcbiAgICB7XG4gICAgICBuYW1lOiAn0JzQvtGB0LrQstCwJyxcbiAgICAgIGNsYXNzQ29udGFpbmVyOiAnaGVhZGVyX19zZWxlY3QtYm94JyxcbiAgICAgIGNsYXNzU2VsZWN0OiB7XG4gICAgICAgIG1haW46ICdoZWFkZXJfX3NlbGVjdCcsXG4gICAgICAgIGFjdGl2ZTogY2xhc3NBbmltYXRpb25JY29uLFxuICAgICAgfSxcbiAgICAgIGNsYXNzRHJvcGRvd246IHtcbiAgICAgICAgbWFpbjogJ2hlYWRlcl9fc2VsZWN0LWRyb3Bkb3duJyxcbiAgICAgICAgb3BlbjogY2xhc3NBbmltYXRpb25WaXNpYmxlLFxuICAgICAgICBjbG9zZTogY2xhc3NBbmltYXRpb25IaWRkZW4sXG4gICAgICB9LFxuICAgIH0sXG4gICAgW1xuICAgICAgeyBuYW1lOiAn0JrQsNC30LDQvdGMJywgY2xhc3M6ICdoZWFkZXJfX3NlbGVjdC1kcm9wZG93bi1idG4nIH0sXG4gICAgICB7IG5hbWU6ICfQo9GE0LAnLCBjbGFzczogJ2hlYWRlcl9fc2VsZWN0LWRyb3Bkb3duLWJ0bicgfSxcbiAgICAgIHsgbmFtZTogJ9Cf0LXRgNC80YwnLCBjbGFzczogJ2hlYWRlcl9fc2VsZWN0LWRyb3Bkb3duLWJ0bicgfSxcbiAgICBdXG4gIClcbik7XG5cbi8vIGhlYWRlciAvLyBzZWFyY2hcbmNvbnN0IHNlYXJjaEhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gnKTtcbmNvbnN0IGljb25TZWFyY2hIZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLWljb24nKTtcblxuc2VhcmNoSGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2lucHV0LWFjdGl2ZScpO1xuICBpY29uU2VhcmNoSGVhZGVyLnN0eWxlLmZpbGwgPSAnI0E2NUNGMCc7XG4gIGlmICh0aGlzLnZhbHVlICE9PSAnJykge1xuICB9IGVsc2Uge1xuICAgIGljb25TZWFyY2hIZWFkZXIuc3R5bGUuZmlsbCA9ICcjOTk5OTk5JztcbiAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LWFjdGl2ZScpO1xuICB9XG59KTtcblxuLy8gaGVhZGVyIC8vIGRyb3Bkb3duXG5jb25zdCBkcm9wZG93bkJ0bkhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wZG93bi1idG4nKTtcbmNvbnN0IGRyb3Bkb3duSGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3Bkb3duJyk7XG5cbmRyb3Bkb3duQnRuSGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBpZiAoZHJvcGRvd25IZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuKSkge1xuICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZShjbGFzc0FuaW1hdGlvbkljb24pO1xuICAgIGVsZW1IaWRkZW4oXG4gICAgICBkcm9wZG93bkhlYWRlcixcbiAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuLFxuICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bkNsb3NlXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoY2xhc3NBbmltYXRpb25JY29uKTtcbiAgICBlbGVtVmlzaWJsZShkcm9wZG93bkhlYWRlciwgY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4sICdmbGV4Jyk7XG4gIH1cbn0pO1xuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlbCkgPT4ge1xuICBpZiAoXG4gICAgIWRyb3Bkb3duQnRuSGVhZGVyLmNvbnRhaW5zKGVsLnRhcmdldCkgJiZcbiAgICAhZHJvcGRvd25IZWFkZXIuY29udGFpbnMoZWwudGFyZ2V0KVxuICApIHtcbiAgICBkcm9wZG93bkJ0bkhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzQW5pbWF0aW9uSWNvbik7XG4gICAgZWxlbUhpZGRlbihcbiAgICAgIGRyb3Bkb3duSGVhZGVyLFxuICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4sXG4gICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2VcbiAgICApO1xuICB9XG59KTtcblxuLy8gaGVhZGVyIC8vIG1lbnVcbmNvbnN0IG1lbnVIZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudScpO1xuY29uc3QgbmF2SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdicpO1xuY29uc3QgYnRuT3Blbk1lbnVIZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudS1vcGVuJyk7XG5jb25zdCBidG5DbG9zZU1lbnVIZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudS1jbG9zZScpO1xuXG5idG5PcGVuTWVudUhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZWxlbVZpc2libGUobWVudUhlYWRlciwgY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4sICdibG9jaycpO1xuICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8PSA2NjQpXG4gICAgZWxlbVZpc2libGUobmF2SGVhZGVyLCBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbiwgJ2Jsb2NrJyk7XG59KTtcbmJ0bkNsb3NlTWVudUhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZWxlbUhpZGRlbihcbiAgICBtZW51SGVhZGVyLFxuICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuLFxuICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25DbG9zZVxuICApO1xuICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8PSA2NjQpXG4gICAgZWxlbUhpZGRlbihcbiAgICAgIG5hdkhlYWRlcixcbiAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuLFxuICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bkNsb3NlXG4gICAgKTtcbn0pO1xuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlbCkgPT4ge1xuICBpZiAoXG4gICAgIWJ0bk9wZW5NZW51SGVhZGVyLmNvbnRhaW5zKGVsLnRhcmdldCkgJiZcbiAgICAhbWVudUhlYWRlci5jb250YWlucyhlbC50YXJnZXQpICYmXG4gICAgIW5hdkhlYWRlci5jb250YWlucyhlbC50YXJnZXQpXG4gICkge1xuICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDw9IDk5MilcbiAgICAgIGVsZW1IaWRkZW4oXG4gICAgICAgIG1lbnVIZWFkZXIsXG4gICAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuLFxuICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2VcbiAgICAgICk7XG4gICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPD0gNjY0KVxuICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgbmF2SGVhZGVyLFxuICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bkNsb3NlXG4gICAgICApO1xuICB9XG59KTtcblxuLy8gc2VjdGlvbi1iYW5uZXJcbmNvbnN0IHBvcHVwQmFubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jhbm5lci1wb3B1cCcpO1xuaWYgKHBvcHVwQmFubmVyKSB7XG4gIGNvbnN0IGJ0bnNCYW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi1iYW5uZXJfX3NsaWRlLWJ0bicpO1xuICBjb25zdCBidG5CYW5uZXJTTSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tYmFubmVyJyk7XG5cbiAgZnVuY3Rpb24gZXZlbnRCdG5Qb3B1cEJhbm5lcihidG4pIHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBlbGVtVmlzaWJsZShwb3B1cEJhbm5lciwgY2xhc3NBbmltYXRpb25WaXNpYmxlLCAnYmxvY2snKTtcbiAgICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZWxlbUhpZGRlbihwb3B1cEJhbm5lciwgY2xhc3NBbmltYXRpb25WaXNpYmxlLCBjbGFzc0FuaW1hdGlvbkhpZGRlbik7XG4gICAgICB9LCAyNjAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIGJ0bnNCYW5uZXIuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgZXZlbnRCdG5Qb3B1cEJhbm5lcihidG4pO1xuICAgIGZ1bmN0aW9uIGJ0bkJhbm5lclRleHRDb250ZW50KCkge1xuICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCAxMzIxKSB7XG4gICAgICAgIGJ0bi50ZXh0Q29udGVudCA9ICfQn9C+0LvRg9GH0LjRgtGMISc7XG4gICAgICB9XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgYnRuQmFubmVyVGV4dENvbnRlbnQoKSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGJ0bkJhbm5lclRleHRDb250ZW50KCkpO1xuICB9KTtcbiAgZXZlbnRCdG5Qb3B1cEJhbm5lcihidG5CYW5uZXJTTSk7XG59XG5cbi8vIHNlY3Rpb24tcmF0aW5nXG5jb25zdCBidG5SYXRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZS1nb29kcycpO1xuaWYgKGJ0blJhdGluZykge1xuICBjb25zdCBpdGVtUmF0aW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24tcmF0aW5nX19pdGVtLWNvbnRlbnQnKTtcblxuICBidG5SYXRpbmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaXRlbVJhdGluZy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUoaXRlbSkuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIGVsZW1WaXNpYmxlKGl0ZW0sIGNsYXNzQW5pbWF0aW9uTW9kYWxPcGVuLCAnYmxvY2snKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH0pO1xufVxuXG4vLyBzZWN0aW9uLWNhdGFsb2dcbmNvbnN0IHNlY3Rpb25DYXRhbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tY2F0YWxvZycpO1xuaWYgKHNlY3Rpb25DYXRhbG9nICYmIGxvY2F0aW9uLnNlYXJjaCA9PT0gJz9jYXRhbG9nJykge1xuICAvLyBzZWN0aW9uLWNhdGFsb2cgLy8gY2hlY2tib3gtYnRuXG4gIGNyZWF0ZUJ0bkFuZEhpZGluZ0l0ZW0oXG4gICAgOSxcbiAgICAnc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWNoZWNrYm94LWxpc3QnLFxuICAgICdzZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItY2hlY2tib3gtaXRlbScsXG4gICAgJ3NlY3Rpb24tY2F0YWxvZ19fc2lkZWJhci1jaGVja2JveC1idG4nLFxuICAgICdzZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItY2hlY2tib3gtaXRlbS1hY3RpdmUnXG4gICk7XG5cbiAgLy8gc2VjdGlvbi1jYXRhbG9nIC8vIENhdGVnb3J5IGFuZCBDb2xvclxuICBjb25zdCBuYW1lcGxhdGVGcm9tUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19oZWFkZXItbmFtZXBsYXRlLXByaWNlLTEnXG4gICk7XG4gIGNvbnN0IGxhYmVsQ2F0ZWdvcnkgPSAnLnNlY3Rpb24tY2F0YWxvZ19fc2lkZWJhci1sYWJlbC1jYXRlZ29yeSc7XG4gIGNvbnN0IG5hbWVwbGF0ZURpc2NvdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAnLnNlY3Rpb24tY2F0YWxvZ19faGVhZGVyLW5hbWVwbGF0ZS1kaXNjb3VudCdcbiAgKTtcbiAgY29uc3QgbGFiZWxDb2xvciA9ICcuc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWxhYmVsLWNvbG9yJztcblxuICBldmVudENoZWNrYm94TmFtZXBsYXRlKGxhYmVsQ2F0ZWdvcnksIG5hbWVwbGF0ZUZyb21QcmljZSwgJ2JlZm9yZWJlZ2luJyk7XG4gIGV2ZW50Q2hlY2tib3hOYW1lcGxhdGUobGFiZWxDb2xvciwgbmFtZXBsYXRlRGlzY291bnQsICdhZnRlcmVuZCcpO1xuXG4gIC8vIHNlY3Rpb24tY2F0YWxvZyAvLyBwcmljZVxuICBjb25zdCByYW5nZVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW5nZS1zbGlkZXInKTtcbiAgY29uc3QgaW5wdXRGcm9tUHJpY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lkZWJhci1pbnB1dC1mcm9tJyk7XG4gIGNvbnN0IGlucHV0QmVmb3JlUHJpY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lkZWJhci1pbnB1dC1iZWZvcmUnKTtcbiAgY29uc3QgdmFsdWVpbnB1dEZyb21QcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICd2YWx1ZS1zaWRlYmFyLWlucHV0LWZyb20nXG4gICk7XG4gIGNvbnN0IHZhbHVlaW5wdXRCZWZvcmVQcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICd2YWx1ZS1zaWRlYmFyLWlucHV0LWJlZm9yZSdcbiAgKTtcbiAgY29uc3QgbmFtZXBsYXRlQmVmb3JlUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19oZWFkZXItbmFtZXBsYXRlLXByaWNlLTInXG4gICk7XG4gIGNvbnN0IGJ0bkNsb3NlRnJvbVByaWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1jbG9zZS1wcmljZS1mcm9tJyk7XG4gIGNvbnN0IGJ0bkNsb3NlUHJpY2VCZWZvcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWNsb3NlLXByaWNlLWJlZm9yZScpO1xuICBjb25zdCBpbnB1dHMgPSBbaW5wdXRGcm9tUHJpY2UsIGlucHV0QmVmb3JlUHJpY2VdO1xuXG4gIGZ1bmN0aW9uIHRocm93VmFsdWVQcmljZShidG4sIGlucHV0LCBuYW1lcGxhdGUpIHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9ICcwJztcbiAgICAgIG5hbWVwbGF0ZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlOYW1lcGxhdGVQcmljZShidG4sIG5hbWVwbGF0ZSkge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgICBuYW1lcGxhdGUuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB9KTtcbiAgfVxuXG4gIG5vVWlTbGlkZXIuY3JlYXRlKHJhbmdlU2xpZGVyLCB7XG4gICAgc3RhcnQ6IFsyMDAwLCAxNTAwMDBdLFxuICAgIGNvbm5lY3Q6IHRydWUsXG4gICAgc3RlcDogNTAwLFxuICAgIHJhbmdlOiB7XG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDIzMDAwMCxcbiAgICB9LFxuICAgIGhhbmRsZUF0dHJpYnV0ZXM6IFt7ICdhcmlhLWxhYmVsJzogJ9CS0LvQtdCy0L4nIH0sIHsgJ2FyaWEtbGFiZWwnOiAn0JLQv9GA0LDQstC+JyB9XSxcbiAgfSk7XG5cbiAgcmFuZ2VTbGlkZXIubm9VaVNsaWRlci5vbigndXBkYXRlJywgZnVuY3Rpb24gKHZhbHVlcywgaGFuZGxlKSB7XG4gICAgaW5wdXRzW2hhbmRsZV0udmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlc1toYW5kbGVdKTtcbiAgfSk7XG4gIGNvbnN0IHNldFNsaWRlciA9IChpLCB2YWx1ZSkgPT4ge1xuICAgIGxldCBhcnIgPSBbbnVsbCwgbnVsbF07XG4gICAgYXJyW2ldID0gdmFsdWU7XG4gICAgcmFuZ2VTbGlkZXIubm9VaVNsaWRlci5zZXQoYXJyKTtcbiAgfTtcbiAgaW5wdXRzLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBzZXRTbGlkZXIoaW5kZXgsIGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgfSk7XG4gIH0pO1xuICByYW5nZVNsaWRlci5ub1VpU2xpZGVyLm9uKCd1cGRhdGUnLCBmdW5jdGlvbiAodmFsdWVzLCBoYW5kbGUpIHtcbiAgICBpbnB1dHNbaGFuZGxlXS5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKHZhbHVlc1toYW5kbGVdKTtcbiAgICB2YWx1ZWlucHV0RnJvbVByaWNlLmlubmVySFRNTCA9IE1hdGgucm91bmQodmFsdWVzWzBdKTtcbiAgICB2YWx1ZWlucHV0QmVmb3JlUHJpY2UuaW5uZXJIVE1MID0gTWF0aC5yb3VuZCh2YWx1ZXNbMV0pO1xuICB9KTtcblxuICBjb25zdCBidG5SYW5nZVNsaWRlckZyb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcjcmFuZ2Utc2xpZGVyIC5ub1VpLWhhbmRsZSdcbiAgKTtcbiAgY29uc3QgYnRuUmFuZ2VTbGlkZXJCZWZvcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcjcmFuZ2Utc2xpZGVyIC5ub1VpLWhhbmRsZS11cHBlcidcbiAgKTtcbiAgY29uc3QgcmFuZ2VTbGlkZXJMaW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JhbmdlLXNsaWRlciAubm9VaS1jb25uZWN0Jyk7XG5cbiAgdGhyb3dWYWx1ZVByaWNlKGJ0bkNsb3NlRnJvbVByaWNlLCBpbnB1dEZyb21QcmljZSwgbmFtZXBsYXRlRnJvbVByaWNlKTtcbiAgdGhyb3dWYWx1ZVByaWNlKGJ0bkNsb3NlUHJpY2VCZWZvcmUsIGlucHV0QmVmb3JlUHJpY2UsIG5hbWVwbGF0ZUJlZm9yZVByaWNlKTtcbiAgZGlzcGxheU5hbWVwbGF0ZVByaWNlKGlucHV0RnJvbVByaWNlLCBuYW1lcGxhdGVGcm9tUHJpY2UpO1xuICBkaXNwbGF5TmFtZXBsYXRlUHJpY2UoaW5wdXRCZWZvcmVQcmljZSwgbmFtZXBsYXRlQmVmb3JlUHJpY2UpO1xuICBkaXNwbGF5TmFtZXBsYXRlUHJpY2UoYnRuUmFuZ2VTbGlkZXJGcm9tLCBuYW1lcGxhdGVGcm9tUHJpY2UpO1xuICBkaXNwbGF5TmFtZXBsYXRlUHJpY2UoYnRuUmFuZ2VTbGlkZXJCZWZvcmUsIG5hbWVwbGF0ZUJlZm9yZVByaWNlKTtcblxuICBidG5SYW5nZVNsaWRlckZyb20uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgIHJhbmdlU2xpZGVyTGluZS5zdHlsZS5iYWNrZ3JvdW5kID0gJyM3MDMzQUMnO1xuICB9KTtcbiAgYnRuUmFuZ2VTbGlkZXJCZWZvcmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgIHJhbmdlU2xpZGVyTGluZS5zdHlsZS5iYWNrZ3JvdW5kID0gJyM3MDMzQUMnO1xuICB9KTtcbiAgYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB7XG4gICAgcmFuZ2VTbGlkZXJMaW5lLnN0eWxlLmJhY2tncm91bmQgPSAnI0E2NUNGMCc7XG4gIH0pO1xuICBidG5SYW5nZVNsaWRlckZyb20uYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoKSA9PiB7XG4gICAgcmFuZ2VTbGlkZXJMaW5lLnN0eWxlLmJhY2tncm91bmQgPSAnIzcwMzNBQyc7XG4gIH0pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hlY2tib3gtMjQnKS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICgpID0+IHtcbiAgICByYW5nZVNsaWRlckxpbmUuc3R5bGUuYmFja2dyb3VuZCA9ICcjQTY1Q0YwJztcbiAgfSk7XG5cbiAgLy8gc2VjdGlvbi1jYXRhbG9nIC8vIGRpc2NvdW50XG4gIGNvbnN0IGNoZWNrYm94RGlzY291bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWNoZWNrYm94LWRpc2NvdW50J1xuICApO1xuICBjb25zdCBuYW1lcGxhdGVEZXNjRGlzY291bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19oZWFkZXItbmFtZXBsYXRlLWRpc2NvdW50LWRlc2MnXG4gICk7XG4gIGNvbnN0IGJ0bkNsb3NlbmFtZXBsYXRlRGlzY291bnQgPVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tY2xvc2UtZGlzY291bnQnKTtcblxuICBjaGVja2JveERpc2NvdW50LmZvckVhY2goKGNoZWNib3gpID0+IHtcbiAgICBjaGVjYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgbmFtZXBsYXRlRGlzY291bnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgIG5hbWVwbGF0ZURlc2NEaXNjb3VudC50ZXh0Q29udGVudCA9IHRoaXMudmFsdWU7XG4gICAgfSk7XG4gIH0pO1xuICBidG5DbG9zZW5hbWVwbGF0ZURpc2NvdW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNoZWNrYm94RGlzY291bnQuZm9yRWFjaCgoY2hlY2tib3gpID0+IHtcbiAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgICBuYW1lcGxhdGVEaXNjb3VudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9KTtcblxuICAvLyBzZWN0aW9uLWNhdGFsb2cgLy8gZHJvcGRvd25cbiAgY29uc3QgYnRuc0Ryb3Bkb3duQ2F0YWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgJy5zZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItZHJvcGRvd24tYnRuJ1xuICApO1xuICBjb25zdCDRgWF0ZWdvcnlEcm9wZG93bkNhdGFsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWNoZWNrYm94LWxpc3Qt0YFhdGVnb3J5J1xuICApO1xuICBjb25zdCBwcmljZURyb3Bkb3duQ2F0YWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgJy5zZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItaW5wdXQtY29udGFpbmVyJ1xuICApO1xuICBjb25zdCBkaXNjb3VudERyb3Bkb3duQ2F0YWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgJy5zZWN0aW9uLWNhdGFsb2dfX3NpZGViYXItY2hlY2tib3gtbGlzdC1kaXNjb3VudCdcbiAgKTtcbiAgY29uc3QgY29sb3JEcm9wZG93bkNhdGFsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICcuc2VjdGlvbi1jYXRhbG9nX19zaWRlYmFyLWNoZWNrYm94LWxpc3QtY29sb3InXG4gICk7XG4gIGNvbnN0IGFycmF5RHJvcGRvd25DYXRhbG9nID0gW1xuICAgINGBYXRlZ29yeURyb3Bkb3duQ2F0YWxvZyxcbiAgICBwcmljZURyb3Bkb3duQ2F0YWxvZyxcbiAgICBkaXNjb3VudERyb3Bkb3duQ2F0YWxvZyxcbiAgICBjb2xvckRyb3Bkb3duQ2F0YWxvZyxcbiAgXTtcblxuICBidG5zRHJvcGRvd25DYXRhbG9nLmZvckVhY2goKGJ0biwgaW5kZXhCdG4pID0+IHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoYXJyYXlEcm9wZG93bkNhdGFsb2dbaW5kZXhCdG5dLnN0eWxlLmRpc3BsYXkgPT09ICdmbGV4Jykge1xuICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnYnRuLWFjdGl2ZScpO1xuICAgICAgICBlbGVtSGlkZGVuKFxuICAgICAgICAgIGFycmF5RHJvcGRvd25DYXRhbG9nW2luZGV4QnRuXSxcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2VcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdidG4tYWN0aXZlJyk7XG4gICAgICAgIGVsZW1WaXNpYmxlKFxuICAgICAgICAgIGFycmF5RHJvcGRvd25DYXRhbG9nW2luZGV4QnRuXSxcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgICAnZmxleCdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGVsKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgICFidG4uY29udGFpbnMoZWwudGFyZ2V0KSAmJlxuICAgICAgICAhYXJyYXlEcm9wZG93bkNhdGFsb2dbaW5kZXhCdG5dLmNvbnRhaW5zKGVsLnRhcmdldClcbiAgICAgICkge1xuICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8PSAxMzIwKSB7XG4gICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2J0bi1hY3RpdmUnKTtcbiAgICAgICAgICBlbGVtSGlkZGVuKFxuICAgICAgICAgICAgYXJyYXlEcm9wZG93bkNhdGFsb2dbaW5kZXhCdG5dLFxuICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bk9wZW4sXG4gICAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duQ2xvc2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIHNlY3Rpb24tY2F0YWxvZyAvLyB0YWJzXG4gIGNvbnN0IHRhYnNCdG5DYXRhbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAnLnNlY3Rpb24tY2F0YWxvZ19fdGFicy1idG4nXG4gICk7XG5cbiAgdGFic0J0bkNhdGFsb2cuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBwYXRoID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnBhdGg7XG4gICAgICBkb2N1bWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24tY2F0YWxvZ19fdGFicy1saXN0JylcbiAgICAgICAgLmZvckVhY2goKGxpc3QpID0+IHtcbiAgICAgICAgICBsaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ3NlY3Rpb24tY2F0YWxvZ19fdGFicy1saXN0LWFjdGl2ZScpO1xuICAgICAgICB9KTtcbiAgICAgIHRhYnNCdG5DYXRhbG9nLmZvckVhY2goKGFsbEJ0bikgPT5cbiAgICAgICAgYWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlY3Rpb24tY2F0YWxvZ19fdGFicy1idG4tYWN0aXZlJylcbiAgICAgICk7XG4gICAgICBkb2N1bWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFyZ2V0PVwiJHtwYXRofVwiXWApXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKCdzZWN0aW9uLWNhdGFsb2dfX3RhYnMtbGlzdC1hY3RpdmUnKTtcbiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdzZWN0aW9uLWNhdGFsb2dfX3RhYnMtYnRuLWFjdGl2ZScpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gc2VjdGlvbi1jYXJkIC8vIGZvcm0tbW9kYWwgJiAvLyBzZWN0aW9uLWRpc3BhdGNoIC8vIGZvcm1cbmNvbnN0IGJ0bkNhcmRPcGVuTW9kYWxGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmQtY29udGVudF9fYnRuJyk7XG5pZiAoYnRuQ2FyZE9wZW5Nb2RhbEZvcm0pIHtcbiAgY29uc3QgYnRuc0NhcmRPcGVuTW9kYWxGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQtY29udGVudF9fYnRuJyk7XG4gIGNvbnN0IGJ0blNwZWNpYWxPcGVuTW9kYWxGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAnLnNlY3Rpb24tc3BlY2lhbF9fY2FyZC1idG4nXG4gICk7XG4gIGNvbnN0IGJ0bkNhcmRPcGVuTW9kYWxGcm9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAnLnNlY3Rpb24tY2FyZF9fYnRuLW1haW4nXG4gICk7XG4gIGNvbnN0IGJveE1vZGFsRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtbW9kYWwtZm9ybScpO1xuICBjb25zdCBjb250YWluZXJNb2RhbEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyLW1vZGFsLWZvcm0nKTtcbiAgY29uc3QgYnRuQ2xvc2VNb2RhbEZyb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtbW9kYWwtZm9ybScpO1xuICBsZXQgYXJyYXlCdG5PcGVuTW9kYWxGb3JtID0gW107XG4gIGxldCBidG5jbGljaztcblxuICBidG5zQ2FyZE9wZW5Nb2RhbEZvcm0uZm9yRWFjaCgoZWwpID0+IGFycmF5QnRuT3Blbk1vZGFsRm9ybS5wdXNoKGVsKSk7XG4gIGlmIChidG5TcGVjaWFsT3Blbk1vZGFsRm9ybSlcbiAgICBidG5TcGVjaWFsT3Blbk1vZGFsRm9ybS5mb3JFYWNoKChlbCkgPT4gYXJyYXlCdG5PcGVuTW9kYWxGb3JtLnB1c2goZWwpKTtcbiAgaWYgKGJ0bkNhcmRPcGVuTW9kYWxGcm9tKSBhcnJheUJ0bk9wZW5Nb2RhbEZvcm0ucHVzaChidG5DYXJkT3Blbk1vZGFsRnJvbSk7XG5cbiAgYXJyYXlCdG5PcGVuTW9kYWxGb3JtLmZvckVhY2goKGJ0bikgPT4ge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGVsZW1WaXNpYmxlKGJveE1vZGFsRm9ybSwgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sICdmbGV4Jyk7XG4gICAgICBidG5jbGljayA9IHRoaXM7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZWwpID0+IHtcbiAgICBpZiAoYnRuY2xpY2sgIT09IHVuZGVmaW5lZClcbiAgICAgIGlmIChcbiAgICAgICAgIWJ0bmNsaWNrLmNvbnRhaW5zKGVsLnRhcmdldCkgJiZcbiAgICAgICAgIWNvbnRhaW5lck1vZGFsRm9ybS5jb250YWlucyhlbC50YXJnZXQpXG4gICAgICApXG4gICAgICAgIGVsZW1IaWRkZW4oXG4gICAgICAgICAgYm94TW9kYWxGb3JtLFxuICAgICAgICAgIGNsYXNzQW5pbWF0aW9uTW9kYWxPcGVuLFxuICAgICAgICAgIGNsYXNzQW5pbWF0aW9uTW9kYWxDbG9zZVxuICAgICAgICApO1xuICB9KTtcbiAgYnRuQ2xvc2VNb2RhbEZyb20uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PlxuICAgIGVsZW1IaWRkZW4oYm94TW9kYWxGb3JtLCBjbGFzc0FuaW1hdGlvbk1vZGFsT3BlbiwgY2xhc3NBbmltYXRpb25Nb2RhbENsb3NlKVxuICApO1xuXG4gIC8vIHNlY3Rpb24tY2FyZCAvLyBmb3JtIGFuZCAvLyBzZWN0aW9uLWRpc3BhdGNoIC8vIGZvcm1cbiAgY29uc3QgcG9wdXBSZXNwb25zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3B1cC1yZXNwb25zZScpO1xuICBjb25zdCBjb250YWluZXJQb3B1cFJlc3BvbnNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgJ2NvbnRhaW5lci1wb3B1cC1yZXNwb25zZSdcbiAgKTtcbiAgY29uc3QgZGVzY1BvcHVwUmVzcG9uc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudC1yZXNwb25zZScpO1xuICBjb25zdCBjbG9zZUJ0blBvcHVwUmVzcG9uc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtcG9wdXAtcmVzcG9uc2UnKTtcbiAgY29uc3QgZm9ybU1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tbW9kYWwnKTtcbiAgY29uc3QgZm9ybURpc3BhdGNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tZGlzcGF0Y2gnKTtcblxuICBmdW5jdGlvbiByZXNwb25zZVBvcHVwKHRleHQsIGlucHV0cykge1xuICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gKGlucHV0LnZhbHVlID0gJycpKTtcbiAgICBlbGVtVmlzaWJsZShwb3B1cFJlc3BvbnNlLCBjbGFzc0FuaW1hdGlvbk1vZGFsT3BlbiwgJ2ZsZXgnKTtcbiAgICBkZXNjUG9wdXBSZXNwb25zZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgY2xvc2VCdG5Qb3B1cFJlc3BvbnNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgcG9wdXBSZXNwb25zZSxcbiAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sXG4gICAgICAgIGNsYXNzQW5pbWF0aW9uTW9kYWxDbG9zZVxuICAgICAgKTtcbiAgICB9KTtcbiAgICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGVsKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgICFjb250YWluZXJQb3B1cFJlc3BvbnNlLmNvbnRhaW5zKGVsLnRhcmdldCkgJiZcbiAgICAgICAgIWJveE1vZGFsRm9ybS5jb250YWlucyhlbC50YXJnZXQpICYmXG4gICAgICAgICFmb3JtRGlzcGF0Y2guY29udGFpbnMoZWwudGFyZ2V0KVxuICAgICAgKSB7XG4gICAgICAgIGVsZW1IaWRkZW4oXG4gICAgICAgICAgcG9wdXBSZXNwb25zZSxcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbk1vZGFsT3BlbixcbiAgICAgICAgICBjbGFzc0FuaW1hdGlvbk1vZGFsQ2xvc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBldmVudElucHV0RnJvbShpbnB1dHMpIHtcbiAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2lucHV0LWFjdGl2ZScpO1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gJycpIHtcbiAgICAgICAgfSBlbHNlIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtYWN0aXZlJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChmb3JtTW9kYWwpIHtcbiAgICBjb25zdCBpbnB1dHNNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbC1mb3JtX19mb3JtLWlucHV0Jyk7XG4gICAgY29uc3QgdGVsSW5wdXRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWwtbW9kYWwnKTtcblxuICAgIGV2ZW50SW5wdXRGcm9tKGlucHV0c01vZGFsKTtcblxuICAgIGNvbnN0IHRlbE1hc2sgPSBuZXcgSW5wdXRtYXNrKCcrNyAoOTk5KS05OTktOTktOTknKTtcbiAgICB0ZWxNYXNrLm1hc2sodGVsSW5wdXRNb2RhbCk7XG5cbiAgICBuZXcgSnVzdFZhbGlkYXRlKCcjZm9ybS1tb2RhbCcsIHtcbiAgICAgIHJ1bGVzOiB7XG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICBtaW5MZW5ndGg6IDIsXG4gICAgICAgICAgbWF4TGVuZ3RoOiAyMCxcbiAgICAgICAgfSxcbiAgICAgICAgdGVsOiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgZnVuY3Rpb246IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGhvbmUgPSB0ZWxJbnB1dE1vZGFsLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCk7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHBob25lKSAmJiBwaG9uZS5sZW5ndGggPT09IDEwO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29sb3JXcm9uZzogJyNGRjY5NzInLFxuXG4gICAgICBzdWJtaXRIYW5kbGVyOiBmdW5jdGlvbiAoZm9ybSwgdmFsdWVzLCBhamF4KSB7XG4gICAgICAgIGFqYXgoe1xuICAgICAgICAgIHVybDogJy9waHAvZ2V0UG9zdFZhbHVlLnBocCcsXG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgZGF0YTogdmFsdWVzLFxuICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBlbGVtSGlkZGVuKFxuICAgICAgICAgICAgICBib3hNb2RhbEZvcm0sXG4gICAgICAgICAgICAgIGNsYXNzQW5pbWF0aW9uTW9kYWxPcGVuLFxuICAgICAgICAgICAgICBjbGFzc0FuaW1hdGlvbk1vZGFsQ2xvc2VcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXNwb25zZVBvcHVwKCfQodC/0LDRgdC40LHQviwg0LzRiyDQstCw0Lwg0L/QtdGA0LXQt9Cy0L7QvdC40LwhJywgaW5wdXRzTW9kYWwpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGVsZW1IaWRkZW4oXG4gICAgICAgICAgICAgIGJveE1vZGFsRm9ybSxcbiAgICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Nb2RhbE9wZW4sXG4gICAgICAgICAgICAgIGNsYXNzQW5pbWF0aW9uTW9kYWxDbG9zZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlc3BvbnNlUG9wdXAoJ9Ce0YjQuNCx0LrQsCDQvtGC0L/RgNCw0LLQutC4IScsIGlucHV0c01vZGFsKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBpZiAoZm9ybURpc3BhdGNoKSB7XG4gICAgY29uc3QgaW5wdXRzRGlzcGF0Y2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgJy5zZWN0aW9uLWRpc3BhdGNoX19mb3JtLWlucHV0J1xuICAgICk7XG4gICAgY29uc3QgdGVsSW5wdXREaXNwYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWwtZGlzcGF0Y2gnKTtcblxuICAgIGV2ZW50SW5wdXRGcm9tKGlucHV0c0Rpc3BhdGNoKTtcblxuICAgIGNvbnN0IHRlbE1hc2sgPSBuZXcgSW5wdXRtYXNrKCcrNyAoOTk5KS05OTktOTktOTknKTtcbiAgICB0ZWxNYXNrLm1hc2sodGVsSW5wdXREaXNwYXRjaCk7XG5cbiAgICBuZXcgSnVzdFZhbGlkYXRlKCcjZm9ybS1kaXNwYXRjaCcsIHtcbiAgICAgIHJ1bGVzOiB7XG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICBtaW5MZW5ndGg6IDIsXG4gICAgICAgICAgbWF4TGVuZ3RoOiAyMCxcbiAgICAgICAgfSxcbiAgICAgICAgdGVsOiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgZnVuY3Rpb246IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGhvbmUgPSB0ZWxJbnB1dERpc3BhdGNoLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCk7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHBob25lKSAmJiBwaG9uZS5sZW5ndGggPT09IDEwO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIG1haWw6IHtcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjb2xvcldyb25nOiAnI0ZGNjk3MicsXG5cbiAgICAgIHN1Ym1pdEhhbmRsZXI6IGZ1bmN0aW9uIChmb3JtLCB2YWx1ZXMsIGFqYXgpIHtcbiAgICAgICAgYWpheCh7XG4gICAgICAgICAgdXJsOiAnL3BocC9nZXRQb3N0VmFsdWUucGhwJyxcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBkYXRhOiB2YWx1ZXMsXG4gICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlUG9wdXAoJ9Ch0L/QsNGB0LjQsdC+LCDQvNGLINCy0LDQvCDQv9C10YDQtdC30LLQvtC90LjQvCEnLCBpbnB1dHNEaXNwYXRjaCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzcG9uc2VQb3B1cCgn0J7RiNC40LHQutCwINC+0YLQv9GA0LDQstC60LghJywgaW5wdXRzRGlzcGF0Y2gpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBzZWN0aW9uLWNhcmRcbmNvbnN0IHNlY3Rpb25DYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tY2FyZCcpO1xuaWYgKHNlY3Rpb25DYXJkICYmIGxvY2F0aW9uLnNlYXJjaCA9PT0gJz9jYXJkJykge1xuICBjb25zdCBidG5NYWluSW1nQ2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tbWFpbi1pbWctbW9kYWwnKTtcbiAgY29uc3QgYWxsSW1nTWFpbkNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICcuc2VjdGlvbi1jYXJkX19pbWctYm94LW1haW4nXG4gICk7XG4gIGNvbnN0IGJ0bnNTbGlkZUltZ0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi1jYXJkX19pbWctYnRuJyk7XG4gIGNvbnN0IG1vZGFsQ2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbC1jYXJkJyk7XG4gIGNvbnN0IGNvbnRhaW5lck1vZGFsQ2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXItbW9kYWwtY2FyZCcpO1xuICBjb25zdCBidG5DbG9zZU1vZGFsQ2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZS1tb2RhbC1jYXJkJyk7XG4gIGNvbnN0IGJ0bnNTbGlkZUltZ01vZGFsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgJy5tb2RhbC1jYXJkX190YWJzLWJ0bidcbiAgKTtcbiAgY29uc3QgYWxsSW1nTWFpbk1vZGFsQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbC1jYXJkX19pbWctYm94Jyk7XG5cbiAgZnVuY3Rpb24gZXZlbnRNb2RhbENhcmQoYnRucywgaW1hZ2VzKSB7XG4gICAgYnRucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0aGlzQnRuID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgY29uc3QgcGF0aCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5wYXRoO1xuXG4gICAgICAgIGJ0bnMuZm9yRWFjaCgoYWxsQnRuKSA9PiB7XG4gICAgICAgICAgYWxsQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgYWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2J0bi1zbGlkZS1kaXNhYmxlZCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgaW1hZ2VzLmZvckVhY2goKGltZykgPT4ge1xuICAgICAgICAgIGltZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIGltZy5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzQW5pbWF0aW9uVmlzaWJsZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXNCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzQnRuLmNsYXNzTGlzdC5hZGQoJ2J0bi1zbGlkZS1kaXNhYmxlZCcpO1xuICAgICAgICBlbGVtVmlzaWJsZShcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXJnZXQ9XCIke3BhdGh9XCJdYCksXG4gICAgICAgICAgY2xhc3NBbmltYXRpb25WaXNpYmxlLFxuICAgICAgICAgICdibG9jaydcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGV2ZW50TW9kYWxDYXJkKGJ0bnNTbGlkZUltZ0NhcmQsIGFsbEltZ01haW5DYXJkKTtcbiAgZXZlbnRNb2RhbENhcmQoYnRuc1NsaWRlSW1nTW9kYWxDYXJkLCBhbGxJbWdNYWluTW9kYWxDYXJkKTtcblxuICBidG5NYWluSW1nQ2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBlbGVtVmlzaWJsZShtb2RhbENhcmQsIGNsYXNzQW5pbWF0aW9uTW9kYWxPcGVuLCAnZmxleCcpO1xuXG4gICAgYnRuc1NsaWRlSW1nTW9kYWxDYXJkLmZvckVhY2goKGFsbEJ0bikgPT4ge1xuICAgICAgYWxsQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBhbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYnRuLXNsaWRlLWRpc2FibGVkJyk7XG4gICAgfSk7XG4gICAgYWxsSW1nTWFpbk1vZGFsQ2FyZC5mb3JFYWNoKChpbWcpID0+IHtcbiAgICAgIGltZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgaW1nLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NBbmltYXRpb25WaXNpYmxlKTtcbiAgICB9KTtcbiAgICBhbGxJbWdNYWluQ2FyZC5mb3JFYWNoKChpbWcpID0+IHtcbiAgICAgIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShpbWcpLmRpc3BsYXkgPT09ICdibG9jaycpIHtcbiAgICAgICAgY29uc3QgaW1nTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIGBbZGF0YS10YXJnZXQ9XCJpbWctbW9kYWwtJHtpbWcuZGF0YXNldC50YXJnZXQucmVwbGFjZSgvXFxEKy9nLCAnJyl9XCJdYFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBidG5Nb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYFtkYXRhLXBhdGg9XCJpbWctbW9kYWwtJHtpbWcuZGF0YXNldC50YXJnZXQucmVwbGFjZSgvXFxEKy9nLCAnJyl9XCJdYFxuICAgICAgICApO1xuXG4gICAgICAgIGJ0bk1vZGFsLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgYnRuTW9kYWwuY2xhc3NMaXN0LmFkZCgnYnRuLXNsaWRlLWRpc2FibGVkJyk7XG4gICAgICAgIGVsZW1WaXNpYmxlKGltZ01vZGFsLCBjbGFzc0FuaW1hdGlvblZpc2libGUsICdibG9jaycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgYnRuQ2xvc2VNb2RhbENhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZWxlbUhpZGRlbihtb2RhbENhcmQsIGNsYXNzQW5pbWF0aW9uTW9kYWxPcGVuLCBjbGFzc0FuaW1hdGlvbk1vZGFsQ2xvc2UpO1xuICB9KTtcbiAgYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlbCkgPT4ge1xuICAgIGlmIChcbiAgICAgICFidG5NYWluSW1nQ2FyZC5jb250YWlucyhlbC50YXJnZXQpICYmXG4gICAgICAhY29udGFpbmVyTW9kYWxDYXJkLmNvbnRhaW5zKGVsLnRhcmdldClcbiAgICApIHtcbiAgICAgIGVsZW1IaWRkZW4obW9kYWxDYXJkLCBjbGFzc0FuaW1hdGlvbk1vZGFsT3BlbiwgY2xhc3NBbmltYXRpb25Nb2RhbENsb3NlKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBjb250YWN0c1xuY29uc3QgbWFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpO1xuaWYgKG1hcCAmJiBsb2NhdGlvbi5zZWFyY2ggPT09ICc/Y29udGFjdHMnKSB7XG4gIGZ1bmN0aW9uIG1hcEFwaShzcmMpIHtcbiAgICBjb25zdCBsaW5rQXBpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwaU1hcCcpO1xuICAgIGNvbnN0IG1hcEVycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcC1lcnJvcicpO1xuICAgIG1hcEVycm9yLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgbGlua0FwaS5zcmMgPSBzcmM7XG4gICAgZmV0Y2goc3JjKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgY29uc3Qgc2VhcmNoQ29udGFjdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLWNvbnRhY3RzJyk7XG4gICAgICAgICAgY29uc3QgZHJvcGRvd25Db250YWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAnLnNlY3Rpb24tY29udGFjdHNfX2Zvcm0tZHJvcGRvd24nXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBmb3JtQ29udGFjdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybS1jb250YWN0cycpO1xuICAgICAgICAgIGNvbnN0IHBvcHVwQ29udGFjdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wdXAtY29udGFjdHMnKTtcbiAgICAgICAgICBsZXQgbXlQbGFjZW1hcmsxO1xuICAgICAgICAgIGxldCBteVBsYWNlbWFyazI7XG5cbiAgICAgICAgICBmdW5jdGlvbiBzZWFyY2hCYWxsb25NYXAodGl0bGUsIGFkZHJlc3MpIHtcbiAgICAgICAgICAgIGRyb3Bkb3duQ29udGFjdHMuaW5zZXJ0QWRqYWNlbnRIVE1MKFxuICAgICAgICAgICAgICAnYmVmb3JlZW5kJyxcbiAgICAgICAgICAgICAgYDxkaXYgY2xhc3M9XCJzZWN0aW9uLWNvbnRhY3RzX19mb3JtLWRyb3Bkb3duLWJ0blwiIHJvbGU9XCJvcHRpb25cIj48aDIgY2xhc3M9XCJzZWN0aW9uLWNvbnRhY3RzX19mb3JtLWRyb3Bkb3duLXRpdGxlXCI+JHt0aXRsZX08L2gyPjxhZGRyZXNzIGNsYXNzPVwic2VjdGlvbi1jb250YWN0c19fZm9ybS1kcm9wZG93bi1hZGRyZXNzXCI+JHthZGRyZXNzfTwvYWRkcmVzcz48L2Rpdj5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgZHJvcGRvd25CdG5zQ29udGFjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAgICAgICAnLnNlY3Rpb24tY29udGFjdHNfX2Zvcm0tZHJvcGRvd24tYnRuJ1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gYmFsbG9uT3BlbihwbGFjZW1hcmssIHBvcHVwKSB7XG4gICAgICAgICAgICAgIHBsYWNlbWFyay5iYWxsb29uLm9wZW4oKTtcbiAgICAgICAgICAgICAgcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGJhbGxvbkNsb3NlKHBsYWNlbWFya3MsIHBvcHVwLCBpbnB1dCkge1xuICAgICAgICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCdzZWN0aW9uLWNvbnRhY3RzX19mb3JtLXNlYXJjaC1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnc2VjdGlvbi1jb250YWN0c19fZm9ybS1zZWFyY2gtYWN0aXZlJyk7XG4gICAgICAgICAgICAgIH0sIDI1MDApO1xuICAgICAgICAgICAgICBwbGFjZW1hcmtzLmZvckVhY2goKHBsYWNlbWFyaykgPT4gcGxhY2VtYXJrLmJhbGxvb24uY2xvc2UoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBidG5Gb3JtQ2xpY2soKSB7XG4gICAgICAgICAgICAgIGZvcm1Db250YWN0cy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBkcm9wZG93bkJ0bnNDb250YWN0cy5mb3JFYWNoKFxuICAgICAgICAgICAgICAgICAgKGJ0bikgPT4gKGJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgICAgICAgICAgIGRyb3Bkb3duQ29udGFjdHMsXG4gICAgICAgICAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgICAgICAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25DbG9zZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaENvbnRhY3RzLnZhbHVlID09PSAn0JzQvtGB0LrQstCwLCBTaXREb3duUGxzINC90LAg0KHQvtC70Y/QvdC60LUnKVxuICAgICAgICAgICAgICAgICAgYmFsbG9uT3BlbihteVBsYWNlbWFyazEsIHBvcHVwQ29udGFjdHMpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgc2VhcmNoQ29udGFjdHMudmFsdWUgPT09ICfQnNC+0YHQutCy0LAsIFNpdERvd25QbHMg0L3QsCDQn9C+0LrRgNC+0LLQutC1J1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIGJhbGxvbk9wZW4obXlQbGFjZW1hcmsyLCBwb3B1cENvbnRhY3RzKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICBiYWxsb25DbG9zZShcbiAgICAgICAgICAgICAgICAgICAgW215UGxhY2VtYXJrMSwgbXlQbGFjZW1hcmsyXSxcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBDb250YWN0cyxcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoQ29udGFjdHNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWFyY2hDb250YWN0cy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdpbnB1dC1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgZm9yIChsZXQgc3ltYm9sIG9mIHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzeW1ib2wudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoc3ltYm9sKSB7XG4gICAgICAgICAgICAgICAgICBkcm9wZG93bkJ0bnNDb250YWN0cy5mb3JFYWNoKChidG4sIGJ0bkluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bi5pZCA9IGBkcm9wZG93bi1idG4tY29udGFjdC0ke2J0bkluZGV4ICsgMX1gO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkcm9wZG93bkJ0bkNvbnRhY3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgICAgICAgYCR7YnRuLmlkfWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoQ29udGVudENvbnRhY3RzID1cbiAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bkJ0bkNvbnRhY3RzLnRleHRDb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xccywuLV0vZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaENvbnRlbnRDb250YWN0cy5pbmRleE9mKHN5bWJvbCkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgIGJ0bi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICAgICAgICAgICAgICAgIGVsZW1WaXNpYmxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25Db250YWN0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Jsb2NrJ1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBidG4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRUaXRsZUNvbnRhY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGAjJHtidG4uaWR9IGgyYFxuICAgICAgICAgICAgICAgICAgICAgICkudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgc2VhcmNoQ29udGFjdHMudmFsdWUgPSBjb250ZW50VGl0bGVDb250YWN0cztcbiAgICAgICAgICAgICAgICAgICAgICBlbGVtSGlkZGVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25Db250YWN0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25PcGVuLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NBbmltYXRpb25Ecm9wZG93bkNsb3NlXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgZWxlbUhpZGRlbihcbiAgICAgICAgICAgICAgICAgIGRyb3Bkb3duQ29udGFjdHMsXG4gICAgICAgICAgICAgICAgICBjbGFzc0FuaW1hdGlvbkRyb3Bkb3duT3BlbixcbiAgICAgICAgICAgICAgICAgIGNsYXNzQW5pbWF0aW9uRHJvcGRvd25DbG9zZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnRuRm9ybUNsaWNrKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VhcmNoQmFsbG9uTWFwKFxuICAgICAgICAgICAgJ9Cc0L7RgdC60LLQsCwgU2l0RG93blBscyDQvdCwINCh0L7Qu9GP0L3QutC1JyxcbiAgICAgICAgICAgICfQvC4g0JrQuNGC0LDQuS3Qs9C+0YDQvtC0LCDRg9C7LiDQodC+0LvRj9C90LrQsCwg0LQuMjQnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZWFyY2hCYWxsb25NYXAoXG4gICAgICAgICAgICAn0JzQvtGB0LrQstCwLCBTaXREb3duUGxzINC90LAg0J/QvtC60YDQvtCy0LrQtScsXG4gICAgICAgICAgICAn0LwuINCa0YPRgNGB0LrQsNGPLCDRg9C7LiDQn9C+0LrRgNC+0LLQutCwLCDQtC4xNCdcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgeW1hcHMucmVhZHkoaW5pdCk7XG5cbiAgICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgbGV0IG15TWFwID0gbmV3IHltYXBzLk1hcCgnbWFwJywge1xuICAgICAgICAgICAgICBjZW50ZXI6IFs1NS43NTczNTM1ODU0MzI2NTQsIDM3LjYzNTAwMTI5ODk1MDE4Nl0sXG4gICAgICAgICAgICAgIHpvb206IDE0LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGJhbGxvbkNvbnRlbnQodGl0bGUsIGFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwicG9wdXAtY29udGFjdHNcIiByb2xlPVwidG9vbHRpcGVcIj48aDIgY2xhc3M9XCJwb3B1cC1jb250YWN0c19fdGl0bGVcIj4ke3RpdGxlfTwvaDI+PGFkZHJlc3MgY2xhc3M9XCJwb3B1cC1jb250YWN0c19fYWRkcmVzc1wiPiR7YWRkcmVzc308L2FkZHJlc3M+PGEgY2xhc3M9XCJwb3B1cC1jb250YWN0c19fdGVsIHRlbFwiIGhyZWY9XCJ0ZWw6Kzc0OTU4ODU0NTQ3XCIgYXJpYS1sYWJlbD1cItCa0L7QvdGC0LDQutGC0L3Ri9C5INC90L7QvNC10YAg0YLQtdC70LXRhNC+0L3QsFwiPjxzdmcgd2lkdGg9XCIyMlwiIGhlaWdodD1cIjIyXCIgdmlld0JveD1cIjAgMCAyMiAyMlwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTguMzQyNSAxNC4wOTgzQzE3LjIxNSAxNC4wOTgzIDE2LjEyNDIgMTMuOTE1IDE1LjEwNjcgMTMuNTg1QzE0Ljc4NTggMTMuNDc1IDE0LjQyODMgMTMuNTU3NSAxNC4xODA4IDEzLjgwNUwxMi43NDE3IDE1LjYxMDhDMTAuMTQ3NSAxNC4zNzMzIDcuNzE4MzMgMTIuMDM1OCA2LjQyNTgzIDkuMzVMOC4yMTMzMyA3LjgyODMzQzguNDYwODMgNy41NzE2NyA4LjUzNDE3IDcuMjE0MTcgOC40MzMzMyA2Ljg5MzMzQzguMDk0MTcgNS44NzU4MyA3LjkyIDQuNzg1IDcuOTIgMy42NTc1QzcuOTIgMy4xNjI1IDcuNTA3NSAyLjc1IDcuMDEyNSAyLjc1SDMuODQwODNDMy4zNDU4MyAyLjc1IDIuNzUgMi45NyAyLjc1IDMuNjU3NUMyLjc1IDEyLjE3MzMgOS44MzU4MyAxOS4yNSAxOC4zNDI1IDE5LjI1QzE4Ljk5MzMgMTkuMjUgMTkuMjUgMTguNjcyNSAxOS4yNSAxOC4xNjgzVjE1LjAwNThDMTkuMjUgMTQuNTEwOCAxOC44Mzc1IDE0LjA5ODMgMTguMzQyNSAxNC4wOTgzWlwiIGZpbGw9XCIjRkY4NjJGXCIgLz48L3N2Zz4rNyAoNDk1KSA4ODUtNDUtNDc8L2E+PGRpdiBjbGFzcz1cInBvcHVwLWNvbnRhY3RzX19kZXNjLXRpbWVcIj48c3BhbiBjbGFzcz1cInBvcHVwLWNvbnRhY3RzX19kZXNjLWFsZXJ0XCI+0KfQsNGB0Ysg0YDQsNCx0L7RgtGLOjwvc3Bhbj4g0YEgMTA6MDAg0LTQviAyMTowMDwvZGl2PjxkaXYgY2xhc3M9XCJwb3B1cC1jb250YWN0c19fZGVzY1wiPjxzcGFuIGNsYXNzPVwicG9wdXAtY29udGFjdHNfX2Rlc2MtYWxlcnRcIj7Qp9GC0L4g0LfQtNC10YHRjDo8L3NwYW4+INGI0L7Rg9GA0YPQvCwg0L/Rg9C90LrRgiDQvtGC0LPRgNGD0LfQutC4LCDQv9GD0L3QutGCINCy0YvQtNCw0YfQuCwg0L/Rg9C90LrRgiDQvtCx0LzQtdC90LAt0LLQvtC30LLRgNCw0YLQsCwg0YHQtdGA0LLQuNGB0L3Ri9C5INGG0LXQvdGC0YA8L2Rpdj48L2Rpdj5gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcGxhY2VtYXJrSWNvbkJhbGxvbiA9IHtcbiAgICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgICAgICAgICBpY29uSW1hZ2VIcmVmOiAnaW1nL2Zhdmljb24vcGxhY2VtYXJrLnN2ZycsXG4gICAgICAgICAgICAgIGljb25JbWFnZVNpemU6IFszMiwgMjFdLFxuICAgICAgICAgICAgICBoaWRlSWNvbk9uQmFsbG9vbk9wZW46IGZhbHNlLFxuICAgICAgICAgICAgICBiYWxsb29uT2Zmc2V0OiBbLTExMCwgLTQyXSxcbiAgICAgICAgICAgICAgYmFsbG9vblBhbmVsTWF4TWFwQXJlYTogMCxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChzY3JlZW4ud2lkdGggPCA2NjQpIHtcbiAgICAgICAgICAgICAgcGxhY2VtYXJrSWNvbkJhbGxvbi5iYWxsb29uT2Zmc2V0ID0gWy01NSwgLTQyXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbXlQbGFjZW1hcmsxID0gbmV3IHltYXBzLlBsYWNlbWFyayhcbiAgICAgICAgICAgICAgWzU1Ljc1MDYxNTU2ODk5MzI3NSwgMzcuNjQxODA4OTk5OTk5OTVdLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmFsbG9vbkNvbnRlbnQ6IGJhbGxvbkNvbnRlbnQoXG4gICAgICAgICAgICAgICAgICAnU2l0RG93blBscyDQvdCwINCh0L7Qu9GP0L3QutC1JyxcbiAgICAgICAgICAgICAgICAgICfQvC4g0JrQuNGC0LDQuS3Qs9C+0YDQvtC0LCDRg9C7LiDQodC+0LvRj9C90LrQsCwg0LQuMjQnXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcGxhY2VtYXJrSWNvbkJhbGxvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG15UGxhY2VtYXJrMiA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoXG4gICAgICAgICAgICAgIFs1NS43NjIyNjA3MDEyNTQ0NCwgMzcuNjUzNTg4NDM1ODcyMDZdLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmFsbG9vbkNvbnRlbnQ6IGJhbGxvbkNvbnRlbnQoXG4gICAgICAgICAgICAgICAgICAnU2l0RG93blBscyDQvdCwINCf0L7QutGA0L7QstC60LUnLFxuICAgICAgICAgICAgICAgICAgJ9C8LiDQmtGD0YDRgdC60LDRjywg0YPQuy4g0J/QvtC60YDQvtCy0LrQsCwg0LQuMTQnXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcGxhY2VtYXJrSWNvbkJhbGxvblxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmsxKTtcbiAgICAgICAgICAgIG15TWFwLmdlb09iamVjdHMuYWRkKG15UGxhY2VtYXJrMik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIG1hcEVycm9yLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICB9KTtcbiAgfVxuICBtYXBBcGkoJ2h0dHBzOi8vYXBpLW1hcHMueWFuZGV4LnJ1LzIuMS8/YXBpa2V5PdCy0LDRiEFQSS3QutC70Y7RhyZsYW5nPXJ1X1JVJyk7XG59XG4iXX0=
